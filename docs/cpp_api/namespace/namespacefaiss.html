

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Namespace faiss &mdash; Faiss  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/tabs.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Namespace faiss::gpu" href="namespacefaiss_1_1gpu.html" />
    <link rel="prev" title="Namespace list" href="../namespacelist.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Faiss
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/facebookresearch/faiss/wiki">Wiki</a></li>
</ul>
<p class="caption"><span class="caption-text">C++ API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../classlist.html">Class list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filelist.html">File list</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../namespacelist.html">Namespace list</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Namespace faiss</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacefaiss_1_1gpu.html">Namespace faiss::gpu</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacefaiss_1_1gpu_1_1utils.html">Namespace faiss::gpu::utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacefaiss_1_1ivflib.html">Namespace faiss::ivflib</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacefaiss_1_1quantize__lut.html">Namespace faiss::quantize_lut</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../structlist.html">Struct list</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Faiss</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../namespacelist.html">Namespace list</a> &raquo;</li>
        
      <li>Namespace faiss</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/cpp_api/namespace/namespacefaiss.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="namespace-faiss">
<h1>Namespace faiss<a class="headerlink" href="#namespace-faiss" title="Permalink to this headline">Â¶</a></h1>
<dl class="cpp type">
<dt id="_CPPv45faiss">
<span id="_CPPv35faiss"></span><span id="_CPPv25faiss"></span><span id="faiss"></span><span class="target" id="namespacefaiss"></span><em class="property">namespace </em><code class="sig-name descname">faiss</code><br /></dt>
<dd><p>Copyright (c) Facebook, Inc. and its affiliates.</p>
<p>This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.</p>
<p>Throughout the library, vectors are provided as float * pointers. Most algorithms can be optimized when several vectors are processed (added/searched) together in a batch. In this case, they are passed in as a matrix. When n vectors of size d are provided as float * x, component j of vector i is</p>
<p>x[ i * d + j ]</p>
<p>where 0 &lt;= i &lt; n and 0 &lt;= j &lt; d. In other words, matrices are always compact. When specifying the size of the matrix, we call it an n*d matrix, which implies a row-major storage.</p>
<p>Copyright (c) Facebook, Inc. and its affiliates.</p>
<p>This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree. I/O functions can read/write to a filename, a file handle or to an object that abstracts the medium.</p>
<p>The read functions return objects that should be deallocated with delete. All references within these objectes are owned by the object.</p>
<p>Copyright (c) Facebook, Inc. and its affiliates.</p>
<p>This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree. Definition of inverted lists + a few common classes that implement the interface.</p>
<p>Copyright (c) Facebook, Inc. and its affiliates.</p>
<p>This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree. Since IVF (inverted file) indexes are of so much use for large-scale use cases, we group a few functions related to them in this small library. Most functions work both on IndexIVFs and IndexIVFs embedded within an <a class="reference internal" href="../struct/structfaiss_1_1IndexPreTransform.html#structfaiss_1_1IndexPreTransform"><span class="std std-ref">IndexPreTransform</span></a>.</p>
<p>Copyright (c) Facebook, Inc. and its affiliates.</p>
<p>This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree.In this file are the implementations of extra metrics beyond L2 and inner product</p>
<p>Copyright (c) Facebook, Inc. and its affiliates.</p>
<p>This source code is licensed under the MIT license found in the LICENSE file in the root directory of this source tree. Defines a few objects that apply transformations to a set of vectors Often these are pre-processing steps. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Typedefs</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss13IndexReplicasE">
<span id="_CPPv3N5faiss13IndexReplicasE"></span><span id="_CPPv2N5faiss13IndexReplicasE"></span><span class="target" id="namespacefaiss_1af3735e1903da947aaa2d79389d4ddfd0"></span><em class="property">using </em><code class="sig-name descname">IndexReplicas</code> = <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate">IndexReplicasTemplate</a>&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19IndexBinaryReplicasE">
<span id="_CPPv3N5faiss19IndexBinaryReplicasE"></span><span id="_CPPv2N5faiss19IndexBinaryReplicasE"></span><span class="target" id="namespacefaiss_1a08035b3de4260d681099add5203fc045"></span><em class="property">using </em><code class="sig-name descname">IndexBinaryReplicas</code> = <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate">IndexReplicasTemplate</a>&lt;<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexShardsE">
<span id="_CPPv3N5faiss11IndexShardsE"></span><span id="_CPPv2N5faiss11IndexShardsE"></span><span class="target" id="namespacefaiss_1aa4027ffe4b83be8ed0ad09c287853d17"></span><em class="property">using </em><code class="sig-name descname">IndexShards</code> = <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate">IndexShardsTemplate</a>&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexBinaryShardsE">
<span id="_CPPv3N5faiss17IndexBinaryShardsE"></span><span id="_CPPv2N5faiss17IndexBinaryShardsE"></span><span class="target" id="namespacefaiss_1a1e3dccddbd9b1cbe722804bbb9b2fa99"></span><em class="property">using </em><code class="sig-name descname">IndexBinaryShards</code> = <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate">IndexShardsTemplate</a>&lt;<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss25ConcatenatedInvertedListsE">
<span id="_CPPv3N5faiss25ConcatenatedInvertedListsE"></span><span id="_CPPv2N5faiss25ConcatenatedInvertedListsE"></span><span class="target" id="namespacefaiss_1a6e5511ff3f78bfcab1530a6f215846c6"></span><em class="property">using </em><code class="sig-name descname">ConcatenatedInvertedLists</code> = <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedListsE" title="faiss::HStackInvertedLists">HStackInvertedLists</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss10IndexIDMapE">
<span id="_CPPv3N5faiss10IndexIDMapE"></span><span id="_CPPv2N5faiss10IndexIDMapE"></span><span class="target" id="namespacefaiss_1a73b36a88d6db5db6a15d165150e54348"></span><em class="property">using </em><code class="sig-name descname">IndexIDMap</code> = <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate">IndexIDMapTemplate</a>&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss16IndexBinaryIDMapE">
<span id="_CPPv3N5faiss16IndexBinaryIDMapE"></span><span id="_CPPv2N5faiss16IndexBinaryIDMapE"></span><span class="target" id="namespacefaiss_1a0fcd5b438dc8ed29fe802c9f86b5ed03"></span><em class="property">using </em><code class="sig-name descname">IndexBinaryIDMap</code> = <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate">IndexIDMapTemplate</a>&lt;<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexIDMap2E">
<span id="_CPPv3N5faiss11IndexIDMap2E"></span><span id="_CPPv2N5faiss11IndexIDMap2E"></span><span class="target" id="namespacefaiss_1aa08ba3d567937ac89a8a7e96ede18bc2"></span><em class="property">using </em><code class="sig-name descname">IndexIDMap2</code> = <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss19IndexIDMap2TemplateE" title="faiss::IndexIDMap2Template">IndexIDMap2Template</a>&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexBinaryIDMap2E">
<span id="_CPPv3N5faiss17IndexBinaryIDMap2E"></span><span id="_CPPv2N5faiss17IndexBinaryIDMap2E"></span><span class="target" id="namespacefaiss_1abb449fb7eb62ff35c48165c965621d10"></span><em class="property">using </em><code class="sig-name descname">IndexBinaryIDMap2</code> = <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss19IndexIDMap2TemplateE" title="faiss::IndexIDMap2Template">IndexIDMap2Template</a>&lt;<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss21float_minheap_array_tE">
<span id="_CPPv3N5faiss21float_minheap_array_tE"></span><span id="_CPPv2N5faiss21float_minheap_array_tE"></span><span id="faiss::float_minheap_array_t"></span><span class="target" id="namespacefaiss_1ae0c5f7d2638acf960a3b98e7fd8c1167"></span><em class="property">typedef </em><a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9HeapArrayE" title="faiss::HeapArray">HeapArray</a>&lt;<a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMinE" title="faiss::CMin">CMin</a>&lt;float, int64_t&gt;&gt; <code class="sig-name descname">float_minheap_array_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19int_minheap_array_tE">
<span id="_CPPv3N5faiss19int_minheap_array_tE"></span><span id="_CPPv2N5faiss19int_minheap_array_tE"></span><span id="faiss::int_minheap_array_t"></span><span class="target" id="namespacefaiss_1a17c03ceef680b86f30abf40c359f0b6c"></span><em class="property">typedef </em><a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9HeapArrayE" title="faiss::HeapArray">HeapArray</a>&lt;<a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMinE" title="faiss::CMin">CMin</a>&lt;int, int64_t&gt;&gt; <code class="sig-name descname">int_minheap_array_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss21float_maxheap_array_tE">
<span id="_CPPv3N5faiss21float_maxheap_array_tE"></span><span id="_CPPv2N5faiss21float_maxheap_array_tE"></span><span id="faiss::float_maxheap_array_t"></span><span class="target" id="namespacefaiss_1a3d829413dc05d84f9564a4fa8d831456"></span><em class="property">typedef </em><a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9HeapArrayE" title="faiss::HeapArray">HeapArray</a>&lt;<a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMaxE" title="faiss::CMax">CMax</a>&lt;float, int64_t&gt;&gt; <code class="sig-name descname">float_maxheap_array_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19int_maxheap_array_tE">
<span id="_CPPv3N5faiss19int_maxheap_array_tE"></span><span id="_CPPv2N5faiss19int_maxheap_array_tE"></span><span id="faiss::int_maxheap_array_t"></span><span class="target" id="namespacefaiss_1a4bd3ab42c7aaf074f798553a68eacd52"></span><em class="property">typedef </em><a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9HeapArrayE" title="faiss::HeapArray">HeapArray</a>&lt;<a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMaxE" title="faiss::CMax">CMax</a>&lt;int, int64_t&gt;&gt; <code class="sig-name descname">int_maxheap_array_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Enums</p>
<dl class="cpp enum">
<dt id="_CPPv4N5faiss10MetricTypeE">
<span id="_CPPv3N5faiss10MetricTypeE"></span><span id="_CPPv2N5faiss10MetricTypeE"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752c"></span><em class="property">enum </em><code class="sig-name descname">MetricType</code><br /></dt>
<dd><p>The metric space for vector comparison for Faiss indices and algorithms.</p>
<p>Most algorithms support both inner product and L2, with the flat (brute-force) indices supporting additional metric types for vector comparison. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss10MetricType20METRIC_INNER_PRODUCTE">
<span id="_CPPv3N5faiss10MetricType20METRIC_INNER_PRODUCTE"></span><span id="_CPPv2N5faiss10MetricType20METRIC_INNER_PRODUCTE"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752ca96ba216fbb3b4e586edf26637d61c7b2"></span><em class="property">enumerator </em><code class="sig-name descname">METRIC_INNER_PRODUCT</code><br /></dt>
<dd><p>maximum inner product search </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss10MetricType9METRIC_L2E">
<span id="_CPPv3N5faiss10MetricType9METRIC_L2E"></span><span id="_CPPv2N5faiss10MetricType9METRIC_L2E"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752cace9aa175fe11f346aa0a70df58977ff1"></span><em class="property">enumerator </em><code class="sig-name descname">METRIC_L2</code><br /></dt>
<dd><p>squared L2 search </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss10MetricType9METRIC_L1E">
<span id="_CPPv3N5faiss10MetricType9METRIC_L1E"></span><span id="_CPPv2N5faiss10MetricType9METRIC_L1E"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752cad1ccd4c5874f8d03f77227b40e4777df"></span><em class="property">enumerator </em><code class="sig-name descname">METRIC_L1</code><br /></dt>
<dd><p>L1 (aka cityblock) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss10MetricType11METRIC_LinfE">
<span id="_CPPv3N5faiss10MetricType11METRIC_LinfE"></span><span id="_CPPv2N5faiss10MetricType11METRIC_LinfE"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752ca6eefdfaded6b0f0c51ed3a91acff01c3"></span><em class="property">enumerator </em><code class="sig-name descname">METRIC_Linf</code><br /></dt>
<dd><p>infinity distance </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss10MetricType9METRIC_LpE">
<span id="_CPPv3N5faiss10MetricType9METRIC_LpE"></span><span id="_CPPv2N5faiss10MetricType9METRIC_LpE"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752ca948cb1a3b5ec11c028c0be6a5dbd908c"></span><em class="property">enumerator </em><code class="sig-name descname">METRIC_Lp</code><br /></dt>
<dd><p>L_p distance, p is given by a <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">faiss::Index</span></a> metric_arg </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss10MetricType15METRIC_CanberraE">
<span id="_CPPv3N5faiss10MetricType15METRIC_CanberraE"></span><span id="_CPPv2N5faiss10MetricType15METRIC_CanberraE"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752caf4e931a0d14ac0d0acd8cc74504df12a"></span><em class="property">enumerator </em><code class="sig-name descname">METRIC_Canberra</code><br /></dt>
<dd><p>some additional metrics defined in scipy.spatial.distance </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss10MetricType17METRIC_BrayCurtisE">
<span id="_CPPv3N5faiss10MetricType17METRIC_BrayCurtisE"></span><span id="_CPPv2N5faiss10MetricType17METRIC_BrayCurtisE"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752caeaa8e44a2c8ecdc7a84a9d052da8b9ea"></span><em class="property">enumerator </em><code class="sig-name descname">METRIC_BrayCurtis</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss10MetricType20METRIC_JensenShannonE">
<span id="_CPPv3N5faiss10MetricType20METRIC_JensenShannonE"></span><span id="_CPPv2N5faiss10MetricType20METRIC_JensenShannonE"></span><span class="target" id="namespacefaiss_1afd12191c638da74760ff397cf319752ca0ed6b1105d1f075fb996657320bed012"></span><em class="property">enumerator </em><code class="sig-name descname">METRIC_JensenShannon</code><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11clone_indexEPK5Index">
<span id="_CPPv3N5faiss11clone_indexEPK5Index"></span><span id="_CPPv2N5faiss11clone_indexEPK5Index"></span><span id="faiss::clone_index__IndexCP"></span><span class="target" id="namespacefaiss_1a71dedb2a0d42fcaf8348a30112401069"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17kmeans_clusteringE6size_t6size_t6size_tPKfPf">
<span id="_CPPv3N5faiss17kmeans_clusteringE6size_t6size_t6size_tPKfPf"></span><span id="_CPPv2N5faiss17kmeans_clusteringE6size_t6size_t6size_tPKfPf"></span><span id="faiss::kmeans_clustering__s.s.s.floatCP.floatP"></span><span class="target" id="namespacefaiss_1a38bd0dde8a1b229201a5fcb64d05daa6"></span>float <code class="sig-name descname">kmeans_clustering</code><span class="sig-paren">(</span>size_t <em>d</em>, size_t <em>n</em>, size_t <em>k</em>, <em class="property">const</em> float *<em>x</em>, float *<em>centroids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>simplified interface</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>final quantization error </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimension of the data </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>: nb of output centroids </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training set (size n * d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroids</span></code>: output centroids (size k * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13index_factoryEiPKc10MetricType">
<span id="_CPPv3N5faiss13index_factoryEiPKc10MetricType"></span><span id="_CPPv2N5faiss13index_factoryEiPKc10MetricType"></span><span id="faiss::index_factory__i.cCP.MetricType"></span><span class="target" id="namespacefaiss_1aca8ad1aa3df4582ddb46b41db8285b00"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index_factory</code><span class="sig-paren">(</span>int <em>d</em>, <em class="property">const</em> char *<em>description</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd><p>Build and index with the sequence of processing steps described in the string. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20index_binary_factoryEiPKc">
<span id="_CPPv3N5faiss20index_binary_factoryEiPKc"></span><span id="_CPPv2N5faiss20index_binary_factoryEiPKc"></span><span id="faiss::index_binary_factory__i.cCP"></span><span class="target" id="namespacefaiss_1a550ef4d89215226f02adad8f161457cf"></span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<code class="sig-name descname">index_binary_factory</code><span class="sig-paren">(</span>int <em>d</em>, <em class="property">const</em> char *<em>description</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11write_indexEPK5IndexPKc">
<span id="_CPPv3N5faiss11write_indexEPK5IndexPKc"></span><span id="_CPPv2N5faiss11write_indexEPK5IndexPKc"></span><span id="faiss::write_index__IndexCP.cCP"></span><span class="target" id="namespacefaiss_1aa41490abaa2dad0dd2131150ed99ef8d"></span>void <code class="sig-name descname">write_index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>idx</em>, <em class="property">const</em> char *<em>fname</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11write_indexEPK5IndexP4FILE">
<span id="_CPPv3N5faiss11write_indexEPK5IndexP4FILE"></span><span id="_CPPv2N5faiss11write_indexEPK5IndexP4FILE"></span><span id="faiss::write_index__IndexCP.FILEP"></span><span class="target" id="namespacefaiss_1add675e330da6a82b27101862206de6c2"></span>void <code class="sig-name descname">write_index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>idx</em>, FILE *<em>f</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11write_indexEPK5IndexP8IOWriter">
<span id="_CPPv3N5faiss11write_indexEPK5IndexP8IOWriter"></span><span id="_CPPv2N5faiss11write_indexEPK5IndexP8IOWriter"></span><span id="faiss::write_index__IndexCP.IOWriterP"></span><span class="target" id="namespacefaiss_1a3a8129dcbf07c731ae1b3fbb6ed7df73"></span>void <code class="sig-name descname">write_index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>idx</em>, IOWriter *<em>writer</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18write_index_binaryEPK11IndexBinaryPKc">
<span id="_CPPv3N5faiss18write_index_binaryEPK11IndexBinaryPKc"></span><span id="_CPPv2N5faiss18write_index_binaryEPK11IndexBinaryPKc"></span><span id="faiss::write_index_binary__IndexBinaryCP.cCP"></span><span class="target" id="namespacefaiss_1a61da4238a64561284de20324b93314bb"></span>void <code class="sig-name descname">write_index_binary</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<em>idx</em>, <em class="property">const</em> char *<em>fname</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18write_index_binaryEPK11IndexBinaryP4FILE">
<span id="_CPPv3N5faiss18write_index_binaryEPK11IndexBinaryP4FILE"></span><span id="_CPPv2N5faiss18write_index_binaryEPK11IndexBinaryP4FILE"></span><span id="faiss::write_index_binary__IndexBinaryCP.FILEP"></span><span class="target" id="namespacefaiss_1a2ac354e079e69777c2a3f4ce205372ce"></span>void <code class="sig-name descname">write_index_binary</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<em>idx</em>, FILE *<em>f</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18write_index_binaryEPK11IndexBinaryP8IOWriter">
<span id="_CPPv3N5faiss18write_index_binaryEPK11IndexBinaryP8IOWriter"></span><span id="_CPPv2N5faiss18write_index_binaryEPK11IndexBinaryP8IOWriter"></span><span id="faiss::write_index_binary__IndexBinaryCP.IOWriterP"></span><span class="target" id="namespacefaiss_1af2b88a1a1d4ac1d78493f085cacfb456"></span>void <code class="sig-name descname">write_index_binary</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<em>idx</em>, IOWriter *<em>writer</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10read_indexEPKci">
<span id="_CPPv3N5faiss10read_indexEPKci"></span><span id="_CPPv2N5faiss10read_indexEPKci"></span><span id="faiss::read_index__cCP.i"></span><span class="target" id="namespacefaiss_1a9f92542b9b15adc994f54ef6b3902af8"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">read_index</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fname</em>, int <em>io_flags</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10read_indexEP4FILEi">
<span id="_CPPv3N5faiss10read_indexEP4FILEi"></span><span id="_CPPv2N5faiss10read_indexEP4FILEi"></span><span id="faiss::read_index__FILEP.i"></span><span class="target" id="namespacefaiss_1ac275376d59e3a50eec08c6ea47cc0e83"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">read_index</code><span class="sig-paren">(</span>FILE *<em>f</em>, int <em>io_flags</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10read_indexEP8IOReaderi">
<span id="_CPPv3N5faiss10read_indexEP8IOReaderi"></span><span id="_CPPv2N5faiss10read_indexEP8IOReaderi"></span><span id="faiss::read_index__IOReaderP.i"></span><span class="target" id="namespacefaiss_1a5f7757d2c9efb4b33e03adf392338a3a"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">read_index</code><span class="sig-paren">(</span>IOReader *<em>reader</em>, int <em>io_flags</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17read_index_binaryEPKci">
<span id="_CPPv3N5faiss17read_index_binaryEPKci"></span><span id="_CPPv2N5faiss17read_index_binaryEPKci"></span><span id="faiss::read_index_binary__cCP.i"></span><span class="target" id="namespacefaiss_1af6c571991d95301f78487c231ffade57"></span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<code class="sig-name descname">read_index_binary</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fname</em>, int <em>io_flags</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17read_index_binaryEP4FILEi">
<span id="_CPPv3N5faiss17read_index_binaryEP4FILEi"></span><span id="_CPPv2N5faiss17read_index_binaryEP4FILEi"></span><span id="faiss::read_index_binary__FILEP.i"></span><span class="target" id="namespacefaiss_1a38d8255e46b834d2ca23bc926c1fbb6f"></span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<code class="sig-name descname">read_index_binary</code><span class="sig-paren">(</span>FILE *<em>f</em>, int <em>io_flags</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17read_index_binaryEP8IOReaderi">
<span id="_CPPv3N5faiss17read_index_binaryEP8IOReaderi"></span><span id="_CPPv2N5faiss17read_index_binaryEP8IOReaderi"></span><span id="faiss::read_index_binary__IOReaderP.i"></span><span class="target" id="namespacefaiss_1abfceef97b9853955e1e81d922076001c"></span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<code class="sig-name descname">read_index_binary</code><span class="sig-paren">(</span>IOReader *<em>reader</em>, int <em>io_flags</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21write_VectorTransformEPK15VectorTransformPKc">
<span id="_CPPv3N5faiss21write_VectorTransformEPK15VectorTransformPKc"></span><span id="_CPPv2N5faiss21write_VectorTransformEPK15VectorTransformPKc"></span><span id="faiss::write_VectorTransform__VectorTransformCP.cCP"></span><span class="target" id="namespacefaiss_1ad72efd9404a8058159f1ae48225a2d94"></span>void <code class="sig-name descname">write_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<em>vt</em>, <em class="property">const</em> char *<em>fname</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20read_VectorTransformEPKc">
<span id="_CPPv3N5faiss20read_VectorTransformEPKc"></span><span id="_CPPv2N5faiss20read_VectorTransformEPKc"></span><span id="faiss::read_VectorTransform__cCP"></span><span class="target" id="namespacefaiss_1a220b5d46772f1659de69061c976916f4"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">read_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fname</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21read_ProductQuantizerEPKc">
<span id="_CPPv3N5faiss21read_ProductQuantizerEPKc"></span><span id="_CPPv2N5faiss21read_ProductQuantizerEPKc"></span><span id="faiss::read_ProductQuantizer__cCP"></span><span class="target" id="namespacefaiss_1a424578a3c798b4f0deb428ca777882b6"></span>ProductQuantizer *<code class="sig-name descname">read_ProductQuantizer</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fname</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21read_ProductQuantizerEP8IOReader">
<span id="_CPPv3N5faiss21read_ProductQuantizerEP8IOReader"></span><span id="_CPPv2N5faiss21read_ProductQuantizerEP8IOReader"></span><span id="faiss::read_ProductQuantizer__IOReaderP"></span><span class="target" id="namespacefaiss_1a744fe50a3410862d1c282f0c8d779231"></span>ProductQuantizer *<code class="sig-name descname">read_ProductQuantizer</code><span class="sig-paren">(</span>IOReader *<em>reader</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22write_ProductQuantizerEPK16ProductQuantizerPKc">
<span id="_CPPv3N5faiss22write_ProductQuantizerEPK16ProductQuantizerPKc"></span><span id="_CPPv2N5faiss22write_ProductQuantizerEPK16ProductQuantizerPKc"></span><span id="faiss::write_ProductQuantizer__ProductQuantizerCP.cCP"></span><span class="target" id="namespacefaiss_1aeecb2752b0d13ace2d17ebc0189e9ea3"></span>void <code class="sig-name descname">write_ProductQuantizer</code><span class="sig-paren">(</span><em class="property">const</em> ProductQuantizer *<em>pq</em>, <em class="property">const</em> char *<em>fname</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22write_ProductQuantizerEPK16ProductQuantizerP8IOWriter">
<span id="_CPPv3N5faiss22write_ProductQuantizerEPK16ProductQuantizerP8IOWriter"></span><span id="_CPPv2N5faiss22write_ProductQuantizerEPK16ProductQuantizerP8IOWriter"></span><span id="faiss::write_ProductQuantizer__ProductQuantizerCP.IOWriterP"></span><span class="target" id="namespacefaiss_1adbd20721104c8523bbc53d82f839b03c"></span>void <code class="sig-name descname">write_ProductQuantizer</code><span class="sig-paren">(</span><em class="property">const</em> ProductQuantizer *<em>pq</em>, IOWriter *<em>f</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19write_InvertedListsEPK13InvertedListsP8IOWriter">
<span id="_CPPv3N5faiss19write_InvertedListsEPK13InvertedListsP8IOWriter"></span><span id="_CPPv2N5faiss19write_InvertedListsEPK13InvertedListsP8IOWriter"></span><span id="faiss::write_InvertedLists__InvertedListsCP.IOWriterP"></span><span class="target" id="namespacefaiss_1aceed566acb3d5edfa90c70198ba5d962"></span>void <code class="sig-name descname">write_InvertedLists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>ils</em>, IOWriter *<em>f</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18read_InvertedListsEP8IOReaderi">
<span id="_CPPv3N5faiss18read_InvertedListsEP8IOReaderi"></span><span id="_CPPv2N5faiss18read_InvertedListsEP8IOReaderi"></span><span id="faiss::read_InvertedLists__IOReaderP.i"></span><span class="target" id="namespacefaiss_1ada48910294697ded009a42677f92beeb"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">read_InvertedLists</code><span class="sig-paren">(</span>IOReader *<em>reader</em>, int <em>io_flags</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss34initialize_IVFPQ_precomputed_tableERiPK5IndexRK16ProductQuantizerR12AlignedTableIfEb">
<span id="_CPPv3N5faiss34initialize_IVFPQ_precomputed_tableERiPK5IndexRK16ProductQuantizerR12AlignedTableIfEb"></span><span id="_CPPv2N5faiss34initialize_IVFPQ_precomputed_tableERiPK5IndexRK16ProductQuantizerR12AlignedTableIfEb"></span><span id="faiss::initialize_IVFPQ_precomputed_table__iR.IndexCP.ProductQuantizerCR.AlignedTable:float:R.b"></span><span class="target" id="namespacefaiss_1a08f648e8a7cb35af103a982fee81986e"></span>void <code class="sig-name descname">initialize_IVFPQ_precomputed_table</code><span class="sig-paren">(</span>int &amp;<em>use_precomputed_table</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, <em class="property">const</em> ProductQuantizer &amp;<em>pq</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;float&gt; &amp;<em>precomputed_table</em>, bool <em>verbose</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Pre-compute distance tables for IVFPQ with by-residual and METRIC_L2</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">use_precomputed_table</span></code>: (I/O) =-1: force disable =0: decide heuristically (default: use tables only if they are &lt; precomputed_tables_max_bytes), set use_precomputed_table on output =1: tables that work for all quantizers (size 256 * nlist * M) =2: specific version for <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer.html#structfaiss_1_1MultiIndexQuantizer"><span class="std std-ref">MultiIndexQuantizer</span></a> (much more compact) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">precomputed_table</span></code>: precomputed table to intialize </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8lo_buildE8uint64_t8uint64_t">
<span id="_CPPv3N5faiss8lo_buildE8uint64_t8uint64_t"></span><span id="_CPPv2N5faiss8lo_buildE8uint64_t8uint64_t"></span><span id="faiss::lo_build__uint64_t.uint64_t"></span><span class="target" id="namespacefaiss_1aaa38f721404f4610f50d04ab0a01ad28"></span>uint64_t <code class="sig-name descname">lo_build</code><span class="sig-paren">(</span>uint64_t <em>list_id</em>, uint64_t <em>offset</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9lo_listnoE8uint64_t">
<span id="_CPPv3N5faiss9lo_listnoE8uint64_t"></span><span id="_CPPv2N5faiss9lo_listnoE8uint64_t"></span><span id="faiss::lo_listno__uint64_t"></span><span class="target" id="namespacefaiss_1afe521d71f2a4dd6a99b0a5d9fbe19787"></span>uint64_t <code class="sig-name descname">lo_listno</code><span class="sig-paren">(</span>uint64_t <em>lo</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9lo_offsetE8uint64_t">
<span id="_CPPv3N5faiss9lo_offsetE8uint64_t"></span><span id="_CPPv2N5faiss9lo_offsetE8uint64_t"></span><span id="faiss::lo_offset__uint64_t"></span><span class="target" id="namespacefaiss_1a31e62b2521dd1eeb8632005add40ecbd"></span>uint64_t <code class="sig-name descname">lo_offset</code><span class="sig-paren">(</span>uint64_t <em>lo</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I_iEN5faiss18is_aligned_pointerEbPKv">
<span id="_CPPv3I_iEN5faiss18is_aligned_pointerEPKv"></span><span id="_CPPv2I_iEN5faiss18is_aligned_pointerEPKv"></span>template&lt;int <code class="sig-name descname">A</code> = 32&gt;<br /><span class="target" id="namespacefaiss_1a80366c0d6f4ee6aea791c7bccf391f73"></span>bool <code class="sig-name descname">is_aligned_pointer</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10fvec_L2sqrEPKfPKf6size_t">
<span id="_CPPv3N5faiss10fvec_L2sqrEPKfPKf6size_t"></span><span id="_CPPv2N5faiss10fvec_L2sqrEPKfPKf6size_t"></span><span id="faiss::fvec_L2sqr__floatCP.floatCP.s"></span><span class="target" id="namespacefaiss_1a7466bd32de31640860393a701eaac5ad"></span>float <code class="sig-name descname">fvec_L2sqr</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Squared L2 distance between two vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18fvec_inner_productEPKfPKf6size_t">
<span id="_CPPv3N5faiss18fvec_inner_productEPKfPKf6size_t"></span><span id="_CPPv2N5faiss18fvec_inner_productEPKfPKf6size_t"></span><span id="faiss::fvec_inner_product__floatCP.floatCP.s"></span><span class="target" id="namespacefaiss_1af6490f0d832462623e19a96481daeef5"></span>float <code class="sig-name descname">fvec_inner_product</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd><p>inner product </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7fvec_L1EPKfPKf6size_t">
<span id="_CPPv3N5faiss7fvec_L1EPKfPKf6size_t"></span><span id="_CPPv2N5faiss7fvec_L1EPKfPKf6size_t"></span><span id="faiss::fvec_L1__floatCP.floatCP.s"></span><span class="target" id="namespacefaiss_1ab43fbb711cebede63ce85090fcc2b4b7"></span>float <code class="sig-name descname">fvec_L1</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd><p>L1 distance. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9fvec_LinfEPKfPKf6size_t">
<span id="_CPPv3N5faiss9fvec_LinfEPKfPKf6size_t"></span><span id="_CPPv2N5faiss9fvec_LinfEPKfPKf6size_t"></span><span id="faiss::fvec_Linf__floatCP.floatCP.s"></span><span class="target" id="namespacefaiss_1a31e28b5857d1df465e0b7c4785989d86"></span>float <code class="sig-name descname">fvec_Linf</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14pairwise_L2sqrE7int64_t7int64_tPKf7int64_tPKfPf7int64_t7int64_t7int64_t">
<span id="_CPPv3N5faiss14pairwise_L2sqrE7int64_t7int64_tPKf7int64_tPKfPf7int64_t7int64_t7int64_t"></span><span id="_CPPv2N5faiss14pairwise_L2sqrE7int64_t7int64_tPKf7int64_tPKfPf7int64_t7int64_t7int64_t"></span><span id="faiss::pairwise_L2sqr__int64_t.int64_t.floatCP.int64_t.floatCP.floatP.int64_t.int64_t.int64_t"></span><span class="target" id="namespacefaiss_1ac7a976807ce755fe82dde95efaecaf99"></span>void <code class="sig-name descname">pairwise_L2sqr</code><span class="sig-paren">(</span>int64_t <em>d</em>, int64_t <em>nq</em>, <em class="property">const</em> float *<em>xq</em>, int64_t <em>nb</em>, <em class="property">const</em> float *<em>xb</em>, float *<em>dis</em>, int64_t <em>ldq</em> = -1, int64_t <em>ldb</em> = -1, int64_t <em>ldd</em> = -1<span class="sig-paren">)</span><br /></dt>
<dd><p>Compute pairwise distances between sets of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimension of the vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nq</span></code>: nb of query vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nb</span></code>: nb of database vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xq</span></code>: query vectors (size nq * d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xb</span></code>: database vectros (size nb * d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dis</span></code>: output distances (size nq * nb) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ldq</span><span class="pre">ldb</span><span class="pre">ldd</span></code>: strides for the matrices </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22fvec_inner_products_nyEPfPKfPKf6size_t6size_t">
<span id="_CPPv3N5faiss22fvec_inner_products_nyEPfPKfPKf6size_t6size_t"></span><span id="_CPPv2N5faiss22fvec_inner_products_nyEPfPKfPKf6size_t6size_t"></span><span id="faiss::fvec_inner_products_ny__floatP.floatCP.floatCP.s.s"></span><span class="target" id="namespacefaiss_1a1f0c0270de04cc395edd3d2823d0128d"></span>void <code class="sig-name descname">fvec_inner_products_ny</code><span class="sig-paren">(</span>float *<em>ip</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em>, size_t <em>ny</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13fvec_L2sqr_nyEPfPKfPKf6size_t6size_t">
<span id="_CPPv3N5faiss13fvec_L2sqr_nyEPfPKfPKf6size_t6size_t"></span><span id="_CPPv2N5faiss13fvec_L2sqr_nyEPfPKfPKf6size_t6size_t"></span><span id="faiss::fvec_L2sqr_ny__floatP.floatCP.floatCP.s.s"></span><span class="target" id="namespacefaiss_1a4ca22849311a991b72676be10315e2af"></span>void <code class="sig-name descname">fvec_L2sqr_ny</code><span class="sig-paren">(</span>float *<em>dis</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em>, size_t <em>ny</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15fvec_norm_L2sqrEPKf6size_t">
<span id="_CPPv3N5faiss15fvec_norm_L2sqrEPKf6size_t"></span><span id="_CPPv2N5faiss15fvec_norm_L2sqrEPKf6size_t"></span><span id="faiss::fvec_norm_L2sqr__floatCP.s"></span><span class="target" id="namespacefaiss_1a7a49180ebf10e643217bbce5862c7f84"></span>float <code class="sig-name descname">fvec_norm_L2sqr</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, size_t <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd><p>squared norm of a vector </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13fvec_norms_L2EPfPKf6size_t6size_t">
<span id="_CPPv3N5faiss13fvec_norms_L2EPfPKf6size_t6size_t"></span><span id="_CPPv2N5faiss13fvec_norms_L2EPfPKf6size_t6size_t"></span><span id="faiss::fvec_norms_L2__floatP.floatCP.s.s"></span><span class="target" id="namespacefaiss_1a40265aa2cbbe57e5b223c2c7dafac31f"></span>void <code class="sig-name descname">fvec_norms_L2</code><span class="sig-paren">(</span>float *<em>ip</em>, <em class="property">const</em> float *<em>x</em>, size_t <em>d</em>, size_t <em>nx</em><span class="sig-paren">)</span><br /></dt>
<dd><p>compute the L2 norms for a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ip</span></code>: output norms, size nx </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: set of vectors, size nx * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16fvec_norms_L2sqrEPfPKf6size_t6size_t">
<span id="_CPPv3N5faiss16fvec_norms_L2sqrEPfPKf6size_t6size_t"></span><span id="_CPPv2N5faiss16fvec_norms_L2sqrEPfPKf6size_t6size_t"></span><span id="faiss::fvec_norms_L2sqr__floatP.floatCP.s.s"></span><span class="target" id="namespacefaiss_1abce90e9d55d6838c7a37422285192d54"></span>void <code class="sig-name descname">fvec_norms_L2sqr</code><span class="sig-paren">(</span>float *<em>ip</em>, <em class="property">const</em> float *<em>x</em>, size_t <em>d</em>, size_t <em>nx</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as fvec_norms_L2, but computes square norms </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14fvec_renorm_L2E6size_t6size_tPf">
<span id="_CPPv3N5faiss14fvec_renorm_L2E6size_t6size_tPf"></span><span id="_CPPv2N5faiss14fvec_renorm_L2E6size_t6size_tPf"></span><span id="faiss::fvec_renorm_L2__s.s.floatP"></span><span class="target" id="namespacefaiss_1a1d81952ec447e6886d2fd3b930fdc096"></span>void <code class="sig-name descname">fvec_renorm_L2</code><span class="sig-paren">(</span>size_t <em>d</em>, size_t <em>nx</em>, float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22inner_product_to_L2sqrEPfPKfPKf6size_t6size_t">
<span id="_CPPv3N5faiss22inner_product_to_L2sqrEPfPKfPKf6size_t6size_t"></span><span id="_CPPv2N5faiss22inner_product_to_L2sqrEPfPKfPKf6size_t6size_t"></span><span id="faiss::inner_product_to_L2sqr__floatP.floatCP.floatCP.s.s"></span><span class="target" id="namespacefaiss_1a948cc81e43160b04d3e4c2cd8041f9e3"></span>void <code class="sig-name descname">inner_product_to_L2sqr</code><span class="sig-paren">(</span>float *<em>dis</em>, <em class="property">const</em> float *<em>nr1</em>, <em class="property">const</em> float *<em>nr2</em>, size_t <em>n1</em>, size_t <em>n2</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss26fvec_inner_products_by_idxEPfPKfPKfPK7int64_t6size_t6size_t6size_t">
<span id="_CPPv3N5faiss26fvec_inner_products_by_idxEPfPKfPKfPK7int64_t6size_t6size_t6size_t"></span><span id="_CPPv2N5faiss26fvec_inner_products_by_idxEPfPKfPKfPK7int64_t6size_t6size_t6size_t"></span><span id="faiss::fvec_inner_products_by_idx__floatP.floatCP.floatCP.int64_tCP.s.s.s"></span><span class="target" id="namespacefaiss_1a3ccc8ec4f2a74c6154befe048fe83f13"></span>void <code class="sig-name descname">fvec_inner_products_by_idx</code><span class="sig-paren">(</span>float *<em>ip</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, <em class="property">const</em> int64_t *<em>ids</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17fvec_L2sqr_by_idxEPfPKfPKfPK7int64_t6size_t6size_t6size_t">
<span id="_CPPv3N5faiss17fvec_L2sqr_by_idxEPfPKfPKfPK7int64_t6size_t6size_t6size_t"></span><span id="_CPPv2N5faiss17fvec_L2sqr_by_idxEPfPKfPKfPK7int64_t6size_t6size_t6size_t"></span><span id="faiss::fvec_L2sqr_by_idx__floatP.floatCP.floatCP.int64_tCP.s.s.s"></span><span class="target" id="namespacefaiss_1a470eea056c32c67ac13bb4791394b0b8"></span>void <code class="sig-name descname">fvec_L2sqr_by_idx</code><span class="sig-paren">(</span>float *<em>dis</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, <em class="property">const</em> int64_t *<em>ids</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22pairwise_indexed_L2sqrE6size_t6size_tPKfPK7int64_tPKfPK7int64_tPf">
<span id="_CPPv3N5faiss22pairwise_indexed_L2sqrE6size_t6size_tPKfPK7int64_tPKfPK7int64_tPf"></span><span id="_CPPv2N5faiss22pairwise_indexed_L2sqrE6size_t6size_tPKfPK7int64_tPKfPK7int64_tPf"></span><span id="faiss::pairwise_indexed_L2sqr__s.s.floatCP.int64_tCP.floatCP.int64_tCP.floatP"></span><span class="target" id="namespacefaiss_1afbe3e1fcb434cea1ee9ff8ed6ec1d609"></span>void <code class="sig-name descname">pairwise_indexed_L2sqr</code><span class="sig-paren">(</span>size_t <em>d</em>, size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> int64_t *<em>ix</em>, <em class="property">const</em> float *<em>y</em>, <em class="property">const</em> int64_t *<em>iy</em>, float *<em>dis</em><span class="sig-paren">)</span><br /></dt>
<dd><p>compute dis[j] = L2sqr(x[ix[j]], y[iy[j]]) forall j=0..n-1</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size (max(ix) + 1, d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: size (max(iy) + 1, d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ix</span></code>: size n </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iy</span></code>: size n </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dis</span></code>: size n </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss30pairwise_indexed_inner_productE6size_t6size_tPKfPK7int64_tPKfPK7int64_tPf">
<span id="_CPPv3N5faiss30pairwise_indexed_inner_productE6size_t6size_tPKfPK7int64_tPKfPK7int64_tPf"></span><span id="_CPPv2N5faiss30pairwise_indexed_inner_productE6size_t6size_tPKfPK7int64_tPKfPK7int64_tPf"></span><span id="faiss::pairwise_indexed_inner_product__s.s.floatCP.int64_tCP.floatCP.int64_tCP.floatP"></span><span class="target" id="namespacefaiss_1a687edf56ab386203fcd992572c539f99"></span>void <code class="sig-name descname">pairwise_indexed_inner_product</code><span class="sig-paren">(</span>size_t <em>d</em>, size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> int64_t *<em>ix</em>, <em class="property">const</em> float *<em>y</em>, <em class="property">const</em> int64_t *<em>iy</em>, float *<em>dis</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17knn_inner_productEPKfPKf6size_t6size_t6size_tP21float_minheap_array_t">
<span id="_CPPv3N5faiss17knn_inner_productEPKfPKf6size_t6size_t6size_tP21float_minheap_array_t"></span><span id="_CPPv2N5faiss17knn_inner_productEPKfPKf6size_t6size_t6size_tP21float_minheap_array_t"></span><span id="faiss::knn_inner_product__floatCP.floatCP.s.s.s.float_minheap_array_tP"></span><span class="target" id="namespacefaiss_1a880c7318971f866267a86945aaa61b17"></span>void <code class="sig-name descname">knn_inner_product</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss21float_minheap_array_tE" title="faiss::float_minheap_array_t">float_minheap_array_t</a> *<em>res</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the k nearest neighors of each of the nx vectors x among the ny vector y, w.r.t to max inner product</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: database vectors, size ny * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">res</span></code>: result array, which also provides k. Sorted on output </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9knn_L2sqrEPKfPKf6size_t6size_t6size_tP21float_maxheap_array_tPKf">
<span id="_CPPv3N5faiss9knn_L2sqrEPKfPKf6size_t6size_t6size_tP21float_maxheap_array_tPKf"></span><span id="_CPPv2N5faiss9knn_L2sqrEPKfPKf6size_t6size_t6size_tP21float_maxheap_array_tPKf"></span><span id="faiss::knn_L2sqr__floatCP.floatCP.s.s.s.float_maxheap_array_tP.floatCP"></span><span class="target" id="namespacefaiss_1a7931bf425c5825f2634c20952bbdb4b7"></span>void <code class="sig-name descname">knn_L2sqr</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss21float_maxheap_array_tE" title="faiss::float_maxheap_array_t">float_maxheap_array_t</a> *<em>res</em>, <em class="property">const</em> float *<em>y_norm2</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>Same as knn_inner_product, for the L2 distance <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">y_norm2</span></code>: norms for the y vectors (nullptr or size ny) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss25knn_inner_products_by_idxEPKfPKfPK7int64_t6size_t6size_t6size_tP21float_minheap_array_t">
<span id="_CPPv3N5faiss25knn_inner_products_by_idxEPKfPKfPK7int64_t6size_t6size_t6size_tP21float_minheap_array_t"></span><span id="_CPPv2N5faiss25knn_inner_products_by_idxEPKfPKfPK7int64_t6size_t6size_t6size_tP21float_minheap_array_t"></span><span id="faiss::knn_inner_products_by_idx__floatCP.floatCP.int64_tCP.s.s.s.float_minheap_array_tP"></span><span class="target" id="namespacefaiss_1adaadf5c986701e97103b476018c6d488"></span>void <code class="sig-name descname">knn_inner_products_by_idx</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, <em class="property">const</em> int64_t *<em>ids</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss21float_minheap_array_tE" title="faiss::float_minheap_array_t">float_minheap_array_t</a> *<em>res</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16knn_L2sqr_by_idxEPKfPKfPK7int64_t6size_t6size_t6size_tP21float_maxheap_array_t">
<span id="_CPPv3N5faiss16knn_L2sqr_by_idxEPKfPKfPK7int64_t6size_t6size_t6size_tP21float_maxheap_array_t"></span><span id="_CPPv2N5faiss16knn_L2sqr_by_idxEPKfPKfPK7int64_t6size_t6size_t6size_tP21float_maxheap_array_t"></span><span id="faiss::knn_L2sqr_by_idx__floatCP.floatCP.int64_tCP.s.s.s.float_maxheap_array_tP"></span><span class="target" id="namespacefaiss_1ad3d348596de734e44b4dd89fdc19cc32"></span>void <code class="sig-name descname">knn_L2sqr_by_idx</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, <em class="property">const</em> int64_t *<em>ids</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss21float_maxheap_array_tE" title="faiss::float_maxheap_array_t">float_maxheap_array_t</a> *<em>res</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18range_search_L2sqrEPKfPKf6size_t6size_t6size_tfP17RangeSearchResult">
<span id="_CPPv3N5faiss18range_search_L2sqrEPKfPKf6size_t6size_t6size_tfP17RangeSearchResult"></span><span id="_CPPv2N5faiss18range_search_L2sqrEPKfPKf6size_t6size_t6size_tfP17RangeSearchResult"></span><span id="faiss::range_search_L2sqr__floatCP.floatCP.s.s.s.float.RangeSearchResultP"></span><span class="target" id="namespacefaiss_1a139f6e538b65f47b826794620af7d491"></span>void <code class="sig-name descname">range_search_L2sqr</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the k nearest neighors of each of the nx vectors x among the ny vector y, w.r.t to max inner product</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: database vectors, size ny * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius around the x vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result structure </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss26range_search_inner_productEPKfPKf6size_t6size_t6size_tfP17RangeSearchResult">
<span id="_CPPv3N5faiss26range_search_inner_productEPKfPKf6size_t6size_t6size_tfP17RangeSearchResult"></span><span id="_CPPv2N5faiss26range_search_inner_productEPKfPKf6size_t6size_t6size_tfP17RangeSearchResult"></span><span id="faiss::range_search_inner_product__floatCP.floatCP.s.s.s.float.RangeSearchResultP"></span><span class="target" id="namespacefaiss_1ab29d725b808df6f142b80f21aa45e507"></span>void <code class="sig-name descname">range_search_inner_product</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as range_search_L2sqr for the inner product similarity </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss27compute_PQ_dis_tables_dsub2E6size_t6size_tPKf6size_tPKfbPf">
<span id="_CPPv3N5faiss27compute_PQ_dis_tables_dsub2E6size_t6size_tPKf6size_tPKfbPf"></span><span id="_CPPv2N5faiss27compute_PQ_dis_tables_dsub2E6size_t6size_tPKf6size_tPKfbPf"></span><span id="faiss::compute_PQ_dis_tables_dsub2__s.s.floatCP.s.floatCP.b.floatP"></span><span class="target" id="namespacefaiss_1a6bae4e24e73c75640d6db8760e513d6d"></span>void <code class="sig-name descname">compute_PQ_dis_tables_dsub2</code><span class="sig-paren">(</span>size_t <em>d</em>, size_t <em>ksub</em>, <em class="property">const</em> float *<em>centroids</em>, size_t <em>nx</em>, <em class="property">const</em> float *<em>x</em>, bool <em>is_inner_product</em>, float *<em>dis_tables</em><span class="sig-paren">)</span><br /></dt>
<dd><p>specialized function for PQ2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24pairwise_extra_distancesE7int64_t7int64_tPKf7int64_tPKf10MetricTypefPf7int64_t7int64_t7int64_t">
<span id="_CPPv3N5faiss24pairwise_extra_distancesE7int64_t7int64_tPKf7int64_tPKf10MetricTypefPf7int64_t7int64_t7int64_t"></span><span id="_CPPv2N5faiss24pairwise_extra_distancesE7int64_t7int64_tPKf7int64_tPKf10MetricTypefPf7int64_t7int64_t7int64_t"></span><span id="faiss::pairwise_extra_distances__int64_t.int64_t.floatCP.int64_t.floatCP.MetricType.float.floatP.int64_t.int64_t.int64_t"></span><span class="target" id="namespacefaiss_1ada09f7cd8c85cfbc3caf5b943b10bcc3"></span>void <code class="sig-name descname">pairwise_extra_distances</code><span class="sig-paren">(</span>int64_t <em>d</em>, int64_t <em>nq</em>, <em class="property">const</em> float *<em>xq</em>, int64_t <em>nb</em>, <em class="property">const</em> float *<em>xb</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>mt</em>, float <em>metric_arg</em>, float *<em>dis</em>, int64_t <em>ldq</em> = -1, int64_t <em>ldb</em> = -1, int64_t <em>ldd</em> = -1<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17knn_extra_metricsEPKfPKf6size_t6size_t6size_t10MetricTypefP21float_maxheap_array_t">
<span id="_CPPv3N5faiss17knn_extra_metricsEPKfPKf6size_t6size_t6size_t10MetricTypefP21float_maxheap_array_t"></span><span id="_CPPv2N5faiss17knn_extra_metricsEPKfPKf6size_t6size_t6size_t10MetricTypefP21float_maxheap_array_t"></span><span id="faiss::knn_extra_metrics__floatCP.floatCP.s.s.s.MetricType.float.float_maxheap_array_tP"></span><span class="target" id="namespacefaiss_1a5accc87f00bcb41b304aa6695767f176"></span>void <code class="sig-name descname">knn_extra_metrics</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <em class="property">const</em> float *<em>y</em>, size_t <em>d</em>, size_t <em>nx</em>, size_t <em>ny</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>mt</em>, float <em>metric_arg</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss21float_maxheap_array_tE" title="faiss::float_maxheap_array_t">float_maxheap_array_t</a> *<em>res</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss27get_extra_distance_computerE6size_t10MetricTypef6size_tPKf">
<span id="_CPPv3N5faiss27get_extra_distance_computerE6size_t10MetricTypef6size_tPKf"></span><span id="_CPPv2N5faiss27get_extra_distance_computerE6size_t10MetricTypef6size_tPKf"></span><span id="faiss::get_extra_distance_computer__s.MetricType.float.s.floatCP"></span><span class="target" id="namespacefaiss_1af8590366fb08be90126b12dbecea7d56"></span>DistanceComputer *<code class="sig-name descname">get_extra_distance_computer</code><span class="sig-paren">(</span>size_t <em>d</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>mt</em>, float <em>metric_arg</em>, size_t <em>nb</em>, <em class="property">const</em> float *<em>xb</em><span class="sig-paren">)</span><br /></dt>
<dd><p>get a DistanceComputer that refers to this type of distance and indexes a flat array of size nb </p>
</dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="namespacefaiss_1a3c20def47976af19292a160b2ec551d2"></span><code class="sig-name descname">SPECIALIZED_HC (4)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="namespacefaiss_1acb4e4208ec84a403e02dba1b18b29840"></span><code class="sig-name descname">SPECIALIZED_HC (8)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="namespacefaiss_1a138c0f4e83d2e8b7fdd90ef895f8c6f2"></span><code class="sig-name descname">SPECIALIZED_HC (16)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="namespacefaiss_1a965aa1292a3957feaaec0f4ed1b54f85"></span><code class="sig-name descname">SPECIALIZED_HC (20)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="namespacefaiss_1a69f0b96e4d8c59be97ee73aedafac0a2"></span><code class="sig-name descname">SPECIALIZED_HC (32)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="namespacefaiss_1aadcee2efcbb11d2c1d284589ba12b8ae"></span><code class="sig-name descname">SPECIALIZED_HC (64)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22generalized_hamming_64E8uint64_t">
<span id="_CPPv3N5faiss22generalized_hamming_64E8uint64_t"></span><span id="_CPPv2N5faiss22generalized_hamming_64E8uint64_t"></span><span id="faiss::generalized_hamming_64__uint64_t"></span><span class="target" id="namespacefaiss_1a69337e23232a204be3e1464713fee62d"></span>int <code class="sig-name descname">generalized_hamming_64</code><span class="sig-paren">(</span>uint64_t <em>a</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss27generalized_hammings_knn_hcEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti">
<span id="_CPPv3N5faiss27generalized_hammings_knn_hcEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti"></span><span id="_CPPv2N5faiss27generalized_hammings_knn_hcEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti"></span><span id="faiss::generalized_hammings_knn_hc__int_maxheap_array_tP.uint8_tCP.uint8_tCP.s.s.i"></span><span class="target" id="namespacefaiss_1a31146ebd95375313ae7c02ba06209ca0"></span>void <code class="sig-name descname">generalized_hammings_knn_hc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss19int_maxheap_array_tE" title="faiss::int_maxheap_array_t">int_maxheap_array_t</a> *<em>ha</em>, <em class="property">const</em> uint8_t *<em>a</em>, <em class="property">const</em> uint8_t *<em>b</em>, size_t <em>nb</em>, size_t <em>code_size</em>, int <em>ordered</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p>generalized Hamming distances (= count number of code bytes that are the same) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12bitvec_printEPK7uint8_t6size_t">
<span id="_CPPv3N5faiss12bitvec_printEPK7uint8_t6size_t"></span><span id="_CPPv2N5faiss12bitvec_printEPK7uint8_t6size_t"></span><span id="faiss::bitvec_print__uint8_tCP.s"></span><span class="target" id="namespacefaiss_1a0e10b0864a93653945dbd950b9fcdacf"></span>void <code class="sig-name descname">bitvec_print</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b</em>, size_t <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13fvecs2bitvecsEPKfP7uint8_t6size_t6size_t">
<span id="_CPPv3N5faiss13fvecs2bitvecsEPKfP7uint8_t6size_t6size_t"></span><span id="_CPPv2N5faiss13fvecs2bitvecsEPKfP7uint8_t6size_t6size_t"></span><span id="faiss::fvecs2bitvecs__floatCP.uint8_tP.s.s"></span><span class="target" id="namespacefaiss_1a224890519ae5efe7a3c8cdf94bda60e9"></span>void <code class="sig-name descname">fvecs2bitvecs</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, uint8_t *<em>b</em>, size_t <em>d</em>, size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13bitvecs2fvecsEPK7uint8_tPf6size_t6size_t">
<span id="_CPPv3N5faiss13bitvecs2fvecsEPK7uint8_tPf6size_t6size_t"></span><span id="_CPPv2N5faiss13bitvecs2fvecsEPK7uint8_tPf6size_t6size_t"></span><span id="faiss::bitvecs2fvecs__uint8_tCP.floatP.s.s"></span><span class="target" id="namespacefaiss_1ad8f68b3bcb7a897358ab8501ea86b897"></span>void <code class="sig-name descname">bitvecs2fvecs</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b</em>, float *<em>x</em>, size_t <em>d</em>, size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11fvec2bitvecEPKfP7uint8_t6size_t">
<span id="_CPPv3N5faiss11fvec2bitvecEPKfP7uint8_t6size_t"></span><span id="_CPPv2N5faiss11fvec2bitvecEPKfP7uint8_t6size_t"></span><span id="faiss::fvec2bitvec__floatCP.uint8_tP.s"></span><span class="target" id="namespacefaiss_1afde8c1f96d4c776b101dd67cc0064c3d"></span>void <code class="sig-name descname">fvec2bitvec</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, uint8_t *<em>b</em>, size_t <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14bitvec_shuffleE6size_t6size_t6size_tPKiPK7uint8_tP7uint8_t">
<span id="_CPPv3N5faiss14bitvec_shuffleE6size_t6size_t6size_tPKiPK7uint8_tP7uint8_t"></span><span id="_CPPv2N5faiss14bitvec_shuffleE6size_t6size_t6size_tPKiPK7uint8_tP7uint8_t"></span><span id="faiss::bitvec_shuffle__s.s.s.iCP.uint8_tCP.uint8_tP"></span><span class="target" id="namespacefaiss_1a6ea3261fda6f9dc53c401b4cccb90268"></span>void <code class="sig-name descname">bitvec_shuffle</code><span class="sig-paren">(</span>size_t <em>n</em>, size_t <em>da</em>, size_t <em>db</em>, <em class="property">const</em> int *<em>order</em>, <em class="property">const</em> uint8_t *<em>a</em>, uint8_t *<em>b</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Shuffle the bits from b(i, j) := a(i, order[j]) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10popcount64E8uint64_t">
<span id="_CPPv3N5faiss10popcount64E8uint64_t"></span><span id="_CPPv2N5faiss10popcount64E8uint64_t"></span><span id="faiss::popcount64__uint64_t"></span><span class="target" id="namespacefaiss_1a7d2125afc95e3417b270cb9428f8e0ef"></span>int <code class="sig-name descname">popcount64</code><span class="sig-paren">(</span>uint64_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8hammingsEPK7uint8_tPK7uint8_t6size_t6size_t6size_tP8hamdis_t">
<span id="_CPPv3N5faiss8hammingsEPK7uint8_tPK7uint8_t6size_t6size_t6size_tP8hamdis_t"></span><span id="_CPPv2N5faiss8hammingsEPK7uint8_tPK7uint8_t6size_t6size_t6size_tP8hamdis_t"></span><span id="faiss::hammings__uint8_tCP.uint8_tCP.s.s.s.hamdis_tP"></span><span class="target" id="namespacefaiss_1a0832c5ab58f4d1a340b0bde273c5b501"></span>void <code class="sig-name descname">hammings</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, <em class="property">const</em> uint8_t *<em>b</em>, size_t <em>na</em>, size_t <em>nb</em>, size_t <em>nbytespercode</em>, <a class="reference internal" href="../file/hamming_8h.html#_CPPv48hamdis_t" title="hamdis_t">hamdis_t</a> *<em>dis</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Compute a set of Hamming distances between na and nb binary vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: size na * nbytespercode </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code>: size nb * nbytespercode </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbytespercode</span></code>: should be multiple of 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dis</span></code>: output distances, size na * nb </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15hammings_knn_hcEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti">
<span id="_CPPv3N5faiss15hammings_knn_hcEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti"></span><span id="_CPPv2N5faiss15hammings_knn_hcEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti"></span><span id="faiss::hammings_knn_hc__int_maxheap_array_tP.uint8_tCP.uint8_tCP.s.s.i"></span><span class="target" id="namespacefaiss_1a111b1ab3b50bcd06d29c588122811477"></span>void <code class="sig-name descname">hammings_knn_hc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss19int_maxheap_array_tE" title="faiss::int_maxheap_array_t">int_maxheap_array_t</a> *<em>ha</em>, <em class="property">const</em> uint8_t *<em>a</em>, <em class="property">const</em> uint8_t *<em>b</em>, size_t <em>nb</em>, size_t <em>ncodes</em>, int <em>ordered</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the k smallest Hamming distances for a set of binary query vectors, using a max heap. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: queries, size ha-&gt;nh * ncodes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code>: database, size nb * ncodes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nb</span></code>: number of database vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ncodes</span></code>: size of the binary codes (bytes) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ordered</span></code>: if != 0: order the results by decreasing distance (may be bottleneck for k/n &gt; 0.01) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12hammings_knnEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti">
<span id="_CPPv3N5faiss12hammings_knnEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti"></span><span id="_CPPv2N5faiss12hammings_knnEP19int_maxheap_array_tPK7uint8_tPK7uint8_t6size_t6size_ti"></span><span id="faiss::hammings_knn__int_maxheap_array_tP.uint8_tCP.uint8_tCP.s.s.i"></span><span class="target" id="namespacefaiss_1a0c5abbe20058359340d9c7cb635f344b"></span>void <code class="sig-name descname">hammings_knn</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss19int_maxheap_array_tE" title="faiss::int_maxheap_array_t">int_maxheap_array_t</a> *<em>ha</em>, <em class="property">const</em> uint8_t *<em>a</em>, <em class="property">const</em> uint8_t *<em>b</em>, size_t <em>nb</em>, size_t <em>ncodes</em>, int <em>ordered</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15hammings_knn_mcEPK7uint8_tPK7uint8_t6size_t6size_t6size_t6size_tP7int32_tP7int64_t">
<span id="_CPPv3N5faiss15hammings_knn_mcEPK7uint8_tPK7uint8_t6size_t6size_t6size_t6size_tP7int32_tP7int64_t"></span><span id="_CPPv2N5faiss15hammings_knn_mcEPK7uint8_tPK7uint8_t6size_t6size_t6size_t6size_tP7int32_tP7int64_t"></span><span id="faiss::hammings_knn_mc__uint8_tCP.uint8_tCP.s.s.s.s.int32_tP.int64_tP"></span><span class="target" id="namespacefaiss_1a7910c770df07bd8b6168ece7f5ff92ca"></span>void <code class="sig-name descname">hammings_knn_mc</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, <em class="property">const</em> uint8_t *<em>b</em>, size_t <em>na</em>, size_t <em>nb</em>, size_t <em>k</em>, size_t <em>ncodes</em>, int32_t *<em>distances</em>, int64_t *<em>labels</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the k smallest Hamming distances for a set of binary query vectors, using counting max. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: queries, size na * ncodes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code>: database, size nb * ncodes </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">na</span></code>: number of query vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nb</span></code>: number of database vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>: number of vectors/distances to return </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ncodes</span></code>: size of the binary codes (bytes) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output distances from each query vector to its k nearest neighbors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output ids of the k nearest neighbors to each query vector </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20hamming_range_searchEPK7uint8_tPK7uint8_t6size_t6size_ti6size_tP17RangeSearchResult">
<span id="_CPPv3N5faiss20hamming_range_searchEPK7uint8_tPK7uint8_t6size_t6size_ti6size_tP17RangeSearchResult"></span><span id="_CPPv2N5faiss20hamming_range_searchEPK7uint8_tPK7uint8_t6size_t6size_ti6size_tP17RangeSearchResult"></span><span id="faiss::hamming_range_search__uint8_tCP.uint8_tCP.s.s.i.s.RangeSearchResultP"></span><span class="target" id="namespacefaiss_1a1032890ca79ab7443c0af4fde09b121c"></span>void <code class="sig-name descname">hamming_range_search</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, <em class="property">const</em> uint8_t *<em>b</em>, size_t <em>na</em>, size_t <em>nb</em>, int <em>radius</em>, size_t <em>ncodes</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as hammings_knn except we are doing a range search with radius </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19hamming_count_thresEPK7uint8_tPK7uint8_t6size_t6size_t8hamdis_t6size_tP6size_t">
<span id="_CPPv3N5faiss19hamming_count_thresEPK7uint8_tPK7uint8_t6size_t6size_t8hamdis_t6size_tP6size_t"></span><span id="_CPPv2N5faiss19hamming_count_thresEPK7uint8_tPK7uint8_t6size_t6size_t8hamdis_t6size_tP6size_t"></span><span id="faiss::hamming_count_thres__uint8_tCP.uint8_tCP.s.s.hamdis_t.s.sP"></span><span class="target" id="namespacefaiss_1ac713458e556afa5bd612b88944292d65"></span>void <code class="sig-name descname">hamming_count_thres</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>bs1</em>, <em class="property">const</em> uint8_t *<em>bs2</em>, size_t <em>n1</em>, size_t <em>n2</em>, <a class="reference internal" href="../file/hamming_8h.html#_CPPv48hamdis_t" title="hamdis_t">hamdis_t</a> <em>ht</em>, size_t <em>ncodes</em>, size_t *<em>nptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19match_hamming_thresEPK7uint8_tPK7uint8_t6size_t6size_t8hamdis_t6size_tP7int64_tP8hamdis_t">
<span id="_CPPv3N5faiss19match_hamming_thresEPK7uint8_tPK7uint8_t6size_t6size_t8hamdis_t6size_tP7int64_tP8hamdis_t"></span><span id="_CPPv2N5faiss19match_hamming_thresEPK7uint8_tPK7uint8_t6size_t6size_t8hamdis_t6size_tP7int64_tP8hamdis_t"></span><span id="faiss::match_hamming_thres__uint8_tCP.uint8_tCP.s.s.hamdis_t.s.int64_tP.hamdis_tP"></span><span class="target" id="namespacefaiss_1ad32229f823f2a0a920f0b62a702a67c5"></span>size_t <code class="sig-name descname">match_hamming_thres</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>bs1</em>, <em class="property">const</em> uint8_t *<em>bs2</em>, size_t <em>n1</em>, size_t <em>n2</em>, <a class="reference internal" href="../file/hamming_8h.html#_CPPv48hamdis_t" title="hamdis_t">hamdis_t</a> <em>ht</em>, size_t <em>ncodes</em>, int64_t *<em>idx</em>, <a class="reference internal" href="../file/hamming_8h.html#_CPPv48hamdis_t" title="hamdis_t">hamdis_t</a> *<em>dis</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24crosshamming_count_thresEPK7uint8_t6size_t8hamdis_t6size_tP6size_t">
<span id="_CPPv3N5faiss24crosshamming_count_thresEPK7uint8_t6size_t8hamdis_t6size_tP6size_t"></span><span id="_CPPv2N5faiss24crosshamming_count_thresEPK7uint8_t6size_t8hamdis_t6size_tP6size_t"></span><span id="faiss::crosshamming_count_thres__uint8_tCP.s.hamdis_t.s.sP"></span><span class="target" id="namespacefaiss_1a399cfe2b1a7b2e3d722e10654c164ae0"></span>void <code class="sig-name descname">crosshamming_count_thres</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>dbs</em>, size_t <em>n</em>, <a class="reference internal" href="../file/hamming_8h.html#_CPPv48hamdis_t" title="hamdis_t">hamdis_t</a> <em>ht</em>, size_t <em>ncodes</em>, size_t *<em>nptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7hammingEPK8uint64_tPK8uint64_t6size_t">
<span id="_CPPv3N5faiss7hammingEPK8uint64_tPK8uint64_t6size_t"></span><span id="_CPPv2N5faiss7hammingEPK8uint64_tPK8uint64_t6size_t"></span><span id="faiss::hamming__uint64_tCP.uint64_tCP.s"></span><span class="target" id="namespacefaiss_1af860acfd5b9adbb6a50d4b458d0df8b7"></span><a class="reference internal" href="../file/hamming_8h.html#_CPPv48hamdis_t" title="hamdis_t">hamdis_t</a> <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint64_t *<em>bs1</em>, <em class="property">const</em> uint64_t *<em>bs2</em>, size_t <em>nwords</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss8heap_popEv6size_tPN1C1TEPN1C2TIE">
<span id="_CPPv3I0EN5faiss8heap_popE6size_tPN1C1TEPN1C2TIE"></span><span id="_CPPv2I0EN5faiss8heap_popE6size_tPN1C1TEPN1C2TIE"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1a1d40aec5723474516de576263cc03048"></span>void <code class="sig-name descname">heap_pop</code><span class="sig-paren">(</span>size_t <em>k</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss8heap_popEv6size_tPN1C1TEPN1C2TIE" title="faiss::heap_pop::C">C</a>::T *<em>bh_val</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss8heap_popEv6size_tPN1C1TEPN1C2TIE" title="faiss::heap_pop::C">C</a>::TI *<em>bh_ids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Pops the top element from the heap defined by bh_val[0..k-1] and bh_ids[0..k-1]. on output the element at k-1 is undefined. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss9heap_pushEv6size_tPN1C1TEPN1C2TIEN1C1TEN1C2TIE">
<span id="_CPPv3I0EN5faiss9heap_pushE6size_tPN1C1TEPN1C2TIEN1C1TEN1C2TIE"></span><span id="_CPPv2I0EN5faiss9heap_pushE6size_tPN1C1TEPN1C2TIEN1C1TEN1C2TIE"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1acbe85976d4f73309622f6b62c4d7af2b"></span>void <code class="sig-name descname">heap_push</code><span class="sig-paren">(</span>size_t <em>k</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9heap_pushEv6size_tPN1C1TEPN1C2TIEN1C1TEN1C2TIE" title="faiss::heap_push::C">C</a>::T *<em>bh_val</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9heap_pushEv6size_tPN1C1TEPN1C2TIEN1C1TEN1C2TIE" title="faiss::heap_push::C">C</a>::TI *<em>bh_ids</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9heap_pushEv6size_tPN1C1TEPN1C2TIEN1C1TEN1C2TIE" title="faiss::heap_push::C">C</a>::T <em>val</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9heap_pushEv6size_tPN1C1TEPN1C2TIEN1C1TEN1C2TIE" title="faiss::heap_push::C">C</a>::TI <em>ids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Pushes the element (val, ids) into the heap bh_val[0..k-2] and bh_ids[0..k-2]. on output the element at k-1 is defined. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss11minheap_popEv6size_tP1TP7int64_t">
<span id="_CPPv3I0EN5faiss11minheap_popE6size_tP1TP7int64_t"></span><span id="_CPPv2I0EN5faiss11minheap_popE6size_tP1TP7int64_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1a6007eab1211f86326246114757ee8c41"></span>void <code class="sig-name descname">minheap_pop</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss11minheap_popEv6size_tP1TP7int64_t" title="faiss::minheap_pop::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss12minheap_pushEv6size_tP1TP7int64_t1T7int64_t">
<span id="_CPPv3I0EN5faiss12minheap_pushE6size_tP1TP7int64_t1T7int64_t"></span><span id="_CPPv2I0EN5faiss12minheap_pushE6size_tP1TP7int64_t1T7int64_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1a34d5f3d2e6e58005727989c3b2def7fe"></span>void <code class="sig-name descname">minheap_push</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12minheap_pushEv6size_tP1TP7int64_t1T7int64_t" title="faiss::minheap_push::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12minheap_pushEv6size_tP1TP7int64_t1T7int64_t" title="faiss::minheap_push::T">T</a> <em>val</em>, int64_t <em>ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss11maxheap_popEv6size_tP1TP7int64_t">
<span id="_CPPv3I0EN5faiss11maxheap_popE6size_tP1TP7int64_t"></span><span id="_CPPv2I0EN5faiss11maxheap_popE6size_tP1TP7int64_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1af1853d9d3e0c4c0d3ebf204c1f50c30c"></span>void <code class="sig-name descname">maxheap_pop</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss11maxheap_popEv6size_tP1TP7int64_t" title="faiss::maxheap_pop::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss12maxheap_pushEv6size_tP1TP7int64_t1T7int64_t">
<span id="_CPPv3I0EN5faiss12maxheap_pushE6size_tP1TP7int64_t1T7int64_t"></span><span id="_CPPv2I0EN5faiss12maxheap_pushE6size_tP1TP7int64_t1T7int64_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1a8c87f0f0d3f96ede4b6cd031592aaed1"></span>void <code class="sig-name descname">maxheap_push</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12maxheap_pushEv6size_tP1TP7int64_t1T7int64_t" title="faiss::maxheap_push::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12maxheap_pushEv6size_tP1TP7int64_t1T7int64_t" title="faiss::maxheap_push::T">T</a> <em>val</em>, int64_t <em>ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss12heap_heapifyEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t">
<span id="_CPPv3I0EN5faiss12heap_heapifyE6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t"></span><span id="_CPPv2I0EN5faiss12heap_heapifyE6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1a8617ea308e081aed83d4a084a9d31f70"></span>void <code class="sig-name descname">heap_heapify</code><span class="sig-paren">(</span>size_t <em>k</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12heap_heapifyEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t" title="faiss::heap_heapify::C">C</a>::T *<em>bh_val</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12heap_heapifyEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t" title="faiss::heap_heapify::C">C</a>::TI *<em>bh_ids</em>, <em class="property">const</em> <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12heap_heapifyEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t" title="faiss::heap_heapify::C">C</a>::T *<em>x</em> = nullptr, <em class="property">const</em> <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12heap_heapifyEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t" title="faiss::heap_heapify::C">C</a>::TI *<em>ids</em> = nullptr, size_t <em>k0</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss15minheap_heapifyEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t">
<span id="_CPPv3I0EN5faiss15minheap_heapifyE6size_tP1TP7int64_tPK1TPK7int64_t6size_t"></span><span id="_CPPv2I0EN5faiss15minheap_heapifyE6size_tP1TP7int64_tPK1TPK7int64_t6size_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1a74010fa2ad110134f8b7c5e3af54a98b"></span>void <code class="sig-name descname">minheap_heapify</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss15minheap_heapifyEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t" title="faiss::minheap_heapify::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em>, <em class="property">const</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss15minheap_heapifyEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t" title="faiss::minheap_heapify::T">T</a> *<em>x</em> = nullptr, <em class="property">const</em> int64_t *<em>ids</em> = nullptr, size_t <em>k0</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss15maxheap_heapifyEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t">
<span id="_CPPv3I0EN5faiss15maxheap_heapifyE6size_tP1TP7int64_tPK1TPK7int64_t6size_t"></span><span id="_CPPv2I0EN5faiss15maxheap_heapifyE6size_tP1TP7int64_tPK1TPK7int64_t6size_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1ad80324df320ebcc1e5deecbe4e8626d0"></span>void <code class="sig-name descname">maxheap_heapify</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss15maxheap_heapifyEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t" title="faiss::maxheap_heapify::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em>, <em class="property">const</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss15maxheap_heapifyEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t" title="faiss::maxheap_heapify::T">T</a> *<em>x</em> = nullptr, <em class="property">const</em> int64_t *<em>ids</em> = nullptr, size_t <em>k0</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss9heap_addnEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t">
<span id="_CPPv3I0EN5faiss9heap_addnE6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t"></span><span id="_CPPv2I0EN5faiss9heap_addnE6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1afa5c2b8f24eb244fb064af0c7d853422"></span>void <code class="sig-name descname">heap_addn</code><span class="sig-paren">(</span>size_t <em>k</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9heap_addnEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t" title="faiss::heap_addn::C">C</a>::T *<em>bh_val</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9heap_addnEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t" title="faiss::heap_addn::C">C</a>::TI *<em>bh_ids</em>, <em class="property">const</em> <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9heap_addnEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t" title="faiss::heap_addn::C">C</a>::T *<em>x</em>, <em class="property">const</em> <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9heap_addnEv6size_tPN1C1TEPN1C2TIEPKN1C1TEPKN1C2TIE6size_t" title="faiss::heap_addn::C">C</a>::TI *<em>ids</em>, size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss12minheap_addnEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t">
<span id="_CPPv3I0EN5faiss12minheap_addnE6size_tP1TP7int64_tPK1TPK7int64_t6size_t"></span><span id="_CPPv2I0EN5faiss12minheap_addnE6size_tP1TP7int64_tPK1TPK7int64_t6size_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1ad1864b81445cbbc1ffe06fa8d0d26943"></span>void <code class="sig-name descname">minheap_addn</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12minheap_addnEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t" title="faiss::minheap_addn::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em>, <em class="property">const</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12minheap_addnEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t" title="faiss::minheap_addn::T">T</a> *<em>x</em>, <em class="property">const</em> int64_t *<em>ids</em>, size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss12maxheap_addnEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t">
<span id="_CPPv3I0EN5faiss12maxheap_addnE6size_tP1TP7int64_tPK1TPK7int64_t6size_t"></span><span id="_CPPv2I0EN5faiss12maxheap_addnE6size_tP1TP7int64_tPK1TPK7int64_t6size_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1a31eaeca29f48abb9ca4822085ab24a47"></span>void <code class="sig-name descname">maxheap_addn</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12maxheap_addnEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t" title="faiss::maxheap_addn::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em>, <em class="property">const</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12maxheap_addnEv6size_tP1TP7int64_tPK1TPK7int64_t6size_t" title="faiss::maxheap_addn::T">T</a> *<em>x</em>, <em class="property">const</em> int64_t *<em>ids</em>, size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss12heap_reorderE6size_t6size_tPN1C1TEPN1C2TIE">
<span id="_CPPv3I0EN5faiss12heap_reorderE6size_tPN1C1TEPN1C2TIE"></span><span id="_CPPv2I0EN5faiss12heap_reorderE6size_tPN1C1TEPN1C2TIE"></span>template&lt;typename <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1a4e69334ccd78982042a6210c743d0418"></span>size_t <code class="sig-name descname">heap_reorder</code><span class="sig-paren">(</span>size_t <em>k</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12heap_reorderE6size_t6size_tPN1C1TEPN1C2TIE" title="faiss::heap_reorder::C">C</a>::T *<em>bh_val</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss12heap_reorderE6size_t6size_tPN1C1TEPN1C2TIE" title="faiss::heap_reorder::C">C</a>::TI *<em>bh_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss15minheap_reorderE6size_t6size_tP1TP7int64_t">
<span id="_CPPv3I0EN5faiss15minheap_reorderE6size_tP1TP7int64_t"></span><span id="_CPPv2I0EN5faiss15minheap_reorderE6size_tP1TP7int64_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1aa29a53dfe2924fb9684292be43539228"></span>size_t <code class="sig-name descname">minheap_reorder</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss15minheap_reorderE6size_t6size_tP1TP7int64_t" title="faiss::minheap_reorder::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss15maxheap_reorderE6size_t6size_tP1TP7int64_t">
<span id="_CPPv3I0EN5faiss15maxheap_reorderE6size_tP1TP7int64_t"></span><span id="_CPPv2I0EN5faiss15maxheap_reorderE6size_tP1TP7int64_t"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1adf25de8d60180e4d314a6d1be95d4334"></span>size_t <code class="sig-name descname">maxheap_reorder</code><span class="sig-paren">(</span>size_t <em>k</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss15maxheap_reorderE6size_t6size_tP1TP7int64_t" title="faiss::maxheap_reorder::T">T</a> *<em>bh_val</em>, int64_t *<em>bh_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss17indirect_heap_popEv6size_tPKN1C1TEPN1C2TIE">
<span id="_CPPv3I0EN5faiss17indirect_heap_popE6size_tPKN1C1TEPN1C2TIE"></span><span id="_CPPv2I0EN5faiss17indirect_heap_popE6size_tPKN1C1TEPN1C2TIE"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1a8023405f5360828c9a892510a5f4c4ec"></span>void <code class="sig-name descname">indirect_heap_pop</code><span class="sig-paren">(</span>size_t <em>k</em>, <em class="property">const</em> <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss17indirect_heap_popEv6size_tPKN1C1TEPN1C2TIE" title="faiss::indirect_heap_pop::C">C</a>::T *<em>bh_val</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss17indirect_heap_popEv6size_tPKN1C1TEPN1C2TIE" title="faiss::indirect_heap_pop::C">C</a>::TI *<em>bh_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss18indirect_heap_pushEv6size_tPKN1C1TEPN1C2TIEN1C2TIE">
<span id="_CPPv3I0EN5faiss18indirect_heap_pushE6size_tPKN1C1TEPN1C2TIEN1C2TIE"></span><span id="_CPPv2I0EN5faiss18indirect_heap_pushE6size_tPKN1C1TEPN1C2TIEN1C2TIE"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1a8ecaf37c77256e02a946e1572b992ed5"></span>void <code class="sig-name descname">indirect_heap_push</code><span class="sig-paren">(</span>size_t <em>k</em>, <em class="property">const</em> <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss18indirect_heap_pushEv6size_tPKN1C1TEPN1C2TIEN1C2TIE" title="faiss::indirect_heap_push::C">C</a>::T *<em>bh_val</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss18indirect_heap_pushEv6size_tPKN1C1TEPN1C2TIEN1C2TIE" title="faiss::indirect_heap_push::C">C</a>::TI *<em>bh_ids</em>, <em class="property">typename</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss18indirect_heap_pushEv6size_tPKN1C1TEPN1C2TIEN1C2TIE" title="faiss::indirect_heap_push::C">C</a>::TI <em>id</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss14cmin_nextafterE1T1T">
<span id="_CPPv3I0EN5faiss14cmin_nextafterE1T"></span><span id="_CPPv2I0EN5faiss14cmin_nextafterE1T"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1a36bf2bb72e8dd3c2e320a6ef89765635"></span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I0EN5faiss14cmin_nextafterE1T1T" title="faiss::cmin_nextafter::T">T</a> <code class="sig-name descname">cmin_nextafter</code><span class="sig-paren">(</span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I0EN5faiss14cmin_nextafterE1T1T" title="faiss::cmin_nextafter::T">T</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss14cmax_nextafterE1T1T">
<span id="_CPPv3I0EN5faiss14cmax_nextafterE1T"></span><span id="_CPPv2I0EN5faiss14cmax_nextafterE1T"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="namespacefaiss_1a6081a16de4c32586093673ee7590731f"></span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I0EN5faiss14cmax_nextafterE1T1T" title="faiss::cmax_nextafter::T">T</a> <code class="sig-name descname">cmax_nextafter</code><span class="sig-paren">(</span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I0EN5faiss14cmax_nextafterE1T1T" title="faiss::cmax_nextafter::T">T</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4IEN5faiss14cmin_nextafterIfEEff">
<span id="_CPPv3IEN5faiss14cmin_nextafterIfEEf"></span><span id="_CPPv2IEN5faiss14cmin_nextafterIfEEf"></span>template&lt;&gt;<br /><span class="target" id="namespacefaiss_1a49b45a342afbbed4b3d58dd42ff19f71"></span>float <code class="sig-name descname">cmin_nextafter</code>&lt;float&gt;<span class="sig-paren">(</span>float <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4IEN5faiss14cmax_nextafterIfEEff">
<span id="_CPPv3IEN5faiss14cmax_nextafterIfEEf"></span><span id="_CPPv2IEN5faiss14cmax_nextafterIfEEf"></span>template&lt;&gt;<br /><span class="target" id="namespacefaiss_1a0f12494aca68dc1eafaee9caefb3a4b0"></span>float <code class="sig-name descname">cmax_nextafter</code>&lt;float&gt;<span class="sig-paren">(</span>float <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4IEN5faiss14cmin_nextafterI8uint16_tEE8uint16_t8uint16_t">
<span id="_CPPv3IEN5faiss14cmin_nextafterI8uint16_tEE8uint16_t"></span><span id="_CPPv2IEN5faiss14cmin_nextafterI8uint16_tEE8uint16_t"></span>template&lt;&gt;<br /><span class="target" id="namespacefaiss_1abec32c4c15ce3c61dc2dfd6ca6a8382f"></span>uint16_t <code class="sig-name descname">cmin_nextafter</code>&lt;uint16_t&gt;<span class="sig-paren">(</span>uint16_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4IEN5faiss14cmax_nextafterI8uint16_tEE8uint16_t8uint16_t">
<span id="_CPPv3IEN5faiss14cmax_nextafterI8uint16_tEE8uint16_t"></span><span id="_CPPv2IEN5faiss14cmax_nextafterI8uint16_tEE8uint16_t"></span>template&lt;&gt;<br /><span class="target" id="namespacefaiss_1a8bfdae186db8cb49267f2164f89f5f48"></span>uint16_t <code class="sig-name descname">cmax_nextafter</code>&lt;uint16_t&gt;<span class="sig-paren">(</span>uint16_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss15partition_fuzzyEN1C1TEPN1C1TEPN1C2TIE6size_t6size_t6size_tP6size_t">
<span id="_CPPv3I0EN5faiss15partition_fuzzyEPN1C1TEPN1C2TIE6size_t6size_t6size_tP6size_t"></span><span id="_CPPv2I0EN5faiss15partition_fuzzyEPN1C1TEPN1C2TIE6size_t6size_t6size_tP6size_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1a9c403fd30f8012bde1e38ea9c2dcdab3"></span><a class="reference internal" href="../file/partitioning_8h.html#_CPPv4I0EN5faiss15partition_fuzzyEN1C1TEPN1C1TEPN1C2TIE6size_t6size_t6size_tP6size_t" title="faiss::partition_fuzzy::C">C</a>::T <code class="sig-name descname">partition_fuzzy</code><span class="sig-paren">(</span><em class="property">typename</em> <a class="reference internal" href="../file/partitioning_8h.html#_CPPv4I0EN5faiss15partition_fuzzyEN1C1TEPN1C1TEPN1C2TIE6size_t6size_t6size_tP6size_t" title="faiss::partition_fuzzy::C">C</a>::T *<em>vals</em>, <em class="property">typename</em> <a class="reference internal" href="../file/partitioning_8h.html#_CPPv4I0EN5faiss15partition_fuzzyEN1C1TEPN1C1TEPN1C2TIE6size_t6size_t6size_tP6size_t" title="faiss::partition_fuzzy::C">C</a>::TI *<em>ids</em>, size_t <em>n</em>, size_t <em>q_min</em>, size_t <em>q_max</em>, size_t *<em>q_out</em><span class="sig-paren">)</span><br /></dt>
<dd><p>partitions the table into 0:q and q:n where all elements above q are &gt;= all elements below q (for C = <a class="reference internal" href="../struct/structfaiss_1_1CMax.html#structfaiss_1_1CMax"><span class="std std-ref">CMax</span></a>, for <a class="reference internal" href="../struct/structfaiss_1_1CMin.html#structfaiss_1_1CMin"><span class="std std-ref">CMin</span></a> comparisons are reversed)</p>
<p>Returns the partition threshold. The elements q:n are destroyed on output. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss9partitionEN1C1TEPN1C1TEPN1C2TIE6size_t6size_t">
<span id="_CPPv3I0EN5faiss9partitionEPN1C1TEPN1C2TIE6size_t6size_t"></span><span id="_CPPv2I0EN5faiss9partitionEPN1C1TEPN1C2TIE6size_t6size_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="namespacefaiss_1afad6c999c4af7456ef9954f2f3021592"></span><a class="reference internal" href="../file/partitioning_8h.html#_CPPv4I0EN5faiss9partitionEN1C1TEPN1C1TEPN1C2TIE6size_t6size_t" title="faiss::partition::C">C</a>::T <code class="sig-name descname">partition</code><span class="sig-paren">(</span><em class="property">typename</em> <a class="reference internal" href="../file/partitioning_8h.html#_CPPv4I0EN5faiss9partitionEN1C1TEPN1C1TEPN1C2TIE6size_t6size_t" title="faiss::partition::C">C</a>::T *<em>vals</em>, <em class="property">typename</em> <a class="reference internal" href="../file/partitioning_8h.html#_CPPv4I0EN5faiss9partitionEN1C1TEPN1C1TEPN1C2TIE6size_t6size_t" title="faiss::partition::C">C</a>::TI *<em>ids</em>, size_t <em>n</em>, size_t <em>q</em><span class="sig-paren">)</span><br /></dt>
<dd><p>simplified interface for when the parition is not fuzzy </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16simd_histogram_8EPK8uint16_ti8uint16_tiPi">
<span id="_CPPv3N5faiss16simd_histogram_8EPK8uint16_ti8uint16_tiPi"></span><span id="_CPPv2N5faiss16simd_histogram_8EPK8uint16_ti8uint16_tiPi"></span><span id="faiss::simd_histogram_8__uint16_tCP.i.uint16_t.i.iP"></span><span class="target" id="namespacefaiss_1a607e40148f9d63cc082cb0ed7cbdc1c2"></span>void <code class="sig-name descname">simd_histogram_8</code><span class="sig-paren">(</span><em class="property">const</em> uint16_t *<em>data</em>, int <em>n</em>, uint16_t <em>min</em>, int <em>shift</em>, int *<em>hist</em><span class="sig-paren">)</span><br /></dt>
<dd><p>low level SIMD histogramming functions 8-bin histogram of (x - min) &gt;&gt; shift values outside the range are ignored. the data table should be aligned on 32 bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17simd_histogram_16EPK8uint16_ti8uint16_tiPi">
<span id="_CPPv3N5faiss17simd_histogram_16EPK8uint16_ti8uint16_tiPi"></span><span id="_CPPv2N5faiss17simd_histogram_16EPK8uint16_ti8uint16_tiPi"></span><span id="faiss::simd_histogram_16__uint16_tCP.i.uint16_t.i.iP"></span><span class="target" id="namespacefaiss_1aff3bc91a0aef8d8aca171a67611b65a2"></span>void <code class="sig-name descname">simd_histogram_16</code><span class="sig-paren">(</span><em class="property">const</em> uint16_t *<em>data</em>, int <em>n</em>, uint16_t <em>min</em>, int <em>shift</em>, int *<em>hist</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same for 16-bin histogram </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10float_randEPf6size_t7int64_t">
<span id="_CPPv3N5faiss10float_randEPf6size_t7int64_t"></span><span id="_CPPv2N5faiss10float_randEPf6size_t7int64_t"></span><span id="faiss::float_rand__floatP.s.int64_t"></span><span class="target" id="namespacefaiss_1a5044a6332355bfa866dda113f81e9602"></span>void <code class="sig-name descname">float_rand</code><span class="sig-paren">(</span>float *<em>x</em>, size_t <em>n</em>, int64_t <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11float_randnEPf6size_t7int64_t">
<span id="_CPPv3N5faiss11float_randnEPf6size_t7int64_t"></span><span id="_CPPv2N5faiss11float_randnEPf6size_t7int64_t"></span><span id="faiss::float_randn__floatP.s.int64_t"></span><span class="target" id="namespacefaiss_1aa149aec8f65085773f664bb7b5884743"></span>void <code class="sig-name descname">float_randn</code><span class="sig-paren">(</span>float *<em>x</em>, size_t <em>n</em>, int64_t <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10int64_randEP7int64_t6size_t7int64_t">
<span id="_CPPv3N5faiss10int64_randEP7int64_t6size_t7int64_t"></span><span id="_CPPv2N5faiss10int64_randEP7int64_t6size_t7int64_t"></span><span id="faiss::int64_rand__int64_tP.s.int64_t"></span><span class="target" id="namespacefaiss_1aba416d6990d202bfc7eac244a7d874c8"></span>void <code class="sig-name descname">int64_rand</code><span class="sig-paren">(</span>int64_t *<em>x</em>, size_t <em>n</em>, int64_t <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9byte_randEP7uint8_t6size_t7int64_t">
<span id="_CPPv3N5faiss9byte_randEP7uint8_t6size_t7int64_t"></span><span id="_CPPv2N5faiss9byte_randEP7uint8_t6size_t7int64_t"></span><span id="faiss::byte_rand__uint8_tP.s.int64_t"></span><span class="target" id="namespacefaiss_1a4d573c579e00f4c78a8fa9a50a6a7100"></span>void <code class="sig-name descname">byte_rand</code><span class="sig-paren">(</span>uint8_t *<em>x</em>, size_t <em>n</em>, int64_t <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14int64_rand_maxEP7int64_t6size_t8uint64_t7int64_t">
<span id="_CPPv3N5faiss14int64_rand_maxEP7int64_t6size_t8uint64_t7int64_t"></span><span id="_CPPv2N5faiss14int64_rand_maxEP7int64_t6size_t8uint64_t7int64_t"></span><span id="faiss::int64_rand_max__int64_tP.s.uint64_t.int64_t"></span><span class="target" id="namespacefaiss_1ac394a01fe370ddc30c394cdea9527fbe"></span>void <code class="sig-name descname">int64_rand_max</code><span class="sig-paren">(</span>int64_t *<em>x</em>, size_t <em>n</em>, uint64_t <em>max</em>, int64_t <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9rand_permEPi6size_t7int64_t">
<span id="_CPPv3N5faiss9rand_permEPi6size_t7int64_t"></span><span id="_CPPv2N5faiss9rand_permEPi6size_t7int64_t"></span><span id="faiss::rand_perm__iP.s.int64_t"></span><span class="target" id="namespacefaiss_1ad40228bb4ba7a96e0fe801b9f9b7c900"></span>void <code class="sig-name descname">rand_perm</code><span class="sig-paren">(</span>int *<em>perm</em>, size_t <em>n</em>, int64_t <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3minE12simd16uint1612simd16uint16">
<span id="_CPPv3N5faiss3minE12simd16uint1612simd16uint16"></span><span id="_CPPv2N5faiss3minE12simd16uint1612simd16uint16"></span><span id="faiss::min__simd16uint16.simd16uint16"></span><span class="target" id="namespacefaiss_1ae44e64d0db11cd08cfae98b8055628c3"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">min</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3maxE12simd16uint1612simd16uint16">
<span id="_CPPv3N5faiss3maxE12simd16uint1612simd16uint16"></span><span id="_CPPv2N5faiss3maxE12simd16uint1612simd16uint16"></span><span id="faiss::max__simd16uint16.simd16uint16"></span><span class="target" id="namespacefaiss_1a1970d7e0fa67324947657d43a5bae9ce"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">max</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10combine2x2E12simd16uint1612simd16uint16">
<span id="_CPPv3N5faiss10combine2x2E12simd16uint1612simd16uint16"></span><span id="_CPPv2N5faiss10combine2x2E12simd16uint1612simd16uint16"></span><span id="faiss::combine2x2__simd16uint16.simd16uint16"></span><span class="target" id="namespacefaiss_1a44550e642ff438af2de805eeaf7cda23"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">combine2x2</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8cmp_ge32E12simd16uint1612simd16uint1612simd16uint16">
<span id="_CPPv3N5faiss8cmp_ge32E12simd16uint1612simd16uint1612simd16uint16"></span><span id="_CPPv2N5faiss8cmp_ge32E12simd16uint1612simd16uint1612simd16uint16"></span><span id="faiss::cmp_ge32__simd16uint16.simd16uint16.simd16uint16"></span><span class="target" id="namespacefaiss_1a12cfacbde86018137e809d6f5a058d7b"></span>uint32_t <code class="sig-name descname">cmp_ge32</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>d0</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>d1</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8cmp_le32E12simd16uint1612simd16uint1612simd16uint16">
<span id="_CPPv3N5faiss8cmp_le32E12simd16uint1612simd16uint1612simd16uint16"></span><span id="_CPPv2N5faiss8cmp_le32E12simd16uint1612simd16uint1612simd16uint16"></span><span id="faiss::cmp_le32__simd16uint16.simd16uint16.simd16uint16"></span><span class="target" id="namespacefaiss_1ab3ce07e3be6ce83bbc1a0bf229c707c5"></span>uint32_t <code class="sig-name descname">cmp_le32</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>d0</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>d1</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24uint16_to_uint8_saturateE12simd16uint1612simd16uint16">
<span id="_CPPv3N5faiss24uint16_to_uint8_saturateE12simd16uint1612simd16uint16"></span><span id="_CPPv2N5faiss24uint16_to_uint8_saturateE12simd16uint1612simd16uint16"></span><span id="faiss::uint16_to_uint8_saturate__simd16uint16.simd16uint16"></span><span class="target" id="namespacefaiss_1afdc84fda618656633753330c92ad070e"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">uint16_to_uint8_saturate</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8get_MSBsE11simd32uint8">
<span id="_CPPv3N5faiss8get_MSBsE11simd32uint8"></span><span id="_CPPv2N5faiss8get_MSBsE11simd32uint8"></span><span id="faiss::get_MSBs__simd32uint8"></span><span class="target" id="namespacefaiss_1a1a1ef7dc74c5b448482e503fb435400f"></span>uint32_t <code class="sig-name descname">get_MSBs</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>a</em><span class="sig-paren">)</span><br /></dt>
<dd><p>get most significant bit of each byte </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6blendvE11simd32uint811simd32uint811simd32uint8">
<span id="_CPPv3N5faiss6blendvE11simd32uint811simd32uint811simd32uint8"></span><span id="_CPPv2N5faiss6blendvE11simd32uint811simd32uint811simd32uint8"></span><span id="faiss::blendv__simd32uint8.simd32uint8.simd32uint8"></span><span class="target" id="namespacefaiss_1a376a50b76efda66b8e55b8deb5ad8dc2"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">blendv</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>b</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>mask</em><span class="sig-paren">)</span><br /></dt>
<dd><p>use MSB of each byte of mask to select a byte between a and b </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss4haddE12simd8float3212simd8float32">
<span id="_CPPv3N5faiss4haddE12simd8float3212simd8float32"></span><span id="_CPPv2N5faiss4haddE12simd8float3212simd8float32"></span><span id="faiss::hadd__simd8float32.simd8float32"></span><span class="target" id="namespacefaiss_1a40aa73417b26cd8c6872493a3c21b14d"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">hadd</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8unpackloE12simd8float3212simd8float32">
<span id="_CPPv3N5faiss8unpackloE12simd8float3212simd8float32"></span><span id="_CPPv2N5faiss8unpackloE12simd8float3212simd8float32"></span><span id="faiss::unpacklo__simd8float32.simd8float32"></span><span class="target" id="namespacefaiss_1adfeefc42906233e7666584a566533021"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">unpacklo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8unpackhiE12simd8float3212simd8float32">
<span id="_CPPv3N5faiss8unpackhiE12simd8float3212simd8float32"></span><span id="_CPPv2N5faiss8unpackhiE12simd8float3212simd8float32"></span><span id="faiss::unpackhi__simd8float32.simd8float32"></span><span class="target" id="namespacefaiss_1a6d471fb67aa075837cc9411f22fac9c3"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">unpackhi</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss5fmaddE12simd8float3212simd8float3212simd8float32">
<span id="_CPPv3N5faiss5fmaddE12simd8float3212simd8float3212simd8float32"></span><span id="_CPPv2N5faiss5fmaddE12simd8float3212simd8float3212simd8float32"></span><span id="faiss::fmadd__simd8float32.simd8float32.simd8float32"></span><span class="target" id="namespacefaiss_1aafdd3366a94e78d8ef74c58c55ea4bbd"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">fmadd</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>b</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>c</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12getmillisecsEv">
<span id="_CPPv3N5faiss12getmillisecsEv"></span><span id="_CPPv2N5faiss12getmillisecsEv"></span><span id="faiss::getmillisecs"></span><span class="target" id="namespacefaiss_1af2a71f7d5402ae02ce169a4cc83020eb"></span>double <code class="sig-name descname">getmillisecs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>ms elapsed since some arbitrary epoch </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16get_mem_usage_kbEv">
<span id="_CPPv3N5faiss16get_mem_usage_kbEv"></span><span id="_CPPv2N5faiss16get_mem_usage_kbEv"></span><span id="faiss::get_mem_usage_kb"></span><span class="target" id="namespacefaiss_1aa3af5769b0b649f112332a874c64d361"></span>size_t <code class="sig-name descname">get_mem_usage_kb</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>get current RSS usage in kB </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10get_cyclesEv">
<span id="_CPPv3N5faiss10get_cyclesEv"></span><span id="_CPPv2N5faiss10get_cyclesEv"></span><span id="faiss::get_cycles"></span><span class="target" id="namespacefaiss_1a090355c2725c425a511a367cbfe41262"></span>uint64_t <code class="sig-name descname">get_cycles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9fvec_maddE6size_tPKffPKfPf">
<span id="_CPPv3N5faiss9fvec_maddE6size_tPKffPKfPf"></span><span id="_CPPv2N5faiss9fvec_maddE6size_tPKffPKfPf"></span><span id="faiss::fvec_madd__s.floatCP.float.floatCP.floatP"></span><span class="target" id="namespacefaiss_1a40328c31abd0bbba5bd95d7de951e847"></span>void <code class="sig-name descname">fvec_madd</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>a</em>, float <em>bf</em>, <em class="property">const</em> float *<em>b</em>, float *<em>c</em><span class="sig-paren">)</span><br /></dt>
<dd><p>compute c := a + bf * b for a, b and c tables</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: size of the tables </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: size n </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code>: size n </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code>: restult table, size n </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20fvec_madd_and_argminE6size_tPKffPKfPf">
<span id="_CPPv3N5faiss20fvec_madd_and_argminE6size_tPKffPKfPf"></span><span id="_CPPv2N5faiss20fvec_madd_and_argminE6size_tPKffPKfPf"></span><span id="faiss::fvec_madd_and_argmin__s.floatCP.float.floatCP.floatP"></span><span class="target" id="namespacefaiss_1a9da63b8bb84460f5e8ccf8e17622cc7a"></span>int <code class="sig-name descname">fvec_madd_and_argmin</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>a</em>, float <em>bf</em>, <em class="property">const</em> float *<em>b</em>, float *<em>c</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as fvec_madd, also return index of the min of the result table <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>index of the min of table c </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10reflectionEPKfPf6size_t6size_t6size_t">
<span id="_CPPv3N5faiss10reflectionEPKfPf6size_t6size_t6size_t"></span><span id="_CPPv2N5faiss10reflectionEPKfPf6size_t6size_t6size_t"></span><span id="faiss::reflection__floatCP.floatP.s.s.s"></span><span class="target" id="namespacefaiss_1ab7c6da3d6915a010d5d3074d93878ce9"></span>void <code class="sig-name descname">reflection</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>u</em>, float *<em>x</em>, size_t <em>n</em>, size_t <em>d</em>, size_t <em>nu</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9matrix_qrEiiPf">
<span id="_CPPv3N5faiss9matrix_qrEiiPf"></span><span id="_CPPv2N5faiss9matrix_qrEiiPf"></span><span id="faiss::matrix_qr__i.i.floatP"></span><span class="target" id="namespacefaiss_1afb68fe89ad5e948974da1b70d7b4157c"></span>void <code class="sig-name descname">matrix_qr</code><span class="sig-paren">(</span>int <em>m</em>, int <em>n</em>, float *<em>a</em><span class="sig-paren">)</span><br /></dt>
<dd><p>compute the Q of the QR decomposition for m &gt; n <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: size n * m: input matrix and output Q </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20ranklist_handle_tiesEiP7int64_tPKf">
<span id="_CPPv3N5faiss20ranklist_handle_tiesEiP7int64_tPKf"></span><span id="_CPPv2N5faiss20ranklist_handle_tiesEiP7int64_tPKf"></span><span id="faiss::ranklist_handle_ties__i.int64_tP.floatCP"></span><span class="target" id="namespacefaiss_1ad5827240bc67d6f8a612ba8761b34714"></span>void <code class="sig-name descname">ranklist_handle_ties</code><span class="sig-paren">(</span>int <em>k</em>, int64_t *<em>idx</em>, <em class="property">const</em> float *<em>dis</em><span class="sig-paren">)</span><br /></dt>
<dd><p>distances are supposed to be sorted. Sorts indices with same distance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss26ranklist_intersection_sizeE6size_tPK7int64_t6size_tPK7int64_t">
<span id="_CPPv3N5faiss26ranklist_intersection_sizeE6size_tPK7int64_t6size_tPK7int64_t"></span><span id="_CPPv2N5faiss26ranklist_intersection_sizeE6size_tPK7int64_t6size_tPK7int64_t"></span><span id="faiss::ranklist_intersection_size__s.int64_tCP.s.int64_tCP"></span><span class="target" id="namespacefaiss_1a104f2c4626def41c53ad1ca0027741cb"></span>size_t <code class="sig-name descname">ranklist_intersection_size</code><span class="sig-paren">(</span>size_t <em>k1</em>, <em class="property">const</em> int64_t *<em>v1</em>, size_t <em>k2</em>, <em class="property">const</em> int64_t *<em>v2</em><span class="sig-paren">)</span><br /></dt>
<dd><p>count the number of comon elements between v1 and v2 algorithm = sorting + bissection to avoid double-counting duplicates </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23merge_result_table_withE6size_t6size_tP7int64_tPfPK7int64_tPKfb7int64_t">
<span id="_CPPv3N5faiss23merge_result_table_withE6size_t6size_tP7int64_tPfPK7int64_tPKfb7int64_t"></span><span id="_CPPv2N5faiss23merge_result_table_withE6size_t6size_tP7int64_tPfPK7int64_tPKfb7int64_t"></span><span id="faiss::merge_result_table_with__s.s.int64_tP.floatP.int64_tCP.floatCP.b.int64_t"></span><span class="target" id="namespacefaiss_1a7690bafb56c991da908ee11822c7a8da"></span>size_t <code class="sig-name descname">merge_result_table_with</code><span class="sig-paren">(</span>size_t <em>n</em>, size_t <em>k</em>, int64_t *<em>I0</em>, float *<em>D0</em>, <em class="property">const</em> int64_t *<em>I1</em>, <em class="property">const</em> float *<em>D1</em>, bool <em>keep_min</em> = true, int64_t <em>translation</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd><p>merge a result table into another one</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>nb of values that were taken from the second table </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">I0</span><span class="pre">D0</span></code>: first result table, size (n, k) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I1</span><span class="pre">D1</span></code>: second result table, size (n, k) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keep_min</span></code>: if true, keep min values, otherwise keep max </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">translation</span></code>: add this value to all I1âs indexes </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16imbalance_factorEiiPK7int64_t">
<span id="_CPPv3N5faiss16imbalance_factorEiiPK7int64_t"></span><span id="_CPPv2N5faiss16imbalance_factorEiiPK7int64_t"></span><span id="faiss::imbalance_factor__i.i.int64_tCP"></span><span class="target" id="namespacefaiss_1aeffbb44eed1c07967d77b369d7ba7b1c"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span>int <em>n</em>, int <em>k</em>, <em class="property">const</em> int64_t *<em>assign</em><span class="sig-paren">)</span><br /></dt>
<dd><p>a balanced assignment has a IF of 1 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16imbalance_factorEiPKi">
<span id="_CPPv3N5faiss16imbalance_factorEiPKi"></span><span id="_CPPv2N5faiss16imbalance_factorEiPKi"></span><span id="faiss::imbalance_factor__i.iCP"></span><span class="target" id="namespacefaiss_1a94c1d99ac39d22e362aa27ce7c7ff714"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span>int <em>k</em>, <em class="property">const</em> int *<em>hist</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same, takes a histogram as input </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12fvec_argsortE6size_tPKfP6size_t">
<span id="_CPPv3N5faiss12fvec_argsortE6size_tPKfP6size_t"></span><span id="_CPPv2N5faiss12fvec_argsortE6size_tPKfP6size_t"></span><span id="faiss::fvec_argsort__s.floatCP.sP"></span><span class="target" id="namespacefaiss_1a027b726c606d329c30840e51b539ddb4"></span>void <code class="sig-name descname">fvec_argsort</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>vals</em>, size_t *<em>perm</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21fvec_argsort_parallelE6size_tPKfP6size_t">
<span id="_CPPv3N5faiss21fvec_argsort_parallelE6size_tPKfP6size_t"></span><span id="_CPPv2N5faiss21fvec_argsort_parallelE6size_tPKfP6size_t"></span><span id="faiss::fvec_argsort_parallel__s.floatCP.sP"></span><span class="target" id="namespacefaiss_1a0e967dd8492dc074a7d6950d437e53a2"></span>void <code class="sig-name descname">fvec_argsort_parallel</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>vals</em>, size_t *<em>perm</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9ivec_histE6size_tPKiiPi">
<span id="_CPPv3N5faiss9ivec_histE6size_tPKiiPi"></span><span id="_CPPv2N5faiss9ivec_histE6size_tPKiiPi"></span><span id="faiss::ivec_hist__s.iCP.i.iP"></span><span class="target" id="namespacefaiss_1a7bea462108bee98d8d5859b51ec4db8e"></span>int <code class="sig-name descname">ivec_hist</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> int *<em>v</em>, int <em>vmax</em>, int *<em>hist</em><span class="sig-paren">)</span><br /></dt>
<dd><p>compute histogram on v </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12bincode_histE6size_t6size_tPK7uint8_tPi">
<span id="_CPPv3N5faiss12bincode_histE6size_t6size_tPK7uint8_tPi"></span><span id="_CPPv2N5faiss12bincode_histE6size_t6size_tPK7uint8_tPi"></span><span id="faiss::bincode_hist__s.s.uint8_tCP.iP"></span><span class="target" id="namespacefaiss_1a154a47857ed321b9db91122770a16e09"></span>void <code class="sig-name descname">bincode_hist</code><span class="sig-paren">(</span>size_t <em>n</em>, size_t <em>nbits</em>, <em class="property">const</em> uint8_t *<em>codes</em>, int *<em>hist</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Compute histogram of bits on a code array</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: size(n, nbits / 8) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hist</span></code>: size(nbits): nb of 1s in the array of codes </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13ivec_checksumE6size_tPKi">
<span id="_CPPv3N5faiss13ivec_checksumE6size_tPKi"></span><span id="_CPPv2N5faiss13ivec_checksumE6size_tPKi"></span><span id="faiss::ivec_checksum__s.iCP"></span><span class="target" id="namespacefaiss_1a4369329c9dbdfe23e3f35d09ba7b5c6e"></span>size_t <code class="sig-name descname">ivec_checksum</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> int *<em>a</em><span class="sig-paren">)</span><br /></dt>
<dd><p>compute a checksum on a table. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21fvecs_maybe_subsampleE6size_tP6size_t6size_tPKfb7int64_t">
<span id="_CPPv3N5faiss21fvecs_maybe_subsampleE6size_tP6size_t6size_tPKfb7int64_t"></span><span id="_CPPv2N5faiss21fvecs_maybe_subsampleE6size_tP6size_t6size_tPKfb7int64_t"></span><span id="faiss::fvecs_maybe_subsample__s.sP.s.floatCP.b.int64_t"></span><span class="target" id="namespacefaiss_1af851590d865ea2eae8dae3ae72406bfb"></span><em class="property">const</em> float *<code class="sig-name descname">fvecs_maybe_subsample</code><span class="sig-paren">(</span>size_t <em>d</em>, size_t *<em>n</em>, size_t <em>nmax</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em> = false, int64_t <em>seed</em> = 1234<span class="sig-paren">)</span><br /></dt>
<dd><p>random subsamples a set of vectors if there are too many of them</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>x or an array allocated with new [] with *n vectors </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimension of the vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: on input: nb of input vectors, output: nb of output vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nmax</span></code>: max nb of vectors to keep </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input array, size *n-by-d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seed</span></code>: random seed to use for sampling </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14binary_to_realE6size_tPK7uint8_tPf">
<span id="_CPPv3N5faiss14binary_to_realE6size_tPK7uint8_tPf"></span><span id="_CPPv2N5faiss14binary_to_realE6size_tPK7uint8_tPf"></span><span id="faiss::binary_to_real__s.uint8_tCP.floatP"></span><span class="target" id="namespacefaiss_1ac8260e10cfeed08a4344b85845773e16"></span>void <code class="sig-name descname">binary_to_real</code><span class="sig-paren">(</span>size_t <em>d</em>, <em class="property">const</em> uint8_t *<em>x_in</em>, float *<em>x_out</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Convert binary vector to +1/-1 valued float vector.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimension of the vector (multiple of 8) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_in</span></code>: input binary vector (uint8_t table of size d / 8) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_out</span></code>: output float vector (float table of size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14real_to_binaryE6size_tPKfP7uint8_t">
<span id="_CPPv3N5faiss14real_to_binaryE6size_tPKfP7uint8_t"></span><span id="_CPPv2N5faiss14real_to_binaryE6size_tPKfP7uint8_t"></span><span id="faiss::real_to_binary__s.floatCP.uint8_tP"></span><span class="target" id="namespacefaiss_1ab491c9e2f77a750c9f0324bfe00e3e57"></span>void <code class="sig-name descname">real_to_binary</code><span class="sig-paren">(</span>size_t <em>d</em>, <em class="property">const</em> float *<em>x_in</em>, uint8_t *<em>x_out</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Convert float vector to binary vector. Components &gt; 0 are converted to 1, others to 0.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimension of the vector (multiple of 8) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_in</span></code>: input float vector (float table of size d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_out</span></code>: output binary vector (uint8_t table of size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10hash_bytesEPK7uint8_t7int64_t">
<span id="_CPPv3N5faiss10hash_bytesEPK7uint8_t7int64_t"></span><span id="_CPPv2N5faiss10hash_bytesEPK7uint8_t7int64_t"></span><span id="faiss::hash_bytes__uint8_tCP.int64_t"></span><span class="target" id="namespacefaiss_1a0e26e4710a7c276f46b730d8ab6ac1e0"></span>uint64_t <code class="sig-name descname">hash_bytes</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>bytes</em>, int64_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd><p>A reasonable hashing function </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12check_openmpEv">
<span id="_CPPv3N5faiss12check_openmpEv"></span><span id="_CPPv2N5faiss12check_openmpEv"></span><span id="faiss::check_openmp"></span><span class="target" id="namespacefaiss_1ad86caef545c6a7672422d7d34c03f446"></span>bool <code class="sig-name descname">check_openmp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Whether OpenMP annotations were respected. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Variables</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17IO_FLAG_READ_ONLYE">
<span id="_CPPv3N5faiss17IO_FLAG_READ_ONLYE"></span><span id="_CPPv2N5faiss17IO_FLAG_READ_ONLYE"></span><span id="faiss::IO_FLAG_READ_ONLY__iC"></span><span class="target" id="namespacefaiss_1aa75d478d14ec1ffd7b0718adf0dab26b"></span><em class="property">const</em> int <code class="sig-name descname">IO_FLAG_READ_ONLY</code> = 2<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IO_FLAG_ONDISK_SAME_DIRE">
<span id="_CPPv3N5faiss23IO_FLAG_ONDISK_SAME_DIRE"></span><span id="_CPPv2N5faiss23IO_FLAG_ONDISK_SAME_DIRE"></span><span id="faiss::IO_FLAG_ONDISK_SAME_DIR__iC"></span><span class="target" id="namespacefaiss_1a0afd2e723c83893be7aff1fa644d13b3"></span><em class="property">const</em> int <code class="sig-name descname">IO_FLAG_ONDISK_SAME_DIR</code> = 4<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IO_FLAG_SKIP_IVF_DATAE">
<span id="_CPPv3N5faiss21IO_FLAG_SKIP_IVF_DATAE"></span><span id="_CPPv2N5faiss21IO_FLAG_SKIP_IVF_DATAE"></span><span id="faiss::IO_FLAG_SKIP_IVF_DATA__iC"></span><span class="target" id="namespacefaiss_1af2f70735b00d2defcffa4c051830fd9f"></span><em class="property">const</em> int <code class="sig-name descname">IO_FLAG_SKIP_IVF_DATA</code> = 8<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IO_FLAG_MMAPE">
<span id="_CPPv3N5faiss12IO_FLAG_MMAPE"></span><span id="_CPPv2N5faiss12IO_FLAG_MMAPE"></span><span id="faiss::IO_FLAG_MMAP__iC"></span><span class="target" id="namespacefaiss_1aff97660fb0994bea32b9c4714e324fa0"></span><em class="property">const</em> int <code class="sig-name descname">IO_FLAG_MMAP</code> = <a class="reference internal" href="../file/index__io_8h.html#_CPPv4N5faiss21IO_FLAG_SKIP_IVF_DATAE" title="faiss::IO_FLAG_SKIP_IVF_DATA">IO_FLAG_SKIP_IVF_DATA</a> | 0x646f0000<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a308343dfd91ddc2dad5d62c9fa79a65e"></span><code class="sig-name descname">FAISS_API IndexBinaryHashStats indexBinaryHash_stats</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a28374b20fb3fd40e3abc21c78135c3a7"></span><code class="sig-name descname">FAISS_API IndexIVFStats indexIVF_stats</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a4597bfef2dd25b76afe4a11f63aaf168"></span><code class="sig-name descname">FAISS_API size_t precomputed_table_max_bytes</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1ae040bf76054f16979b15559f8ffc5727"></span><code class="sig-name descname">FAISS_API IndexIVFPQStats indexIVFPQ_stats</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a3aebb977a33e268e5eddf7ad361598f9"></span><code class="sig-name descname">FAISS_API IVFFastScanStats IVFFastScan_stats</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a386cc28ead8e63ddabac9f1f9be8ff7e"></span><code class="sig-name descname">FAISS_API IndexPQStats indexPQ_stats</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a740c0ca147e528a2d7913acad0fc9bc3"></span><code class="sig-name descname">FAISS_API FastScanStats FastScan_stats</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a9875918581ad243ce5483a090c9da918"></span><code class="sig-name descname">FAISS_API int distance_compute_blas_threshold</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a70eb5be4a6af3b9d948bcb8f949a4e9f"></span><code class="sig-name descname">FAISS_API int distance_compute_blas_query_bs</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1acbd29d880c5aeaf1caf6266483253953"></span><code class="sig-name descname">FAISS_API int distance_compute_blas_database_bs</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a5ba348773d3fc46e3ea6f668c70bade1"></span><code class="sig-name descname">FAISS_API int distance_compute_min_k_reservoir</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1a1c1a7ffff3e34768b027b77d0d9f96df"></span><code class="sig-name descname">FAISS_API size_t hamming_batch_size</code></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt>
<span class="target" id="namespacefaiss_1ae2bb09d8026f83d03936dcddee878a04"></span><code class="sig-name descname">FAISS_API PartitionStats partition_stats</code></dt>
<dd></dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4I0_iEN5faiss12AlignedTableE">
<span id="_CPPv3I0_iEN5faiss12AlignedTableE"></span><span id="_CPPv2I0_iEN5faiss12AlignedTableE"></span>template&lt;class <code class="sig-name descname">T</code>, int <code class="sig-name descname">A</code> = 32&gt;<br /><span class="target" id="structfaiss_1_1AlignedTable"></span><em class="property">struct </em><code class="sig-name descname">AlignedTable</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12AlignedTable12AlignedTableEv">
<span id="_CPPv3N5faiss12AlignedTable12AlignedTableEv"></span><span id="_CPPv2N5faiss12AlignedTable12AlignedTableEv"></span><span id="faiss::AlignedTable::AlignedTable"></span><span class="target" id="structfaiss_1_1AlignedTable_1a9df42e6d089361f2660ea055bea750af"></span><code class="sig-name descname">AlignedTable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12AlignedTable12AlignedTableE6size_t">
<span id="_CPPv3N5faiss12AlignedTable12AlignedTableE6size_t"></span><span id="_CPPv2N5faiss12AlignedTable12AlignedTableE6size_t"></span><span id="faiss::AlignedTable::AlignedTable__s"></span><span class="target" id="structfaiss_1_1AlignedTable_1ab2d470841a876c31018c80de70f93032"></span><code class="sig-name descname">AlignedTable</code><span class="sig-paren">(</span>size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12AlignedTable8itemsizeEv">
<span id="_CPPv3NK5faiss12AlignedTable8itemsizeEv"></span><span id="_CPPv2NK5faiss12AlignedTable8itemsizeEv"></span><span id="faiss::AlignedTable::itemsizeC"></span><span class="target" id="structfaiss_1_1AlignedTable_1a3108042082ac79a6b52fa66fc7f3dbf4"></span>size_t <code class="sig-name descname">itemsize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12AlignedTable6resizeE6size_t">
<span id="_CPPv3N5faiss12AlignedTable6resizeE6size_t"></span><span id="_CPPv2N5faiss12AlignedTable6resizeE6size_t"></span><span id="faiss::AlignedTable::resize__s"></span><span class="target" id="structfaiss_1_1AlignedTable_1a4ad035d22369fd0d96690cc3dd56b627"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12AlignedTable5clearEv">
<span id="_CPPv3N5faiss12AlignedTable5clearEv"></span><span id="_CPPv2N5faiss12AlignedTable5clearEv"></span><span id="faiss::AlignedTable::clear"></span><span class="target" id="structfaiss_1_1AlignedTable_1a0fc44abce1af64d2f3ec818c4a162322"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12AlignedTable4sizeEv">
<span id="_CPPv3NK5faiss12AlignedTable4sizeEv"></span><span id="_CPPv2NK5faiss12AlignedTable4sizeEv"></span><span id="faiss::AlignedTable::sizeC"></span><span class="target" id="structfaiss_1_1AlignedTable_1acc0383c46b807d32ed509e4f38e6f302"></span>size_t <code class="sig-name descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12AlignedTable6nbytesEv">
<span id="_CPPv3NK5faiss12AlignedTable6nbytesEv"></span><span id="_CPPv2NK5faiss12AlignedTable6nbytesEv"></span><span id="faiss::AlignedTable::nbytesC"></span><span class="target" id="structfaiss_1_1AlignedTable_1ad1dc0523838baffe40691da967bc2323"></span>size_t <code class="sig-name descname">nbytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12AlignedTable3getEv">
<span id="_CPPv3N5faiss12AlignedTable3getEv"></span><span id="_CPPv2N5faiss12AlignedTable3getEv"></span><span id="faiss::AlignedTable::get"></span><span class="target" id="structfaiss_1_1AlignedTable_1a77281d0543fda8a4c5362c42913195ad"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable::T">T</a> *<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12AlignedTable3getEv">
<span id="_CPPv3NK5faiss12AlignedTable3getEv"></span><span id="_CPPv2NK5faiss12AlignedTable3getEv"></span><span id="faiss::AlignedTable::getC"></span><span class="target" id="structfaiss_1_1AlignedTable_1af2dc947e8eafb723e75162002344abcb"></span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable::T">T</a> *<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12AlignedTable4dataEv">
<span id="_CPPv3N5faiss12AlignedTable4dataEv"></span><span id="_CPPv2N5faiss12AlignedTable4dataEv"></span><span id="faiss::AlignedTable::data"></span><span class="target" id="structfaiss_1_1AlignedTable_1a967bc8fe668a1196511fe632870f521b"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable::T">T</a> *<code class="sig-name descname">data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12AlignedTable4dataEv">
<span id="_CPPv3NK5faiss12AlignedTable4dataEv"></span><span id="_CPPv2NK5faiss12AlignedTable4dataEv"></span><span id="faiss::AlignedTable::dataC"></span><span class="target" id="structfaiss_1_1AlignedTable_1a326db828d632470c9aa7777a449c0574"></span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable::T">T</a> *<code class="sig-name descname">data</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12AlignedTableixE6size_t">
<span id="_CPPv3N5faiss12AlignedTableixE6size_t"></span><span id="_CPPv2N5faiss12AlignedTableixE6size_t"></span><span id="faiss::AlignedTable::subscript-operator__s"></span><span class="target" id="structfaiss_1_1AlignedTable_1a670ac13606df9d8767de64f3e97b3bfa"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable::T">T</a> &amp;<code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>size_t <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12AlignedTableixE6size_t">
<span id="_CPPv3NK5faiss12AlignedTableixE6size_t"></span><span id="_CPPv2NK5faiss12AlignedTableixE6size_t"></span><span id="faiss::AlignedTable::subscript-operator__sC"></span><span class="target" id="structfaiss_1_1AlignedTable_1a0dfea251fe4b4de54ea13e2f7a94bb1b"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable::T">T</a> <code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>size_t <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12AlignedTable3tabE">
<span id="_CPPv3N5faiss12AlignedTable3tabE"></span><span id="_CPPv2N5faiss12AlignedTable3tabE"></span><span id="faiss::AlignedTable::tab__AlignedTableTightAlloc:T.A:"></span><span class="target" id="structfaiss_1_1AlignedTable_1a6b71c9654cff088a16e5c24466379774"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc">AlignedTableTightAlloc</a>&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable::T">T</a>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable::A">A</a>&gt; <code class="sig-name descname">tab</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12AlignedTable5numelE">
<span id="_CPPv3N5faiss12AlignedTable5numelE"></span><span id="_CPPv2N5faiss12AlignedTable5numelE"></span><span id="faiss::AlignedTable::numel__s"></span><span class="target" id="structfaiss_1_1AlignedTable_1a9faf9b717285bba439b0868722a34186"></span>size_t <code class="sig-name descname">numel</code> = 0<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12AlignedTable14round_capacityE6size_t">
<span id="_CPPv3N5faiss12AlignedTable14round_capacityE6size_t"></span><span id="_CPPv2N5faiss12AlignedTable14round_capacityE6size_t"></span><span id="faiss::AlignedTable::round_capacity__s"></span><span class="target" id="structfaiss_1_1AlignedTable_1ae0743223b636cb6797dc8c339754fffa"></span>size_t <code class="sig-name descname">round_capacity</code><span class="sig-paren">(</span>size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I0_iEN5faiss22AlignedTableTightAllocE">
<span id="_CPPv3I0_iEN5faiss22AlignedTableTightAllocE"></span><span id="_CPPv2I0_iEN5faiss22AlignedTableTightAllocE"></span>template&lt;class <code class="sig-name descname">T</code>, int <code class="sig-name descname">A</code> = 32&gt;<br /><span class="target" id="structfaiss_1_1AlignedTableTightAlloc"></span><em class="property">struct </em><code class="sig-name descname">AlignedTableTightAlloc</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocEv">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocEv"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocEv"></span><span id="faiss::AlignedTableTightAlloc::AlignedTableTightAlloc"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1adfa5bdd33fd82107cabdd6c20f65c119"></span><code class="sig-name descname">AlignedTableTightAlloc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocE6size_t">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocE6size_t"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocE6size_t"></span><span id="faiss::AlignedTableTightAlloc::AlignedTableTightAlloc__s"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a33196314d0a8c11ab2bb0c010d9f1324"></span><code class="sig-name descname">AlignedTableTightAlloc</code><span class="sig-paren">(</span>size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22AlignedTableTightAlloc8itemsizeEv">
<span id="_CPPv3NK5faiss22AlignedTableTightAlloc8itemsizeEv"></span><span id="_CPPv2NK5faiss22AlignedTableTightAlloc8itemsizeEv"></span><span id="faiss::AlignedTableTightAlloc::itemsizeC"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a51fbebdf28f6d9bbe34a144185167756"></span>size_t <code class="sig-name descname">itemsize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc6resizeE6size_t">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc6resizeE6size_t"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc6resizeE6size_t"></span><span id="faiss::AlignedTableTightAlloc::resize__s"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1acaabed90abaa00244605f0f05f687ede"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>n</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc5clearEv">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc5clearEv"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc5clearEv"></span><span id="faiss::AlignedTableTightAlloc::clear"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a044fdeaa69523206075551cc4649694f"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22AlignedTableTightAlloc4sizeEv">
<span id="_CPPv3NK5faiss22AlignedTableTightAlloc4sizeEv"></span><span id="_CPPv2NK5faiss22AlignedTableTightAlloc4sizeEv"></span><span id="faiss::AlignedTableTightAlloc::sizeC"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a95edb8ba58300d07b7614aa60c59dfb2"></span>size_t <code class="sig-name descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22AlignedTableTightAlloc6nbytesEv">
<span id="_CPPv3NK5faiss22AlignedTableTightAlloc6nbytesEv"></span><span id="_CPPv2NK5faiss22AlignedTableTightAlloc6nbytesEv"></span><span id="faiss::AlignedTableTightAlloc::nbytesC"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a160913c89b3962c7e7083501021eea60"></span>size_t <code class="sig-name descname">nbytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc3getEv">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc3getEv"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc3getEv"></span><span id="faiss::AlignedTableTightAlloc::get"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a310c97ac4599ed101b72ad5fa9e9d286"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a> *<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22AlignedTableTightAlloc3getEv">
<span id="_CPPv3NK5faiss22AlignedTableTightAlloc3getEv"></span><span id="_CPPv2NK5faiss22AlignedTableTightAlloc3getEv"></span><span id="faiss::AlignedTableTightAlloc::getC"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a288edd0b015fd0bc68c8a2156a0392aa"></span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a> *<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc4dataEv">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc4dataEv"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc4dataEv"></span><span id="faiss::AlignedTableTightAlloc::data"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a68591460932924a4b86200092450b1ab"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a> *<code class="sig-name descname">data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22AlignedTableTightAlloc4dataEv">
<span id="_CPPv3NK5faiss22AlignedTableTightAlloc4dataEv"></span><span id="_CPPv2NK5faiss22AlignedTableTightAlloc4dataEv"></span><span id="faiss::AlignedTableTightAlloc::dataC"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a98a8c3286c2404b8d60a15dadbcac389"></span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a> *<code class="sig-name descname">data</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAllocixE6size_t">
<span id="_CPPv3N5faiss22AlignedTableTightAllocixE6size_t"></span><span id="_CPPv2N5faiss22AlignedTableTightAllocixE6size_t"></span><span id="faiss::AlignedTableTightAlloc::subscript-operator__s"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1aa65719800d8856a89ece5f1aae7621ee"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a> &amp;<code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>size_t <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22AlignedTableTightAllocixE6size_t">
<span id="_CPPv3NK5faiss22AlignedTableTightAllocixE6size_t"></span><span id="_CPPv2NK5faiss22AlignedTableTightAllocixE6size_t"></span><span id="faiss::AlignedTableTightAlloc::subscript-operator__sC"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1acd6fcef13ac75c51b0e4d6a6daf86a9e"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a> <code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>size_t <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAllocD0Ev">
<span id="_CPPv3N5faiss22AlignedTableTightAllocD0Ev"></span><span id="_CPPv2N5faiss22AlignedTableTightAllocD0Ev"></span><span id="faiss::AlignedTableTightAlloc::~AlignedTableTightAlloc"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a65f5bb7dda82982fd580d8d15e368300"></span><code class="sig-name descname">~AlignedTableTightAlloc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAllocaSERK22AlignedTableTightAllocI1T1AE">
<span id="_CPPv3N5faiss22AlignedTableTightAllocaSERK22AlignedTableTightAllocI1T1AE"></span><span id="_CPPv2N5faiss22AlignedTableTightAllocaSERK22AlignedTableTightAllocI1T1AE"></span><span id="faiss::AlignedTableTightAlloc::assign-operator__AlignedTableTightAlloc:T.A:CR"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a2dc8b4db4ad7e1a3abf96989737ab86e"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc">AlignedTableTightAlloc</a>&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::A">A</a>&gt; &amp;<code class="sig-name descname">operator=</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc">AlignedTableTightAlloc</a>&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::A">A</a>&gt; &amp;<em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocERK22AlignedTableTightAllocI1T1AE">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocERK22AlignedTableTightAllocI1T1AE"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocERK22AlignedTableTightAllocI1T1AE"></span><span id="faiss::AlignedTableTightAlloc::AlignedTableTightAlloc__AlignedTableTightAlloc:T.A:CR"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a7b654f8c2f7031624090f130c063bdba"></span><code class="sig-name descname">AlignedTableTightAlloc</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4N5faiss22AlignedTableTightAlloc22AlignedTableTightAllocERK22AlignedTableTightAllocI1T1AE" title="faiss::AlignedTableTightAlloc::AlignedTableTightAlloc">AlignedTableTightAlloc</a>&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::A">A</a>&gt; &amp;<em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc3ptrE">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc3ptrE"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc3ptrE"></span><span id="faiss::AlignedTableTightAlloc::ptr__TP"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1ac4f62c2e7939319e940dff1dc8592a32"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss22AlignedTableTightAllocE" title="faiss::AlignedTableTightAlloc::T">T</a> *<code class="sig-name descname">ptr</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss22AlignedTableTightAlloc5numelE">
<span id="_CPPv3N5faiss22AlignedTableTightAlloc5numelE"></span><span id="_CPPv2N5faiss22AlignedTableTightAlloc5numelE"></span><span id="faiss::AlignedTableTightAlloc::numel__s"></span><span class="target" id="structfaiss_1_1AlignedTableTightAlloc_1a69dd91385661256152c9195538b416e0"></span>size_t <code class="sig-name descname">numel</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss18ArrayInvertedListsE">
<span id="_CPPv3N5faiss18ArrayInvertedListsE"></span><span id="_CPPv2N5faiss18ArrayInvertedListsE"></span><span id="faiss::ArrayInvertedLists"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">ArrayInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a><br /></dt>
<dd><em>#include &lt;InvertedLists.h&gt;</em><p>simple (default) implementation as an array of inverted lists </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss18ArrayInvertedLists5idx_tE">
<span id="_CPPv3N5faiss18ArrayInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss18ArrayInvertedLists5idx_tE"></span><span id="faiss::ArrayInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedLists18ArrayInvertedListsE6size_t6size_t">
<span id="_CPPv3N5faiss18ArrayInvertedLists18ArrayInvertedListsE6size_t6size_t"></span><span id="_CPPv2N5faiss18ArrayInvertedLists18ArrayInvertedListsE6size_t6size_t"></span><span id="faiss::ArrayInvertedLists::ArrayInvertedLists__s.s"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1afae7ba66af56f43cabf089674ebc965d"></span><code class="sig-name descname">ArrayInvertedLists</code><span class="sig-paren">(</span>size_t <em>nlist</em>, size_t <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss18ArrayInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists9list_sizeE6size_t"></span><span id="faiss::ArrayInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1af43d3f5c5bd897205853b289603fb42b"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss18ArrayInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists9get_codesE6size_t"></span><span id="faiss::ArrayInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1a5026cc84a2db06d4741a4797ccd4ed86"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss18ArrayInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists7get_idsE6size_t"></span><span id="faiss::ArrayInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1ad2e8766536ff81c33d9e7c577fde8110"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18ArrayInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18ArrayInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::ArrayInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1a6b1f8d4cfe8413065c416d442bd4636b"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18ArrayInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18ArrayInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::ArrayInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1af4aa699d0fba82f2d6f755e0b33b49af"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss18ArrayInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss18ArrayInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::ArrayInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1a2077262cafd78d12534a6bf780bae148"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedListsD0Ev">
<span id="_CPPv3N5faiss18ArrayInvertedListsD0Ev"></span><span id="_CPPv2N5faiss18ArrayInvertedListsD0Ev"></span><span id="faiss::ArrayInvertedLists::~ArrayInvertedLists"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1a2b7d89d03b5289edbcc8a88d77f0b221"></span><code class="sig-name descname">~ArrayInvertedLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss18ArrayInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::ArrayInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a9a24bd313ece4e8e281f8bb28b5f528c"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss18ArrayInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::ArrayInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ad9bd9641ac86e0851d39a96119db3e78"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss18ArrayInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::ArrayInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac1fb72410cefa4f4d28ec90677c02ab3"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss18ArrayInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::ArrayInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a8d3382c2a672340abd227c00cf84ad42"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss18ArrayInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::ArrayInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa661652a062ecb58b02f10d2a671c9fe"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18ArrayInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18ArrayInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::ArrayInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1InvertedLists_1a0a2adbbd1d6b4f8ed1cbfa9bb93f4401"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18ArrayInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18ArrayInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::ArrayInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1InvertedLists_1afb45f0f325bf82f73737d804f8dbf49e"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedLists5resetEv">
<span id="_CPPv3N5faiss18ArrayInvertedLists5resetEv"></span><span id="_CPPv2N5faiss18ArrayInvertedLists5resetEv"></span><span id="faiss::ArrayInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18ArrayInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss18ArrayInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss18ArrayInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::ArrayInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss18ArrayInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists16imbalance_factorEv"></span><span id="faiss::ArrayInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss18ArrayInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists11print_statsEv"></span><span id="faiss::ArrayInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18ArrayInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss18ArrayInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss18ArrayInvertedLists14compute_ntotalEv"></span><span id="faiss::ArrayInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18ArrayInvertedLists5codesE">
<span id="_CPPv3N5faiss18ArrayInvertedLists5codesE"></span><span id="_CPPv2N5faiss18ArrayInvertedLists5codesE"></span><span id="faiss::ArrayInvertedLists::codes__std::vector:std::vector:uint8_t::"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1acdab4726f7509cb1653beef13f3f4da1"></span>std::vector&lt;std::vector&lt;uint8_t&gt;&gt; <code class="sig-name descname">codes</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18ArrayInvertedLists3idsE">
<span id="_CPPv3N5faiss18ArrayInvertedLists3idsE"></span><span id="_CPPv2N5faiss18ArrayInvertedLists3idsE"></span><span id="faiss::ArrayInvertedLists::ids__std::vector:std::vector:idx_t::"></span><span class="target" id="structfaiss_1_1ArrayInvertedLists_1a48563a58d3bbfbb4334f3afdf2c9ba7a"></span>std::vector&lt;std::vector&lt;<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedLists5idx_tE" title="faiss::ArrayInvertedLists::idx_t">idx_t</a>&gt;&gt; <code class="sig-name descname">ids</code><br /></dt>
<dd><p>Inverted lists for indexes. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18ArrayInvertedLists5nlistE">
<span id="_CPPv3N5faiss18ArrayInvertedLists5nlistE"></span><span id="_CPPv2N5faiss18ArrayInvertedLists5nlistE"></span><span id="faiss::ArrayInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18ArrayInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss18ArrayInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss18ArrayInvertedLists9code_sizeE"></span><span id="faiss::ArrayInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18ArrayInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss18ArrayInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss18ArrayInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::ArrayInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17AutoTuneCriterionE">
<span id="_CPPv3N5faiss17AutoTuneCriterionE"></span><span id="_CPPv2N5faiss17AutoTuneCriterionE"></span><span id="faiss::AutoTuneCriterion"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion"></span><em class="property">struct </em><code class="sig-name descname">AutoTuneCriterion</code><br /></dt>
<dd><em>#include &lt;AutoTune.h&gt;</em><p>Evaluation criterion. Returns a performance measure in [0,1], higher is better. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IntersectionCriterion.html#structfaiss_1_1IntersectionCriterion"><span class="std std-ref">faiss::IntersectionCriterion</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1OneRecallAtRCriterion.html#structfaiss_1_1OneRecallAtRCriterion"><span class="std std-ref">faiss::OneRecallAtRCriterion</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss17AutoTuneCriterion5idx_tE">
<span id="_CPPv3N5faiss17AutoTuneCriterion5idx_tE"></span><span id="_CPPv2N5faiss17AutoTuneCriterion5idx_tE"></span><span id="faiss::AutoTuneCriterion::idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a7873f86515af86a77eaaea1f6b13e982"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17AutoTuneCriterion17AutoTuneCriterionE5idx_t5idx_t">
<span id="_CPPv3N5faiss17AutoTuneCriterion17AutoTuneCriterionE5idx_t5idx_t"></span><span id="_CPPv2N5faiss17AutoTuneCriterion17AutoTuneCriterionE5idx_t5idx_t"></span><span id="faiss::AutoTuneCriterion::AutoTuneCriterion__idx_t.idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1abd85ee0d09e9f4958330c42e867e432b"></span><code class="sig-name descname">AutoTuneCriterion</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterion5idx_tE" title="faiss::AutoTuneCriterion::idx_t">idx_t</a> <em>nq</em>, <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterion5idx_tE" title="faiss::AutoTuneCriterion::idx_t">idx_t</a> <em>nnn</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17AutoTuneCriterion15set_groundtruthEiPKfPK5idx_t">
<span id="_CPPv3N5faiss17AutoTuneCriterion15set_groundtruthEiPKfPK5idx_t"></span><span id="_CPPv2N5faiss17AutoTuneCriterion15set_groundtruthEiPKfPK5idx_t"></span><span id="faiss::AutoTuneCriterion::set_groundtruth__i.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a174f0de8e6fd01905f5fa2170f5039d8"></span>void <code class="sig-name descname">set_groundtruth</code><span class="sig-paren">(</span>int <em>gt_nnn</em>, <em class="property">const</em> float *<em>gt_D_in</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterion5idx_tE" title="faiss::AutoTuneCriterion::idx_t">idx_t</a> *<em>gt_I_in</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Intitializes the gt_D and gt_I vectors. Must be called before evaluating</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gt_D_in</span></code>: size nq * gt_nnn </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gt_I_in</span></code>: size nq * gt_nnn </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17AutoTuneCriterion8evaluateEPKfPK5idx_t">
<span id="_CPPv3NK5faiss17AutoTuneCriterion8evaluateEPKfPK5idx_t"></span><span id="_CPPv2NK5faiss17AutoTuneCriterion8evaluateEPKfPK5idx_t"></span><span id="faiss::AutoTuneCriterion::evaluate__floatCP.idx_tCPC"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a9084449e216b331c5f753a10c6de6a47"></span>double <code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterion5idx_tE" title="faiss::AutoTuneCriterion::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Evaluate the criterion.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the criterion, between 0 and 1. Larger is better. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">D</span></code>: size nq * nnn </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: size nq * nnn </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17AutoTuneCriterionD0Ev">
<span id="_CPPv3N5faiss17AutoTuneCriterionD0Ev"></span><span id="_CPPv2N5faiss17AutoTuneCriterionD0Ev"></span><span id="faiss::AutoTuneCriterion::~AutoTuneCriterion"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1aa072c959d1cd882af33c7a570ac25f55"></span><code class="sig-name descname">~AutoTuneCriterion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17AutoTuneCriterion2nqE">
<span id="_CPPv3N5faiss17AutoTuneCriterion2nqE"></span><span id="_CPPv2N5faiss17AutoTuneCriterion2nqE"></span><span id="faiss::AutoTuneCriterion::nq__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1adcfaafb3f1b3449e2cfd553f0f603a5b"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterion5idx_tE" title="faiss::AutoTuneCriterion::idx_t">idx_t</a> <code class="sig-name descname">nq</code><br /></dt>
<dd><p>nb of queries this criterion is evaluated on </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17AutoTuneCriterion3nnnE">
<span id="_CPPv3N5faiss17AutoTuneCriterion3nnnE"></span><span id="_CPPv2N5faiss17AutoTuneCriterion3nnnE"></span><span id="faiss::AutoTuneCriterion::nnn__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a3bb11e873707a812999f8391869aafab"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterion5idx_tE" title="faiss::AutoTuneCriterion::idx_t">idx_t</a> <code class="sig-name descname">nnn</code><br /></dt>
<dd><p>nb of NNs that the query should request </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17AutoTuneCriterion6gt_nnnE">
<span id="_CPPv3N5faiss17AutoTuneCriterion6gt_nnnE"></span><span id="_CPPv2N5faiss17AutoTuneCriterion6gt_nnnE"></span><span id="faiss::AutoTuneCriterion::gt_nnn__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a9b3a2242729a0873d255c1684881bbd4"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterion5idx_tE" title="faiss::AutoTuneCriterion::idx_t">idx_t</a> <code class="sig-name descname">gt_nnn</code><br /></dt>
<dd><p>nb of GT NNs required to evaluate crterion </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17AutoTuneCriterion4gt_DE">
<span id="_CPPv3N5faiss17AutoTuneCriterion4gt_DE"></span><span id="_CPPv2N5faiss17AutoTuneCriterion4gt_DE"></span><span id="faiss::AutoTuneCriterion::gt_D__std::vector:float:"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a40e91caa9232a597c16fc946d0befd9b"></span>std::vector&lt;float&gt; <code class="sig-name descname">gt_D</code><br /></dt>
<dd><p>Ground-truth distances (size nq * gt_nnn) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17AutoTuneCriterion4gt_IE">
<span id="_CPPv3N5faiss17AutoTuneCriterion4gt_IE"></span><span id="_CPPv2N5faiss17AutoTuneCriterion4gt_IE"></span><span id="faiss::AutoTuneCriterion::gt_I__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1af915fc4df215e3c8d9f71ff42d526144"></span>std::vector&lt;<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterion5idx_tE" title="faiss::AutoTuneCriterion::idx_t">idx_t</a>&gt; <code class="sig-name descname">gt_I</code><br /></dt>
<dd><p>Ground-truth indexes (size nq * gt_nnn) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss25BinaryInvertedListScannerE">
<span id="_CPPv3N5faiss25BinaryInvertedListScannerE"></span><span id="_CPPv2N5faiss25BinaryInvertedListScannerE"></span><span id="faiss::BinaryInvertedListScanner"></span><span class="target" id="structfaiss_1_1BinaryInvertedListScanner"></span><em class="property">struct </em><code class="sig-name descname">BinaryInvertedListScanner</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss25BinaryInvertedListScanner5idx_tE">
<span id="_CPPv3N5faiss25BinaryInvertedListScanner5idx_tE"></span><span id="_CPPv2N5faiss25BinaryInvertedListScanner5idx_tE"></span><span class="target" id="structfaiss_1_1BinaryInvertedListScanner_1a79acbd6558c3a0e6b3261e5cc53292af"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss25BinaryInvertedListScanner9set_queryEPK7uint8_t">
<span id="_CPPv3N5faiss25BinaryInvertedListScanner9set_queryEPK7uint8_t"></span><span id="_CPPv2N5faiss25BinaryInvertedListScanner9set_queryEPK7uint8_t"></span><span id="faiss::BinaryInvertedListScanner::set_query__uint8_tCP"></span><span class="target" id="structfaiss_1_1BinaryInvertedListScanner_1a22bf6ac0128e4e45768f91b4de58fdb6"></span>void <code class="sig-name descname">set_query</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>query_vector</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>from now on we handle this query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss25BinaryInvertedListScanner8set_listE5idx_t7uint8_t">
<span id="_CPPv3N5faiss25BinaryInvertedListScanner8set_listE5idx_t7uint8_t"></span><span id="_CPPv2N5faiss25BinaryInvertedListScanner8set_listE5idx_t7uint8_t"></span><span id="faiss::BinaryInvertedListScanner::set_list__idx_t.uint8_t"></span><span class="target" id="structfaiss_1_1BinaryInvertedListScanner_1ae28e1381cb4c16ff9941c909fe9c4122"></span>void <code class="sig-name descname">set_list</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinaryIVF_8h.html#_CPPv4N5faiss25BinaryInvertedListScanner5idx_tE" title="faiss::BinaryInvertedListScanner::idx_t">idx_t</a> <em>list_no</em>, uint8_t <em>coarse_dis</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>following codes come from this inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss25BinaryInvertedListScanner16distance_to_codeEPK7uint8_t">
<span id="_CPPv3NK5faiss25BinaryInvertedListScanner16distance_to_codeEPK7uint8_t"></span><span id="_CPPv2NK5faiss25BinaryInvertedListScanner16distance_to_codeEPK7uint8_t"></span><span id="faiss::BinaryInvertedListScanner::distance_to_code__uint8_tCPC"></span><span class="target" id="structfaiss_1_1BinaryInvertedListScanner_1ac33be0f074b682e9afc44bd7cf0741b2"></span>uint32_t <code class="sig-name descname">distance_to_code</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>compute a single query-to-code distance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss25BinaryInvertedListScanner10scan_codesE6size_tPK7uint8_tPK5idx_tP7int32_tP5idx_t6size_t">
<span id="_CPPv3NK5faiss25BinaryInvertedListScanner10scan_codesE6size_tPK7uint8_tPK5idx_tP7int32_tP5idx_t6size_t"></span><span id="_CPPv2NK5faiss25BinaryInvertedListScanner10scan_codesE6size_tPK7uint8_tPK5idx_tP7int32_tP5idx_t6size_t"></span><span id="faiss::BinaryInvertedListScanner::scan_codes__s.uint8_tCP.idx_tCP.int32_tP.idx_tP.sC"></span><span class="target" id="structfaiss_1_1BinaryInvertedListScanner_1a9ddb2bb0b513829b39528463c46f90f5"></span>size_t <code class="sig-name descname">scan_codes</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> uint8_t *<em>codes</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexBinaryIVF_8h.html#_CPPv4N5faiss25BinaryInvertedListScanner5idx_tE" title="faiss::BinaryInvertedListScanner::idx_t">idx_t</a> *<em>ids</em>, int32_t *<em>distances</em>, <a class="reference internal" href="../file/IndexBinaryIVF_8h.html#_CPPv4N5faiss25BinaryInvertedListScanner5idx_tE" title="faiss::BinaryInvertedListScanner::idx_t">idx_t</a> *<em>labels</em>, size_t <em>k</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>compute the distances to codes. (distances, labels) should be organized as a min- or max-heap</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of codes to scan </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: codes to scan (n * code_size) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ids</span></code>: corresponding ids (ignored if store_pairs) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: heap distances (size k) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: heap labels (size k) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>: heap size </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss25BinaryInvertedListScanner16scan_codes_rangeE6size_tPK7uint8_tPK5idx_tiR16RangeQueryResult">
<span id="_CPPv3NK5faiss25BinaryInvertedListScanner16scan_codes_rangeE6size_tPK7uint8_tPK5idx_tiR16RangeQueryResult"></span><span id="_CPPv2NK5faiss25BinaryInvertedListScanner16scan_codes_rangeE6size_tPK7uint8_tPK5idx_tiR16RangeQueryResult"></span><span id="faiss::BinaryInvertedListScanner::scan_codes_range__s.uint8_tCP.idx_tCP.i.RangeQueryResultRC"></span><span class="target" id="structfaiss_1_1BinaryInvertedListScanner_1aa3efb4bb46f7dab5b8ac56727d624b17"></span>void <code class="sig-name descname">scan_codes_range</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> uint8_t *<em>codes</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexBinaryIVF_8h.html#_CPPv4N5faiss25BinaryInvertedListScanner5idx_tE" title="faiss::BinaryInvertedListScanner::idx_t">idx_t</a> *<em>ids</em>, int <em>radius</em>, RangeQueryResult &amp;<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss25BinaryInvertedListScannerD0Ev">
<span id="_CPPv3N5faiss25BinaryInvertedListScannerD0Ev"></span><span id="_CPPv2N5faiss25BinaryInvertedListScannerD0Ev"></span><span id="faiss::BinaryInvertedListScanner::~BinaryInvertedListScanner"></span><span class="target" id="structfaiss_1_1BinaryInvertedListScanner_1afc7ad755907a2aba53cdd1ad034d9c04"></span><code class="sig-name descname">~BinaryInvertedListScanner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15BitstringReaderE">
<span id="_CPPv3N5faiss15BitstringReaderE"></span><span id="_CPPv2N5faiss15BitstringReaderE"></span><span id="faiss::BitstringReader"></span><span class="target" id="structfaiss_1_1BitstringReader"></span><em class="property">struct </em><code class="sig-name descname">BitstringReader</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15BitstringReader15BitstringReaderEPK7uint8_ti">
<span id="_CPPv3N5faiss15BitstringReader15BitstringReaderEPK7uint8_ti"></span><span id="_CPPv2N5faiss15BitstringReader15BitstringReaderEPK7uint8_ti"></span><span id="faiss::BitstringReader::BitstringReader__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1BitstringReader_1a072091ffc6244d551489564317396b1f"></span><code class="sig-name descname">BitstringReader</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15BitstringReader4readEi">
<span id="_CPPv3N5faiss15BitstringReader4readEi"></span><span id="_CPPv2N5faiss15BitstringReader4readEi"></span><span id="faiss::BitstringReader::read__i"></span><span class="target" id="structfaiss_1_1BitstringReader_1a9d9f24ba35ee13dbdc8a90fd74d76066"></span>uint64_t <code class="sig-name descname">read</code><span class="sig-paren">(</span>int <em>nbit</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15BitstringReader4codeE">
<span id="_CPPv3N5faiss15BitstringReader4codeE"></span><span id="_CPPv2N5faiss15BitstringReader4codeE"></span><span id="faiss::BitstringReader::code__uint8_tCP"></span><span class="target" id="structfaiss_1_1BitstringReader_1a923b543ec505de62bc9a571027cb7e62"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">code</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15BitstringReader9code_sizeE">
<span id="_CPPv3N5faiss15BitstringReader9code_sizeE"></span><span id="_CPPv2N5faiss15BitstringReader9code_sizeE"></span><span id="faiss::BitstringReader::code_size__s"></span><span class="target" id="structfaiss_1_1BitstringReader_1aff839ea7bd1813717c2bc1feabab2773"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15BitstringReader1iE">
<span id="_CPPv3N5faiss15BitstringReader1iE"></span><span id="_CPPv2N5faiss15BitstringReader1iE"></span><span id="faiss::BitstringReader::i__s"></span><span class="target" id="structfaiss_1_1BitstringReader_1ae0a26c23a5659205cd1221b7f9e379eb"></span>size_t <code class="sig-name descname">i</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15BitstringWriterE">
<span id="_CPPv3N5faiss15BitstringWriterE"></span><span id="_CPPv2N5faiss15BitstringWriterE"></span><span id="faiss::BitstringWriter"></span><span class="target" id="structfaiss_1_1BitstringWriter"></span><em class="property">struct </em><code class="sig-name descname">BitstringWriter</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15BitstringWriter15BitstringWriterEP7uint8_ti">
<span id="_CPPv3N5faiss15BitstringWriter15BitstringWriterEP7uint8_ti"></span><span id="_CPPv2N5faiss15BitstringWriter15BitstringWriterEP7uint8_ti"></span><span id="faiss::BitstringWriter::BitstringWriter__uint8_tP.i"></span><span class="target" id="structfaiss_1_1BitstringWriter_1a2089ae88dda9878016af84f8518f4bf7"></span><code class="sig-name descname">BitstringWriter</code><span class="sig-paren">(</span>uint8_t *<em>code</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15BitstringWriter5writeE8uint64_ti">
<span id="_CPPv3N5faiss15BitstringWriter5writeE8uint64_ti"></span><span id="_CPPv2N5faiss15BitstringWriter5writeE8uint64_ti"></span><span id="faiss::BitstringWriter::write__uint64_t.i"></span><span class="target" id="structfaiss_1_1BitstringWriter_1af8f527858ffdcc241a02408d2e791817"></span>void <code class="sig-name descname">write</code><span class="sig-paren">(</span>uint64_t <em>x</em>, int <em>nbit</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15BitstringWriter4codeE">
<span id="_CPPv3N5faiss15BitstringWriter4codeE"></span><span id="_CPPv2N5faiss15BitstringWriter4codeE"></span><span id="faiss::BitstringWriter::code__uint8_tP"></span><span class="target" id="structfaiss_1_1BitstringWriter_1af185df9f141d8e45c8d092f551de68a6"></span>uint8_t *<code class="sig-name descname">code</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15BitstringWriter9code_sizeE">
<span id="_CPPv3N5faiss15BitstringWriter9code_sizeE"></span><span id="_CPPv2N5faiss15BitstringWriter9code_sizeE"></span><span id="faiss::BitstringWriter::code_size__s"></span><span class="target" id="structfaiss_1_1BitstringWriter_1a869df71e23e6e611247580c22fe49ac1"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15BitstringWriter1iE">
<span id="_CPPv3N5faiss15BitstringWriter1iE"></span><span id="_CPPv2N5faiss15BitstringWriter1iE"></span><span id="faiss::BitstringWriter::i__s"></span><span class="target" id="structfaiss_1_1BitstringWriter_1a1e1f882a539150a6bf0d06bf0f1dba89"></span>size_t <code class="sig-name descname">i</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss18BlockInvertedListsE">
<span id="_CPPv3N5faiss18BlockInvertedListsE"></span><span id="_CPPv2N5faiss18BlockInvertedListsE"></span><span id="faiss::BlockInvertedLists"></span><span class="target" id="structfaiss_1_1BlockInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">BlockInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a><br /></dt>
<dd><em>#include &lt;BlockInvertedLists.h&gt;</em><p>Inverted Lists that are organized by blocks.</p>
<p>Different from the regular inverted lists, the codes are organized by blocks of size block_size bytes that reprsent a set of n_per_block. Therefore, code allocations are always rounded up to block_size bytes. The codes are also aligned on 32-byte boundaries for use with SIMD.</p>
<p>To avoid misinterpretations, the code_size is set to (size_t)(-1), even if arguably the amount of memory consumed by code is block_size / n_per_block.</p>
<p>The writing functions add_entries and update_entries operate on block-aligned data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss18BlockInvertedLists5idx_tE">
<span id="_CPPv3N5faiss18BlockInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss18BlockInvertedLists5idx_tE"></span><span id="faiss::BlockInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><a class="headerlink" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists18BlockInvertedListsE6size_t6size_t6size_t">
<span id="_CPPv3N5faiss18BlockInvertedLists18BlockInvertedListsE6size_t6size_t6size_t"></span><span id="_CPPv2N5faiss18BlockInvertedLists18BlockInvertedListsE6size_t6size_t6size_t"></span><span id="faiss::BlockInvertedLists::BlockInvertedLists__s.s.s"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1aafc4fd4fea7877b43b74b505b5b40a5d"></span><code class="sig-name descname">BlockInvertedLists</code><span class="sig-paren">(</span>size_t <em>nlist</em>, size_t <em>vec_per_block</em>, size_t <em>block_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists18BlockInvertedListsEv">
<span id="_CPPv3N5faiss18BlockInvertedLists18BlockInvertedListsEv"></span><span id="_CPPv2N5faiss18BlockInvertedLists18BlockInvertedListsEv"></span><span id="faiss::BlockInvertedLists::BlockInvertedLists"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1ab96d17922a7979ed9202b5d9447c44e3"></span><code class="sig-name descname">BlockInvertedLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss18BlockInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss18BlockInvertedLists9list_sizeE6size_t"></span><span id="faiss::BlockInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1a6b31daaea6703be4f1e55d5d01b301ff"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss18BlockInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss18BlockInvertedLists9get_codesE6size_t"></span><span id="faiss::BlockInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1a6bb2c32aa717167d259fc5473d53f86c"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss18BlockInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss18BlockInvertedLists7get_idsE6size_t"></span><span id="faiss::BlockInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1a4ed87af2e06c67f2b6635211489075f5"></span><em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18BlockInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18BlockInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::BlockInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1a820d8f05e6fae5eb5f82d43d19d0c7c6"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18BlockInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18BlockInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::BlockInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1aa5d61744a1478c537fec67e64b4dbe25"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>not implemented </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss18BlockInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss18BlockInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::BlockInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1a5004739d5e1315dfe537a1dead238acb"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedListsD0Ev">
<span id="_CPPv3N5faiss18BlockInvertedListsD0Ev"></span><span id="_CPPv2N5faiss18BlockInvertedListsD0Ev"></span><span id="faiss::BlockInvertedLists::~BlockInvertedLists"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1a1db61a9448dc466114af7f9ce9a78d3c"></span><code class="sig-name descname">~BlockInvertedLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss18BlockInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss18BlockInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::BlockInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a9a24bd313ece4e8e281f8bb28b5f528c"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18BlockInvertedLists13release_codesE6size_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss18BlockInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss18BlockInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::BlockInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ad9bd9641ac86e0851d39a96119db3e78"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18BlockInvertedLists11release_idsE6size_tPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss18BlockInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss18BlockInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::BlockInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac1fb72410cefa4f4d28ec90677c02ab3"></span><a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18BlockInvertedLists13get_single_idE6size_t6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss18BlockInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss18BlockInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::BlockInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a8d3382c2a672340abd227c00cf84ad42"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18BlockInvertedLists15get_single_codeE6size_t6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss18BlockInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss18BlockInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::BlockInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa661652a062ecb58b02f10d2a671c9fe"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18BlockInvertedLists14prefetch_listsEPK5idx_ti" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18BlockInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18BlockInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::BlockInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18BlockInvertedLists9add_entryE6size_t5idx_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1InvertedLists_1a0a2adbbd1d6b4f8ed1cbfa9bb93f4401"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18BlockInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18BlockInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::BlockInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18BlockInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1InvertedLists_1afb45f0f325bf82f73737d804f8dbf49e"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists5resetEv">
<span id="_CPPv3N5faiss18BlockInvertedLists5resetEv"></span><span id="_CPPv2N5faiss18BlockInvertedLists5resetEv"></span><span id="faiss::BlockInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18BlockInvertedLists5resetEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18BlockInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss18BlockInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss18BlockInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::BlockInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18BlockInvertedLists10merge_fromEP13InvertedLists6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss18BlockInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss18BlockInvertedLists16imbalance_factorEv"></span><span id="faiss::BlockInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18BlockInvertedLists16imbalance_factorEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss18BlockInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss18BlockInvertedLists11print_statsEv"></span><span id="faiss::BlockInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18BlockInvertedLists11print_statsEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18BlockInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss18BlockInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss18BlockInvertedLists14compute_ntotalEv"></span><span id="faiss::BlockInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18BlockInvertedLists14compute_ntotalEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18BlockInvertedLists11n_per_blockE">
<span id="_CPPv3N5faiss18BlockInvertedLists11n_per_blockE"></span><span id="_CPPv2N5faiss18BlockInvertedLists11n_per_blockE"></span><span id="faiss::BlockInvertedLists::n_per_block__s"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1ab807eb1b53484c62cf60a3ec5ebfdb33"></span>size_t <code class="sig-name descname">n_per_block</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18BlockInvertedLists10block_sizeE">
<span id="_CPPv3N5faiss18BlockInvertedLists10block_sizeE"></span><span id="_CPPv2N5faiss18BlockInvertedLists10block_sizeE"></span><span id="faiss::BlockInvertedLists::block_size__s"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1aa3783d3cc54f9e7884ed5f0b043b1fd2"></span>size_t <code class="sig-name descname">block_size</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18BlockInvertedLists5codesE">
<span id="_CPPv3N5faiss18BlockInvertedLists5codesE"></span><span id="_CPPv2N5faiss18BlockInvertedLists5codesE"></span><span id="faiss::BlockInvertedLists::codes__std::vector:AlignedTable:uint8_t::"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1a9ba5f42ea54177142f267a9004bc8466"></span>std::vector&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;uint8_t&gt;&gt; <code class="sig-name descname">codes</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18BlockInvertedLists3idsE">
<span id="_CPPv3N5faiss18BlockInvertedLists3idsE"></span><span id="_CPPv2N5faiss18BlockInvertedLists3idsE"></span><span id="faiss::BlockInvertedLists::ids__std::vector:std::vector:idx_t::"></span><span class="target" id="structfaiss_1_1BlockInvertedLists_1a74dbab450715b09e81534ea6732e8d27"></span>std::vector&lt;std::vector&lt;<a class="reference internal" href="#_CPPv4N5faiss18BlockInvertedLists5idx_tE" title="faiss::BlockInvertedLists::idx_t">idx_t</a>&gt;&gt; <code class="sig-name descname">ids</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18BlockInvertedLists5nlistE">
<span id="_CPPv3N5faiss18BlockInvertedLists5nlistE"></span><span id="_CPPv2N5faiss18BlockInvertedLists5nlistE"></span><span id="faiss::BlockInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss18BlockInvertedLists5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18BlockInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss18BlockInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss18BlockInvertedLists9code_sizeE"></span><span id="faiss::BlockInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss18BlockInvertedLists9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18BlockInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss18BlockInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss18BlockInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::BlockInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<a class="headerlink" href="#_CPPv4N5faiss18BlockInvertedLists17INVALID_CODE_SIZEE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss24BlockInvertedListsIOHookE">
<span id="_CPPv3N5faiss24BlockInvertedListsIOHookE"></span><span id="_CPPv2N5faiss24BlockInvertedListsIOHookE"></span><span id="faiss::BlockInvertedListsIOHook"></span><span class="target" id="structfaiss_1_1BlockInvertedListsIOHook"></span><em class="property">struct </em><code class="sig-name descname">BlockInvertedListsIOHook</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss24BlockInvertedListsIOHook24BlockInvertedListsIOHookEv">
<span id="_CPPv3N5faiss24BlockInvertedListsIOHook24BlockInvertedListsIOHookEv"></span><span id="_CPPv2N5faiss24BlockInvertedListsIOHook24BlockInvertedListsIOHookEv"></span><span id="faiss::BlockInvertedListsIOHook::BlockInvertedListsIOHook"></span><span class="target" id="structfaiss_1_1BlockInvertedListsIOHook_1ae35cacbf97235db0a619872df5e62c62"></span><code class="sig-name descname">BlockInvertedListsIOHook</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24BlockInvertedListsIOHook5writeEPK13InvertedListsP8IOWriter">
<span id="_CPPv3NK5faiss24BlockInvertedListsIOHook5writeEPK13InvertedListsP8IOWriter"></span><span id="_CPPv2NK5faiss24BlockInvertedListsIOHook5writeEPK13InvertedListsP8IOWriter"></span><span id="faiss::BlockInvertedListsIOHook::write__InvertedListsCP.IOWriterPC"></span><span class="target" id="structfaiss_1_1BlockInvertedListsIOHook_1aeedbfa2077ea85b271fd015561c6194c"></span>void <code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>ils</em>, IOWriter *<em>f</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>write the index to the IOWriter (including the fourcc) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24BlockInvertedListsIOHook4readEP8IOReaderi">
<span id="_CPPv3NK5faiss24BlockInvertedListsIOHook4readEP8IOReaderi"></span><span id="_CPPv2NK5faiss24BlockInvertedListsIOHook4readEP8IOReaderi"></span><span id="faiss::BlockInvertedListsIOHook::read__IOReaderP.iC"></span><span class="target" id="structfaiss_1_1BlockInvertedListsIOHook_1a7ba61c792255f9ca46b88d89371f2f09"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">read</code><span class="sig-paren">(</span>IOReader *<em>f</em>, int <em>io_flags</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>called when the fourcc matches this classâs fourcc </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24BlockInvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE">
<span id="_CPPv3NK5faiss24BlockInvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE"></span><span id="_CPPv2NK5faiss24BlockInvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE"></span><span id="faiss::BlockInvertedListsIOHook::read_ArrayInvertedLists__IOReaderP.i.s.s.std::vector:s:CRC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1ae4fdbb6eff8075eddda3d3273a0ccd31"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">read_ArrayInvertedLists</code><span class="sig-paren">(</span>IOReader *<em>f</em>, int <em>io_flags</em>, size_t <em>nlist</em>, size_t <em>code_size</em>, <em class="property">const</em> std::vector&lt;size_t&gt; &amp;<em>sizes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss24BlockInvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>read from a <a class="reference internal" href="../struct/structfaiss_1_1ArrayInvertedLists.html#structfaiss_1_1ArrayInvertedLists"><span class="std std-ref">ArrayInvertedLists</span></a> into this invertedlist type. For this to work, the callback has to be enabled and the io_flag has to be set to IO_FLAG_SKIP_IVF_DATA | (16 upper bits of the fourcc)</p>
<p>(default implementation fails) </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss24BlockInvertedListsIOHook3keyE">
<span id="_CPPv3N5faiss24BlockInvertedListsIOHook3keyE"></span><span id="_CPPv2N5faiss24BlockInvertedListsIOHook3keyE"></span><span id="faiss::BlockInvertedListsIOHook::key__ssC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a81292158052e31c66fc0f175310113ae"></span><em class="property">const</em> std::string <code class="sig-name descname">key</code><a class="headerlink" href="#_CPPv4N5faiss24BlockInvertedListsIOHook3keyE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>string version of the fourcc </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24BlockInvertedListsIOHook9classnameE">
<span id="_CPPv3N5faiss24BlockInvertedListsIOHook9classnameE"></span><span id="_CPPv2N5faiss24BlockInvertedListsIOHook9classnameE"></span><span id="faiss::BlockInvertedListsIOHook::classname__ssC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1aaf9a95368179893d044d1670a29a7a71"></span><em class="property">const</em> std::string <code class="sig-name descname">classname</code><a class="headerlink" href="#_CPPv4N5faiss24BlockInvertedListsIOHook9classnameE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>typeid.name </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss24BlockInvertedListsIOHook12add_callbackEP19InvertedListsIOHook">
<span id="_CPPv3N5faiss24BlockInvertedListsIOHook12add_callbackEP19InvertedListsIOHook"></span><span id="_CPPv2N5faiss24BlockInvertedListsIOHook12add_callbackEP19InvertedListsIOHook"></span><span id="faiss::BlockInvertedListsIOHook::add_callback__InvertedListsIOHookP"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a7852d13afc3e94745f6738c58858098c"></span>void <code class="sig-name descname">add_callback</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a>*<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss24BlockInvertedListsIOHook12add_callbackEP19InvertedListsIOHook" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24BlockInvertedListsIOHook15print_callbacksEv">
<span id="_CPPv3N5faiss24BlockInvertedListsIOHook15print_callbacksEv"></span><span id="_CPPv2N5faiss24BlockInvertedListsIOHook15print_callbacksEv"></span><span id="faiss::BlockInvertedListsIOHook::print_callbacks"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a6f602d3d0f4f06eaf0ebe99e45d7c53b"></span>void <code class="sig-name descname">print_callbacks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss24BlockInvertedListsIOHook15print_callbacksEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24BlockInvertedListsIOHook6lookupEi">
<span id="_CPPv3N5faiss24BlockInvertedListsIOHook6lookupEi"></span><span id="_CPPv2N5faiss24BlockInvertedListsIOHook6lookupEi"></span><span id="faiss::BlockInvertedListsIOHook::lookup__i"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1afea628376e67f00243952ae6e5aa2bc4"></span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a> *<code class="sig-name descname">lookup</code><span class="sig-paren">(</span>int <em>h</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss24BlockInvertedListsIOHook6lookupEi" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24BlockInvertedListsIOHook16lookup_classnameERKNSt6stringE">
<span id="_CPPv3N5faiss24BlockInvertedListsIOHook16lookup_classnameERKNSt6stringE"></span><span id="_CPPv2N5faiss24BlockInvertedListsIOHook16lookup_classnameERKNSt6stringE"></span><span id="faiss::BlockInvertedListsIOHook::lookup_classname__ssCR"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a2f4b40119498c66604b04cac588340a6"></span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a> *<code class="sig-name descname">lookup_classname</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>classname</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss24BlockInvertedListsIOHook16lookup_classnameERKNSt6stringE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss18CenteringTransformE">
<span id="_CPPv3N5faiss18CenteringTransformE"></span><span id="_CPPv2N5faiss18CenteringTransformE"></span><span id="faiss::CenteringTransform"></span><span class="target" id="structfaiss_1_1CenteringTransform"></span><em class="property">struct </em><code class="sig-name descname">CenteringTransform</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>Subtract the mean of each component from the vectors. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss18CenteringTransform5idx_tE">
<span id="_CPPv3N5faiss18CenteringTransform5idx_tE"></span><span id="_CPPv2N5faiss18CenteringTransform5idx_tE"></span><span id="faiss::CenteringTransform::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss18CenteringTransform18CenteringTransformEi">
<span id="_CPPv3N5faiss18CenteringTransform18CenteringTransformEi"></span><span id="_CPPv2N5faiss18CenteringTransform18CenteringTransformEi"></span><span id="faiss::CenteringTransform::CenteringTransform__i"></span><span class="target" id="structfaiss_1_1CenteringTransform_1a4a2345b2c3c17a64a89574ddbbf2fef3"></span><code class="sig-name descname">CenteringTransform</code><span class="sig-paren">(</span>int <em>d</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18CenteringTransform5trainE5idx_tPKf">
<span id="_CPPv3N5faiss18CenteringTransform5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss18CenteringTransform5trainE5idx_tPKf"></span><span id="faiss::CenteringTransform::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1CenteringTransform_1ae63f2afed997c435fda588b5a8642893"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss18CenteringTransform5idx_tE" title="faiss::CenteringTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>train on n vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18CenteringTransform13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss18CenteringTransform13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss18CenteringTransform13apply_noallocE5idx_tPKfPf"></span><span id="faiss::CenteringTransform::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1CenteringTransform_1a0d9a07e911c43a598f64981f23afec0a"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss18CenteringTransform5idx_tE" title="faiss::CenteringTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>subtract the mean </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18CenteringTransform17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss18CenteringTransform17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss18CenteringTransform17reverse_transformE5idx_tPKfPf"></span><span id="faiss::CenteringTransform::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1CenteringTransform_1a01aacceb0950fcb39b0f5e18103ea6d5"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss18CenteringTransform5idx_tE" title="faiss::CenteringTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>add the mean </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18CenteringTransform5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss18CenteringTransform5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss18CenteringTransform5applyE5idx_tPKf"></span><span id="faiss::CenteringTransform::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss18CenteringTransform5idx_tE" title="faiss::CenteringTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18CenteringTransform4meanE">
<span id="_CPPv3N5faiss18CenteringTransform4meanE"></span><span id="_CPPv2N5faiss18CenteringTransform4meanE"></span><span id="faiss::CenteringTransform::mean__std::vector:float:"></span><span class="target" id="structfaiss_1_1CenteringTransform_1af96e272f0f51d71ed098cdfe3e4ff87d"></span>std::vector&lt;float&gt; <code class="sig-name descname">mean</code><br /></dt>
<dd><p>Mean, size d_in = d_out. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18CenteringTransform4d_inE">
<span id="_CPPv3N5faiss18CenteringTransform4d_inE"></span><span id="_CPPv2N5faiss18CenteringTransform4d_inE"></span><span id="faiss::CenteringTransform::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18CenteringTransform5d_outE">
<span id="_CPPv3N5faiss18CenteringTransform5d_outE"></span><span id="_CPPv2N5faiss18CenteringTransform5d_outE"></span><span id="faiss::CenteringTransform::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18CenteringTransform10is_trainedE">
<span id="_CPPv3N5faiss18CenteringTransform10is_trainedE"></span><span id="_CPPv2N5faiss18CenteringTransform10is_trainedE"></span><span id="faiss::CenteringTransform::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss6ClonerE">
<span id="_CPPv3N5faiss6ClonerE"></span><span id="_CPPv2N5faiss6ClonerE"></span><span id="faiss::Cloner"></span><span class="target" id="structfaiss_1_1Cloner"></span><em class="property">struct </em><code class="sig-name descname">Cloner</code><br /></dt>
<dd><em>#include &lt;clone_index.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Cloner.html#structfaiss_1_1Cloner"><span class="std std-ref">Cloner</span></a> class, useful to override classes with other cloning functions. The cloning function above just calls Cloner::clone_Index. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1ToCPUCloner.html#structfaiss_1_1gpu_1_1ToCPUCloner"><span class="std std-ref">faiss::gpu::ToCPUCloner</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1ToGpuCloner.html#structfaiss_1_1gpu_1_1ToGpuCloner"><span class="std std-ref">faiss::gpu::ToGpuCloner</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1ToGpuClonerMultiple.html#structfaiss_1_1gpu_1_1ToGpuClonerMultiple"><span class="std std-ref">faiss::gpu::ToGpuClonerMultiple</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss6Cloner21clone_VectorTransformEPK15VectorTransform">
<span id="_CPPv3N5faiss6Cloner21clone_VectorTransformEPK15VectorTransform"></span><span id="_CPPv2N5faiss6Cloner21clone_VectorTransformEPK15VectorTransform"></span><span id="faiss::Cloner::clone_VectorTransform__VectorTransformCP"></span><span class="target" id="structfaiss_1_1Cloner_1a6d0153062dcfde3da36a7ee845f0378e"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">clone_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6Cloner11clone_IndexEPK5Index">
<span id="_CPPv3N5faiss6Cloner11clone_IndexEPK5Index"></span><span id="_CPPv2N5faiss6Cloner11clone_IndexEPK5Index"></span><span id="faiss::Cloner::clone_Index__IndexCP"></span><span class="target" id="structfaiss_1_1Cloner_1a7ac2ec88faa769d2db29f3cf8625c4e9"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6Cloner14clone_IndexIVFEPK8IndexIVF">
<span id="_CPPv3N5faiss6Cloner14clone_IndexIVFEPK8IndexIVF"></span><span id="_CPPv2N5faiss6Cloner14clone_IndexIVFEPK8IndexIVF"></span><span id="faiss::Cloner::clone_IndexIVF__IndexIVFCP"></span><span class="target" id="structfaiss_1_1Cloner_1a900cc361b28631b47359b1df41fda0cf"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">clone_IndexIVF</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ClonerD0Ev">
<span id="_CPPv3N5faiss6ClonerD0Ev"></span><span id="_CPPv2N5faiss6ClonerD0Ev"></span><span id="faiss::Cloner::~Cloner"></span><span class="target" id="structfaiss_1_1Cloner_1a2931dddcacef11d21a6a26b923fcb990"></span><code class="sig-name descname">~Cloner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss10ClusteringE">
<span id="_CPPv3N5faiss10ClusteringE"></span><span id="_CPPv2N5faiss10ClusteringE"></span><span id="faiss::Clustering"></span><span class="target" id="structfaiss_1_1Clustering"></span><em class="property">struct </em><code class="sig-name descname">Clustering</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a><br /></dt>
<dd><em>#include &lt;Clustering.h&gt;</em><p>K-means clustering based on assignment - centroid update iterations</p>
<p>The clustering is based on an <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> object that assigns training points to the centroids. Therefore, at each iteration the centroids are added to the index.</p>
<p>On output, the centoids table is set to the latest version of the centroids and they are also added to the index. If the centroids table it is not empty on input, it is also used for initialization. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss10Clustering5idx_tE">
<span id="_CPPv3N5faiss10Clustering5idx_tE"></span><span id="_CPPv2N5faiss10Clustering5idx_tE"></span><span id="faiss::Clustering::idx_t"></span><span class="target" id="structfaiss_1_1Clustering_1ad61a631598a1ac0975c091bda9072da7"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss10Clustering10ClusteringEii">
<span id="_CPPv3N5faiss10Clustering10ClusteringEii"></span><span id="_CPPv2N5faiss10Clustering10ClusteringEii"></span><span id="faiss::Clustering::Clustering__i.i"></span><span class="target" id="structfaiss_1_1Clustering_1a2fa90a2681dc42faaf2435e63a5ae9b4"></span><code class="sig-name descname">Clustering</code><span class="sig-paren">(</span>int <em>d</em>, int <em>k</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10Clustering10ClusteringEiiRK20ClusteringParameters">
<span id="_CPPv3N5faiss10Clustering10ClusteringEiiRK20ClusteringParameters"></span><span id="_CPPv2N5faiss10Clustering10ClusteringEiiRK20ClusteringParameters"></span><span id="faiss::Clustering::Clustering__i.i.ClusteringParametersCR"></span><span class="target" id="structfaiss_1_1Clustering_1afd25cc6832b576ce4d0d7430e8ee3bff"></span><code class="sig-name descname">Clustering</code><span class="sig-paren">(</span>int <em>d</em>, int <em>k</em>, <em class="property">const</em> <a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> &amp;<em>cp</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10Clustering5trainE5idx_tPKfRN5faiss5IndexEPKf">
<span id="_CPPv3N5faiss10Clustering5trainE5idx_tPKfRN5faiss5IndexEPKf"></span><span id="_CPPv2N5faiss10Clustering5trainE5idx_tPKfRN5faiss5IndexEPKf"></span><span id="faiss::Clustering::train__idx_t.floatCP.faiss::IndexR.floatCP"></span><span class="target" id="structfaiss_1_1Clustering_1a097ae80bb9d39da6657f35bd00da39f2"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss10Clustering5idx_tE" title="faiss::Clustering::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>index</em>, <em class="property">const</em> float *<em>x_weights</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>run k-means training</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: index used for assignment </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x_weights</span></code>: weight associated to each vector: NULL or size n </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10Clustering13train_encodedE5idx_tPK7uint8_tPK5IndexR5IndexPKf">
<span id="_CPPv3N5faiss10Clustering13train_encodedE5idx_tPK7uint8_tPK5IndexR5IndexPKf"></span><span id="_CPPv2N5faiss10Clustering13train_encodedE5idx_tPK7uint8_tPK5IndexR5IndexPKf"></span><span id="faiss::Clustering::train_encoded__idx_t.uint8_tCP.IndexCP.IndexR.floatCP"></span><span class="target" id="structfaiss_1_1Clustering_1ad6ee36738660eaab7e11b3b5ee278912"></span>void <code class="sig-name descname">train_encoded</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss10Clustering5idx_tE" title="faiss::Clustering::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> uint8_t *<em>x_in</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>codec</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>index</em>, <em class="property">const</em> float *<em>weights</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>run with encoded vectors</p>
<p>win addition to <a class="reference internal" href="../struct/structfaiss_1_1Clustering.html#structfaiss_1_1Clustering_1a097ae80bb9d39da6657f35bd00da39f2"><span class="std std-ref">train()</span></a>âs parameters takes a codec as parameter to decode the input vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">codec</span></code>: codec used to decode the vectors (nullptr = vectors are in fact floats) * </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10Clustering22post_process_centroidsEv">
<span id="_CPPv3N5faiss10Clustering22post_process_centroidsEv"></span><span id="_CPPv2N5faiss10Clustering22post_process_centroidsEv"></span><span id="faiss::Clustering::post_process_centroids"></span><span class="target" id="structfaiss_1_1Clustering_1adcb47440a792267bb9218c10378cf1a8"></span>void <code class="sig-name descname">post_process_centroids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Post-process the centroids after each centroid update. includes optional L2 normalization and nearest integer rounding </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10ClusteringD0Ev">
<span id="_CPPv3N5faiss10ClusteringD0Ev"></span><span id="_CPPv2N5faiss10ClusteringD0Ev"></span><span id="faiss::Clustering::~Clustering"></span><span class="target" id="structfaiss_1_1Clustering_1a17403e70a0daaa43c67ac3ea098ce5b3"></span><code class="sig-name descname">~Clustering</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering1dE">
<span id="_CPPv3N5faiss10Clustering1dE"></span><span id="_CPPv2N5faiss10Clustering1dE"></span><span id="faiss::Clustering::d__s"></span><span class="target" id="structfaiss_1_1Clustering_1afbf6efacae54c58586b75ed790facd74"></span>size_t <code class="sig-name descname">d</code><br /></dt>
<dd><p>dimension of the vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering1kE">
<span id="_CPPv3N5faiss10Clustering1kE"></span><span id="_CPPv2N5faiss10Clustering1kE"></span><span id="faiss::Clustering::k__s"></span><span class="target" id="structfaiss_1_1Clustering_1a87581785d9516c683bbc7c9392bfa993"></span>size_t <code class="sig-name descname">k</code><br /></dt>
<dd><p>nb of centroids </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering9centroidsE">
<span id="_CPPv3N5faiss10Clustering9centroidsE"></span><span id="_CPPv2N5faiss10Clustering9centroidsE"></span><span id="faiss::Clustering::centroids__std::vector:float:"></span><span class="target" id="structfaiss_1_1Clustering_1a64c5ec0b4a7967d8be2872974b455ff1"></span>std::vector&lt;float&gt; <code class="sig-name descname">centroids</code><br /></dt>
<dd><p>centroids (k * d) if centroids are set on input to train, they will be used as initialization </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering15iteration_statsE">
<span id="_CPPv3N5faiss10Clustering15iteration_statsE"></span><span id="_CPPv2N5faiss10Clustering15iteration_statsE"></span><span id="faiss::Clustering::iteration_stats__std::vector:ClusteringIterationStats:"></span><span class="target" id="structfaiss_1_1Clustering_1a2ea2382ac486aa661ee0338cfb836a02"></span>std::vector&lt;<a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss24ClusteringIterationStatsE" title="faiss::ClusteringIterationStats">ClusteringIterationStats</a>&gt; <code class="sig-name descname">iteration_stats</code><br /></dt>
<dd><p>stats at every iteration of clustering </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering5niterE">
<span id="_CPPv3N5faiss10Clustering5niterE"></span><span id="_CPPv2N5faiss10Clustering5niterE"></span><span id="faiss::Clustering::niter__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a5c7c6f05c75e1668befdb3be148fd5f9"></span>int <code class="sig-name descname">niter</code><br /></dt>
<dd><p>clustering iterations </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering5nredoE">
<span id="_CPPv3N5faiss10Clustering5nredoE"></span><span id="_CPPv2N5faiss10Clustering5nredoE"></span><span id="faiss::Clustering::nredo__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a11a049c40c376c57ac6cc3b8d5d1d58b"></span>int <code class="sig-name descname">nredo</code><br /></dt>
<dd><p>redo clustering this many times and keep best </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering7verboseE">
<span id="_CPPv3N5faiss10Clustering7verboseE"></span><span id="_CPPv2N5faiss10Clustering7verboseE"></span><span id="faiss::Clustering::verbose__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a932139ba9b62b37d9121b4c6a4518b52"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering9sphericalE">
<span id="_CPPv3N5faiss10Clustering9sphericalE"></span><span id="_CPPv2N5faiss10Clustering9sphericalE"></span><span id="faiss::Clustering::spherical__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1ad997fb511f574f7ddc69938c21612f8d"></span>bool <code class="sig-name descname">spherical</code><br /></dt>
<dd><p>do we want normalized centroids? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering13int_centroidsE">
<span id="_CPPv3N5faiss10Clustering13int_centroidsE"></span><span id="_CPPv2N5faiss10Clustering13int_centroidsE"></span><span id="faiss::Clustering::int_centroids__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1ae01573d8d4cbff7c3d6eaded883537a4"></span>bool <code class="sig-name descname">int_centroids</code><br /></dt>
<dd><p>round centroids coordinates to integer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering12update_indexE">
<span id="_CPPv3N5faiss10Clustering12update_indexE"></span><span id="_CPPv2N5faiss10Clustering12update_indexE"></span><span id="faiss::Clustering::update_index__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a27d6192097920fa981cff0acedfaac91"></span>bool <code class="sig-name descname">update_index</code><br /></dt>
<dd><p>re-train index after each iteration? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering16frozen_centroidsE">
<span id="_CPPv3N5faiss10Clustering16frozen_centroidsE"></span><span id="_CPPv2N5faiss10Clustering16frozen_centroidsE"></span><span id="faiss::Clustering::frozen_centroids__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1ad142063e035f2a0414233f9711e16215"></span>bool <code class="sig-name descname">frozen_centroids</code><br /></dt>
<dd><p>use the centroids provided as input and do not change them during iterations </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering23min_points_per_centroidE">
<span id="_CPPv3N5faiss10Clustering23min_points_per_centroidE"></span><span id="_CPPv2N5faiss10Clustering23min_points_per_centroidE"></span><span id="faiss::Clustering::min_points_per_centroid__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a5af907901147a9b1e748b13305839924"></span>int <code class="sig-name descname">min_points_per_centroid</code><br /></dt>
<dd><p>otherwise you get a warning </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering23max_points_per_centroidE">
<span id="_CPPv3N5faiss10Clustering23max_points_per_centroidE"></span><span id="_CPPv2N5faiss10Clustering23max_points_per_centroidE"></span><span id="faiss::Clustering::max_points_per_centroid__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a993e0a035248faad6e292a5ef9af1953"></span>int <code class="sig-name descname">max_points_per_centroid</code><br /></dt>
<dd><p>to limit size of dataset </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering4seedE">
<span id="_CPPv3N5faiss10Clustering4seedE"></span><span id="_CPPv2N5faiss10Clustering4seedE"></span><span id="faiss::Clustering::seed__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a509c65e2ebe6ecabebd163ecb03c5579"></span>int <code class="sig-name descname">seed</code><br /></dt>
<dd><p>seed for the random number generator </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10Clustering17decode_block_sizeE">
<span id="_CPPv3N5faiss10Clustering17decode_block_sizeE"></span><span id="_CPPv2N5faiss10Clustering17decode_block_sizeE"></span><span id="faiss::Clustering::decode_block_size__s"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a46448d2ab0341faedc18a613264ad44f"></span>size_t <code class="sig-name descname">decode_block_size</code><br /></dt>
<dd><p>how many vectors at a time to decode </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss24ClusteringIterationStatsE">
<span id="_CPPv3N5faiss24ClusteringIterationStatsE"></span><span id="_CPPv2N5faiss24ClusteringIterationStatsE"></span><span id="faiss::ClusteringIterationStats"></span><span class="target" id="structfaiss_1_1ClusteringIterationStats"></span><em class="property">struct </em><code class="sig-name descname">ClusteringIterationStats</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss24ClusteringIterationStats3objE">
<span id="_CPPv3N5faiss24ClusteringIterationStats3objE"></span><span id="_CPPv2N5faiss24ClusteringIterationStats3objE"></span><span id="faiss::ClusteringIterationStats::obj__float"></span><span class="target" id="structfaiss_1_1ClusteringIterationStats_1a3a1ee76ac7d9cfda93284a846679e56a"></span>float <code class="sig-name descname">obj</code><br /></dt>
<dd><p>objective values (sum of distances reported by index) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ClusteringIterationStats4timeE">
<span id="_CPPv3N5faiss24ClusteringIterationStats4timeE"></span><span id="_CPPv2N5faiss24ClusteringIterationStats4timeE"></span><span id="faiss::ClusteringIterationStats::time__double"></span><span class="target" id="structfaiss_1_1ClusteringIterationStats_1a5e705d865d7e3c9ea224d1b7fb25c55e"></span>double <code class="sig-name descname">time</code><br /></dt>
<dd><p>seconds for iteration </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ClusteringIterationStats11time_searchE">
<span id="_CPPv3N5faiss24ClusteringIterationStats11time_searchE"></span><span id="_CPPv2N5faiss24ClusteringIterationStats11time_searchE"></span><span id="faiss::ClusteringIterationStats::time_search__double"></span><span class="target" id="structfaiss_1_1ClusteringIterationStats_1a4f851c82080b3ac7dfa70f84900c7e04"></span>double <code class="sig-name descname">time_search</code><br /></dt>
<dd><p>seconds for just search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ClusteringIterationStats16imbalance_factorE">
<span id="_CPPv3N5faiss24ClusteringIterationStats16imbalance_factorE"></span><span id="_CPPv2N5faiss24ClusteringIterationStats16imbalance_factorE"></span><span id="faiss::ClusteringIterationStats::imbalance_factor__double"></span><span class="target" id="structfaiss_1_1ClusteringIterationStats_1a49d02abe2f1a02839461e58bf0819b01"></span>double <code class="sig-name descname">imbalance_factor</code><br /></dt>
<dd><p>imbalance factor of iteration </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ClusteringIterationStats6nsplitE">
<span id="_CPPv3N5faiss24ClusteringIterationStats6nsplitE"></span><span id="_CPPv2N5faiss24ClusteringIterationStats6nsplitE"></span><span id="faiss::ClusteringIterationStats::nsplit__i"></span><span class="target" id="structfaiss_1_1ClusteringIterationStats_1abd83b0cdd436033c0d93ddeebf0ff05f"></span>int <code class="sig-name descname">nsplit</code><br /></dt>
<dd><p>number of cluster splits </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20ClusteringParametersE">
<span id="_CPPv3N5faiss20ClusteringParametersE"></span><span id="_CPPv2N5faiss20ClusteringParametersE"></span><span id="faiss::ClusteringParameters"></span><span class="target" id="structfaiss_1_1ClusteringParameters"></span><em class="property">struct </em><code class="sig-name descname">ClusteringParameters</code><br /></dt>
<dd><em>#include &lt;Clustering.h&gt;</em><p>Class for the clustering parameters. Can be passed to the constructor of the <a class="reference internal" href="../struct/structfaiss_1_1Clustering.html#structfaiss_1_1Clustering"><span class="std std-ref">Clustering</span></a> object. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1Clustering.html#structfaiss_1_1Clustering"><span class="std std-ref">faiss::Clustering</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20ClusteringParameters20ClusteringParametersEv">
<span id="_CPPv3N5faiss20ClusteringParameters20ClusteringParametersEv"></span><span id="_CPPv2N5faiss20ClusteringParameters20ClusteringParametersEv"></span><span id="faiss::ClusteringParameters::ClusteringParameters"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a86c8802261041f5d49b1a0d296da60be"></span><code class="sig-name descname">ClusteringParameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>sets reasonable defaults </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters5niterE">
<span id="_CPPv3N5faiss20ClusteringParameters5niterE"></span><span id="_CPPv2N5faiss20ClusteringParameters5niterE"></span><span id="faiss::ClusteringParameters::niter__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a5c7c6f05c75e1668befdb3be148fd5f9"></span>int <code class="sig-name descname">niter</code><br /></dt>
<dd><p>clustering iterations </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters5nredoE">
<span id="_CPPv3N5faiss20ClusteringParameters5nredoE"></span><span id="_CPPv2N5faiss20ClusteringParameters5nredoE"></span><span id="faiss::ClusteringParameters::nredo__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a11a049c40c376c57ac6cc3b8d5d1d58b"></span>int <code class="sig-name descname">nredo</code><br /></dt>
<dd><p>redo clustering this many times and keep best </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters7verboseE">
<span id="_CPPv3N5faiss20ClusteringParameters7verboseE"></span><span id="_CPPv2N5faiss20ClusteringParameters7verboseE"></span><span id="faiss::ClusteringParameters::verbose__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a932139ba9b62b37d9121b4c6a4518b52"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters9sphericalE">
<span id="_CPPv3N5faiss20ClusteringParameters9sphericalE"></span><span id="_CPPv2N5faiss20ClusteringParameters9sphericalE"></span><span id="faiss::ClusteringParameters::spherical__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1ad997fb511f574f7ddc69938c21612f8d"></span>bool <code class="sig-name descname">spherical</code><br /></dt>
<dd><p>do we want normalized centroids? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters13int_centroidsE">
<span id="_CPPv3N5faiss20ClusteringParameters13int_centroidsE"></span><span id="_CPPv2N5faiss20ClusteringParameters13int_centroidsE"></span><span id="faiss::ClusteringParameters::int_centroids__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1ae01573d8d4cbff7c3d6eaded883537a4"></span>bool <code class="sig-name descname">int_centroids</code><br /></dt>
<dd><p>round centroids coordinates to integer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters12update_indexE">
<span id="_CPPv3N5faiss20ClusteringParameters12update_indexE"></span><span id="_CPPv2N5faiss20ClusteringParameters12update_indexE"></span><span id="faiss::ClusteringParameters::update_index__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a27d6192097920fa981cff0acedfaac91"></span>bool <code class="sig-name descname">update_index</code><br /></dt>
<dd><p>re-train index after each iteration? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters16frozen_centroidsE">
<span id="_CPPv3N5faiss20ClusteringParameters16frozen_centroidsE"></span><span id="_CPPv2N5faiss20ClusteringParameters16frozen_centroidsE"></span><span id="faiss::ClusteringParameters::frozen_centroids__b"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1ad142063e035f2a0414233f9711e16215"></span>bool <code class="sig-name descname">frozen_centroids</code><br /></dt>
<dd><p>use the centroids provided as input and do not change them during iterations </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters23min_points_per_centroidE">
<span id="_CPPv3N5faiss20ClusteringParameters23min_points_per_centroidE"></span><span id="_CPPv2N5faiss20ClusteringParameters23min_points_per_centroidE"></span><span id="faiss::ClusteringParameters::min_points_per_centroid__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a5af907901147a9b1e748b13305839924"></span>int <code class="sig-name descname">min_points_per_centroid</code><br /></dt>
<dd><p>otherwise you get a warning </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters23max_points_per_centroidE">
<span id="_CPPv3N5faiss20ClusteringParameters23max_points_per_centroidE"></span><span id="_CPPv2N5faiss20ClusteringParameters23max_points_per_centroidE"></span><span id="faiss::ClusteringParameters::max_points_per_centroid__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a993e0a035248faad6e292a5ef9af1953"></span>int <code class="sig-name descname">max_points_per_centroid</code><br /></dt>
<dd><p>to limit size of dataset </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters4seedE">
<span id="_CPPv3N5faiss20ClusteringParameters4seedE"></span><span id="_CPPv2N5faiss20ClusteringParameters4seedE"></span><span id="faiss::ClusteringParameters::seed__i"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a509c65e2ebe6ecabebd163ecb03c5579"></span>int <code class="sig-name descname">seed</code><br /></dt>
<dd><p>seed for the random number generator </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20ClusteringParameters17decode_block_sizeE">
<span id="_CPPv3N5faiss20ClusteringParameters17decode_block_sizeE"></span><span id="_CPPv2N5faiss20ClusteringParameters17decode_block_sizeE"></span><span id="faiss::ClusteringParameters::decode_block_size__s"></span><span class="target" id="structfaiss_1_1ClusteringParameters_1a46448d2ab0341faedc18a613264ad44f"></span>size_t <code class="sig-name descname">decode_block_size</code><br /></dt>
<dd><p>how many vectors at a time to decode </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I00EN5faiss4CMaxE">
<span id="_CPPv3I00EN5faiss4CMaxE"></span><span id="_CPPv2I00EN5faiss4CMaxE"></span>template&lt;typename <code class="sig-name descname">T_</code>, typename <code class="sig-name descname">TI_</code>&gt;<br /><span class="target" id="structfaiss_1_1CMax"></span><em class="property">struct </em><code class="sig-name descname">CMax</code><br /></dt>
<dd><em>#include &lt;ordered_key_value.h&gt;</em><p>The C object gives the type T of the values of a key-value storage, the type of the keys, TI and the comparison that is done: <a class="reference internal" href="../struct/structfaiss_1_1CMax.html#structfaiss_1_1CMax"><span class="std std-ref">CMax</span></a> for a decreasing series and <a class="reference internal" href="../struct/structfaiss_1_1CMin.html#structfaiss_1_1CMin"><span class="std std-ref">CMin</span></a> for increasing series. In other words, for a given threshold threshold, an incoming value x is kept if <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">::</span><span class="n">cmp</span><span class="p">(</span><span class="n">threshold</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</p>
<p>is true. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss4CMax1TE">
<span id="_CPPv3N5faiss4CMax1TE"></span><span id="_CPPv2N5faiss4CMax1TE"></span><span id="faiss::CMax::T"></span><span class="target" id="structfaiss_1_1CMax_1a4b83239e1d9b4aced927ba7ff4173d00"></span><em class="property">typedef </em><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMaxE" title="faiss::CMax::T_">T_</a> <code class="sig-name descname">T</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss4CMax2TIE">
<span id="_CPPv3N5faiss4CMax2TIE"></span><span id="_CPPv2N5faiss4CMax2TIE"></span><span id="faiss::CMax::TI"></span><span class="target" id="structfaiss_1_1CMax_1a3dee03ea7f714941e312c5e8a0fac424"></span><em class="property">typedef </em><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMaxE" title="faiss::CMax::TI_">TI_</a> <code class="sig-name descname">TI</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss4CMax4CrevE">
<span id="_CPPv3N5faiss4CMax4CrevE"></span><span id="_CPPv2N5faiss4CMax4CrevE"></span><span id="faiss::CMax::Crev"></span><span class="target" id="structfaiss_1_1CMax_1ac85b44ba294f5e0f308c0ff2af3d5488"></span><em class="property">typedef </em><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMinE" title="faiss::CMin">CMin</a>&lt;<a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMaxE" title="faiss::CMax::T_">T_</a>, <a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMaxE" title="faiss::CMax::TI_">TI_</a>&gt; <code class="sig-name descname">Crev</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss4CMax3cmpE1T1T">
<span id="_CPPv3N5faiss4CMax3cmpE1T1T"></span><span id="_CPPv2N5faiss4CMax3cmpE1T1T"></span><span id="faiss::CMax::cmp__T.T"></span><span class="target" id="structfaiss_1_1CMax_1aaf234ed1f1829f1f7c4a4f7b03baa63e"></span>bool <code class="sig-name descname">cmp</code><span class="sig-paren">(</span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMax1TE" title="faiss::CMax::T">T</a> <em>a</em>, <a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMax1TE" title="faiss::CMax::T">T</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss4CMax7neutralEv">
<span id="_CPPv3N5faiss4CMax7neutralEv"></span><span id="_CPPv2N5faiss4CMax7neutralEv"></span><span id="faiss::CMax::neutral"></span><span class="target" id="structfaiss_1_1CMax_1a6852fb868eaca69477c92c21c34c80d2"></span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMax1TE" title="faiss::CMax::T">T</a> <code class="sig-name descname">neutral</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss4CMax9nextafterE1T">
<span id="_CPPv3N5faiss4CMax9nextafterE1T"></span><span id="_CPPv2N5faiss4CMax9nextafterE1T"></span><span id="faiss::CMax::nextafter__T"></span><span class="target" id="structfaiss_1_1CMax_1a6190ab95ec589abea37578ca7922310e"></span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMax1TE" title="faiss::CMax::T">T</a> <code class="sig-name descname">nextafter</code><span class="sig-paren">(</span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMax1TE" title="faiss::CMax::T">T</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss4CMax6is_maxE">
<span id="_CPPv3N5faiss4CMax6is_maxE"></span><span id="_CPPv2N5faiss4CMax6is_maxE"></span><span id="faiss::CMax::is_max__bC"></span><span class="target" id="structfaiss_1_1CMax_1aa9bb565770641c21b5975cfc06f16ab8"></span><em class="property">const</em> bool <code class="sig-name descname">is_max</code> = true<br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I00EN5faiss4CMinE">
<span id="_CPPv3I00EN5faiss4CMinE"></span><span id="_CPPv2I00EN5faiss4CMinE"></span>template&lt;typename <code class="sig-name descname">T_</code>, typename <code class="sig-name descname">TI_</code>&gt;<br /><span class="target" id="structfaiss_1_1CMin"></span><em class="property">struct </em><code class="sig-name descname">CMin</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss4CMin1TE">
<span id="_CPPv3N5faiss4CMin1TE"></span><span id="_CPPv2N5faiss4CMin1TE"></span><span id="faiss::CMin::T"></span><span class="target" id="structfaiss_1_1CMin_1a88da78a6e6df33028f753bac4ec5504b"></span><em class="property">typedef </em><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMinE" title="faiss::CMin::T_">T_</a> <code class="sig-name descname">T</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss4CMin2TIE">
<span id="_CPPv3N5faiss4CMin2TIE"></span><span id="_CPPv2N5faiss4CMin2TIE"></span><span id="faiss::CMin::TI"></span><span class="target" id="structfaiss_1_1CMin_1aef7cdaa338899fd09f988aa69a9c155e"></span><em class="property">typedef </em><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMinE" title="faiss::CMin::TI_">TI_</a> <code class="sig-name descname">TI</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss4CMin4CrevE">
<span id="_CPPv3N5faiss4CMin4CrevE"></span><span id="_CPPv2N5faiss4CMin4CrevE"></span><span id="faiss::CMin::Crev"></span><span class="target" id="structfaiss_1_1CMin_1ac3e75e2ec6af3946e74b71a97e5c7697"></span><em class="property">typedef </em><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMaxE" title="faiss::CMax">CMax</a>&lt;<a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMinE" title="faiss::CMin::T_">T_</a>, <a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4I00EN5faiss4CMinE" title="faiss::CMin::TI_">TI_</a>&gt; <code class="sig-name descname">Crev</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss4CMin3cmpE1T1T">
<span id="_CPPv3N5faiss4CMin3cmpE1T1T"></span><span id="_CPPv2N5faiss4CMin3cmpE1T1T"></span><span id="faiss::CMin::cmp__T.T"></span><span class="target" id="structfaiss_1_1CMin_1a89143e2cd7f0cf758952178ee55ed88b"></span>bool <code class="sig-name descname">cmp</code><span class="sig-paren">(</span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMin1TE" title="faiss::CMin::T">T</a> <em>a</em>, <a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMin1TE" title="faiss::CMin::T">T</a> <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss4CMin7neutralEv">
<span id="_CPPv3N5faiss4CMin7neutralEv"></span><span id="_CPPv2N5faiss4CMin7neutralEv"></span><span id="faiss::CMin::neutral"></span><span class="target" id="structfaiss_1_1CMin_1af0f4d36dd0f4f44453986d9d73fbfa4d"></span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMin1TE" title="faiss::CMin::T">T</a> <code class="sig-name descname">neutral</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss4CMin9nextafterE1T">
<span id="_CPPv3N5faiss4CMin9nextafterE1T"></span><span id="_CPPv2N5faiss4CMin9nextafterE1T"></span><span id="faiss::CMin::nextafter__T"></span><span class="target" id="structfaiss_1_1CMin_1a37ab277ca36fca8d8681655da3b54b68"></span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMin1TE" title="faiss::CMin::T">T</a> <code class="sig-name descname">nextafter</code><span class="sig-paren">(</span><a class="reference internal" href="../file/ordered__key__value_8h.html#_CPPv4N5faiss4CMin1TE" title="faiss::CMin::T">T</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss4CMin6is_maxE">
<span id="_CPPv3N5faiss4CMin6is_maxE"></span><span id="_CPPv2N5faiss4CMin6is_maxE"></span><span id="faiss::CMin::is_max__bC"></span><span class="target" id="structfaiss_1_1CMin_1a3b3249c8b7a6dd60fd4004e128da9fe0"></span><em class="property">const</em> bool <code class="sig-name descname">is_max</code> = false<br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss9DirectMapE">
<span id="_CPPv3N5faiss9DirectMapE"></span><span id="_CPPv2N5faiss9DirectMapE"></span><span id="faiss::DirectMap"></span><span class="target" id="structfaiss_1_1DirectMap"></span><em class="property">struct </em><code class="sig-name descname">DirectMap</code><br /></dt>
<dd><em>#include &lt;DirectMap.h&gt;</em><p>Direct map: a way to map back from ids to inverted lists </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N5faiss9DirectMap4TypeE">
<span id="_CPPv3N5faiss9DirectMap4TypeE"></span><span id="_CPPv2N5faiss9DirectMap4TypeE"></span><span class="target" id="structfaiss_1_1DirectMap_1a62770ef9a5077202ffeaa944837d085e"></span><em class="property">enum </em><code class="sig-name descname">Type</code><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss9DirectMap4Type5NoMapE">
<span id="_CPPv3N5faiss9DirectMap4Type5NoMapE"></span><span id="_CPPv2N5faiss9DirectMap4Type5NoMapE"></span><span class="target" id="structfaiss_1_1DirectMap_1a62770ef9a5077202ffeaa944837d085ea69e597c47ff96b59750caf4e3b1c1595"></span><em class="property">enumerator </em><code class="sig-name descname">NoMap</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss9DirectMap4Type5ArrayE">
<span id="_CPPv3N5faiss9DirectMap4Type5ArrayE"></span><span id="_CPPv2N5faiss9DirectMap4Type5ArrayE"></span><span class="target" id="structfaiss_1_1DirectMap_1a62770ef9a5077202ffeaa944837d085eadbc69c719b291fd020f9453537e7f9fc"></span><em class="property">enumerator </em><code class="sig-name descname">Array</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss9DirectMap4Type9HashtableE">
<span id="_CPPv3N5faiss9DirectMap4Type9HashtableE"></span><span id="_CPPv2N5faiss9DirectMap4Type9HashtableE"></span><span class="target" id="structfaiss_1_1DirectMap_1a62770ef9a5077202ffeaa944837d085eafd50054291023bc688cd56d37eabfdc4"></span><em class="property">enumerator </em><code class="sig-name descname">Hashtable</code><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss9DirectMap5idx_tE">
<span id="_CPPv3N5faiss9DirectMap5idx_tE"></span><span id="_CPPv2N5faiss9DirectMap5idx_tE"></span><span id="faiss::DirectMap::idx_t"></span><span class="target" id="structfaiss_1_1DirectMap_1a501137926cd0eed359b945346ef055e9"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss9DirectMap9DirectMapEv">
<span id="_CPPv3N5faiss9DirectMap9DirectMapEv"></span><span id="_CPPv2N5faiss9DirectMap9DirectMapEv"></span><span id="faiss::DirectMap::DirectMap"></span><span class="target" id="structfaiss_1_1DirectMap_1adc5c8d5b6b22b1f94c6349f26e8eb0b6"></span><code class="sig-name descname">DirectMap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9DirectMap8set_typeE4TypePK13InvertedLists6size_t">
<span id="_CPPv3N5faiss9DirectMap8set_typeE4TypePK13InvertedLists6size_t"></span><span id="_CPPv2N5faiss9DirectMap8set_typeE4TypePK13InvertedLists6size_t"></span><span id="faiss::DirectMap::set_type__Type.InvertedListsCP.s"></span><span class="target" id="structfaiss_1_1DirectMap_1a860f8dd0fb1d96532b43e492f201cb84"></span>void <code class="sig-name descname">set_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>new_type</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>invlists</em>, size_t <em>ntotal</em><span class="sig-paren">)</span><br /></dt>
<dd><p>set type and initialize </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9DirectMap3getE5idx_t">
<span id="_CPPv3NK5faiss9DirectMap3getE5idx_t"></span><span id="_CPPv2NK5faiss9DirectMap3getE5idx_t"></span><span id="faiss::DirectMap::get__idx_tC"></span><span class="target" id="structfaiss_1_1DirectMap_1a032a4c2fbc9cfa556a84f8d8c1288ac7"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a> <code class="sig-name descname">get</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a> <em>id</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>get an entry </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9DirectMap2noEv">
<span id="_CPPv3NK5faiss9DirectMap2noEv"></span><span id="_CPPv2NK5faiss9DirectMap2noEv"></span><span id="faiss::DirectMap::noC"></span><span class="target" id="structfaiss_1_1DirectMap_1a27e7208053589c02cdc9002bbfb857d3"></span>bool <code class="sig-name descname">no</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>for quick checks </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9DirectMap13check_can_addEPK5idx_t">
<span id="_CPPv3N5faiss9DirectMap13check_can_addEPK5idx_t"></span><span id="_CPPv2N5faiss9DirectMap13check_can_addEPK5idx_t"></span><span id="faiss::DirectMap::check_can_add__idx_tCP"></span><span class="target" id="structfaiss_1_1DirectMap_1af436d21abce89e513dc1eb2d3a57ca78"></span>void <code class="sig-name descname">check_can_add</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>throw if Array and ids is not NULL </p>
<p>update the direct_map </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9DirectMap13add_single_idE5idx_t5idx_t6size_t">
<span id="_CPPv3N5faiss9DirectMap13add_single_idE5idx_t5idx_t6size_t"></span><span id="_CPPv2N5faiss9DirectMap13add_single_idE5idx_t5idx_t6size_t"></span><span id="faiss::DirectMap::add_single_id__idx_t.idx_t.s"></span><span class="target" id="structfaiss_1_1DirectMap_1a2280a6a2b3b199988c052e6f918cd0e2"></span>void <code class="sig-name descname">add_single_id</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a> <em>id</em>, <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a> <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span><br /></dt>
<dd><p>non thread-safe version </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9DirectMap5clearEv">
<span id="_CPPv3N5faiss9DirectMap5clearEv"></span><span id="_CPPv2N5faiss9DirectMap5clearEv"></span><span id="faiss::DirectMap::clear"></span><span class="target" id="structfaiss_1_1DirectMap_1a1a0303d38971a9aac20eb861b070af24"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>remove all entries </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9DirectMap10remove_idsERK10IDSelectorP13InvertedLists">
<span id="_CPPv3N5faiss9DirectMap10remove_idsERK10IDSelectorP13InvertedLists"></span><span id="_CPPv2N5faiss9DirectMap10remove_idsERK10IDSelectorP13InvertedLists"></span><span id="faiss::DirectMap::remove_ids__IDSelectorCR.InvertedListsP"></span><span class="target" id="structfaiss_1_1DirectMap_1abe74c8ce6beb15af58c26da044274e2f"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>invlists</em><span class="sig-paren">)</span><br /></dt>
<dd><p>remove ids from the <a class="reference internal" href="../struct/structfaiss_1_1InvertedLists.html#structfaiss_1_1InvertedLists"><span class="std std-ref">InvertedLists</span></a>, possibly using the direct map </p>
<p>operations on inverted lists that require translation with a <a class="reference internal" href="../struct/structfaiss_1_1DirectMap.html#structfaiss_1_1DirectMap"><span class="std std-ref">DirectMap</span></a> </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9DirectMap12update_codesEP13InvertedListsiPK5idx_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss9DirectMap12update_codesEP13InvertedListsiPK5idx_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss9DirectMap12update_codesEP13InvertedListsiPK5idx_tPK5idx_tPK7uint8_t"></span><span id="faiss::DirectMap::update_codes__InvertedListsP.i.idx_tCP.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1DirectMap_1a0426251cccf9f756d82d1b40229b9391"></span>void <code class="sig-name descname">update_codes</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>invlists</em>, int <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a> *<em>list_nos</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span><br /></dt>
<dd><p>update entries, using the direct map </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss9DirectMap4typeE">
<span id="_CPPv3N5faiss9DirectMap4typeE"></span><span id="_CPPv2N5faiss9DirectMap4typeE"></span><span id="faiss::DirectMap::type__Type"></span><span class="target" id="structfaiss_1_1DirectMap_1af32d92c20410dab605b1852117d84413"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <code class="sig-name descname">type</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9DirectMap5arrayE">
<span id="_CPPv3N5faiss9DirectMap5arrayE"></span><span id="_CPPv2N5faiss9DirectMap5arrayE"></span><span id="faiss::DirectMap::array__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1DirectMap_1a5372a8a241fd5cd2940518c523ace9dc"></span>std::vector&lt;<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a>&gt; <code class="sig-name descname">array</code><br /></dt>
<dd><p>map for direct access to the elements. Map ids to LO-encoded entries. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9DirectMap9hashtableE">
<span id="_CPPv3N5faiss9DirectMap9hashtableE"></span><span id="_CPPv2N5faiss9DirectMap9hashtableE"></span><span id="faiss::DirectMap::hashtable__std::unordered_map:idx_t.idx_t:"></span><span class="target" id="structfaiss_1_1DirectMap_1a5328b57d925865e464733f3512b0563f"></span>std::unordered_map&lt;<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a>, <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap5idx_tE" title="faiss::DirectMap::idx_t">idx_t</a>&gt; <code class="sig-name descname">hashtable</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss12DirectMapAddE">
<span id="_CPPv3N5faiss12DirectMapAddE"></span><span id="_CPPv2N5faiss12DirectMapAddE"></span><span id="faiss::DirectMapAdd"></span><span class="target" id="structfaiss_1_1DirectMapAdd"></span><em class="property">struct </em><code class="sig-name descname">DirectMapAdd</code><br /></dt>
<dd><em>#include &lt;DirectMap.h&gt;</em><p>Thread-safe way of updating the direct_map. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss12DirectMapAdd5idx_tE">
<span id="_CPPv3N5faiss12DirectMapAdd5idx_tE"></span><span id="_CPPv2N5faiss12DirectMapAdd5idx_tE"></span><span id="faiss::DirectMapAdd::idx_t"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1abbaf137098fa96137228e264c71346be"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss12DirectMapAdd4TypeE">
<span id="_CPPv3N5faiss12DirectMapAdd4TypeE"></span><span id="_CPPv2N5faiss12DirectMapAdd4TypeE"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1a0fdaf0f84ca296c744f91d14d4dc0061"></span><em class="property">using </em><code class="sig-name descname">Type</code> = <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12DirectMapAdd12DirectMapAddER9DirectMap6size_tPK5idx_t">
<span id="_CPPv3N5faiss12DirectMapAdd12DirectMapAddER9DirectMap6size_tPK5idx_t"></span><span id="_CPPv2N5faiss12DirectMapAdd12DirectMapAddER9DirectMap6size_tPK5idx_t"></span><span id="faiss::DirectMapAdd::DirectMapAdd__DirectMapR.s.idx_tCP"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1acf027302b2e6239431def2101879768f"></span><code class="sig-name descname">DirectMapAdd</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> &amp;<em>direct_map</em>, size_t <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss12DirectMapAdd5idx_tE" title="faiss::DirectMapAdd::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12DirectMapAdd3addE6size_t5idx_t6size_t">
<span id="_CPPv3N5faiss12DirectMapAdd3addE6size_t5idx_t6size_t"></span><span id="_CPPv2N5faiss12DirectMapAdd3addE6size_t5idx_t6size_t"></span><span id="faiss::DirectMapAdd::add__s.idx_t.s"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1af80ac88a6ba7c8eb07c41e4c8cce70f6"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span>size_t <em>i</em>, <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss12DirectMapAdd5idx_tE" title="faiss::DirectMapAdd::idx_t">idx_t</a> <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add vector i (with id xids[i]) at list_no and offset </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12DirectMapAddD0Ev">
<span id="_CPPv3N5faiss12DirectMapAddD0Ev"></span><span id="_CPPv2N5faiss12DirectMapAddD0Ev"></span><span id="faiss::DirectMapAdd::~DirectMapAdd"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1ace859085fad9a2a5948560b0cf37b342"></span><code class="sig-name descname">~DirectMapAdd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12DirectMapAdd10direct_mapE">
<span id="_CPPv3N5faiss12DirectMapAdd10direct_mapE"></span><span id="_CPPv2N5faiss12DirectMapAdd10direct_mapE"></span><span id="faiss::DirectMapAdd::direct_map__DirectMapR"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1a49d9d117f75dbca38ce5cc021d070a3e"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> &amp;<code class="sig-name descname">direct_map</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12DirectMapAdd4typeE">
<span id="_CPPv3N5faiss12DirectMapAdd4typeE"></span><span id="_CPPv2N5faiss12DirectMapAdd4typeE"></span><span id="faiss::DirectMapAdd::type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1a48cdcf383204e03f222dfd5268da07f7"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <code class="sig-name descname">type</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12DirectMapAdd6ntotalE">
<span id="_CPPv3N5faiss12DirectMapAdd6ntotalE"></span><span id="_CPPv2N5faiss12DirectMapAdd6ntotalE"></span><span id="faiss::DirectMapAdd::ntotal__s"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1a8717801b62dde28c1f6449b866e0d859"></span>size_t <code class="sig-name descname">ntotal</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12DirectMapAdd1nE">
<span id="_CPPv3N5faiss12DirectMapAdd1nE"></span><span id="_CPPv2N5faiss12DirectMapAdd1nE"></span><span id="faiss::DirectMapAdd::n__s"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1ad53244cf90fa50ab2067622fdac9cff6"></span>size_t <code class="sig-name descname">n</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12DirectMapAdd4xidsE">
<span id="_CPPv3N5faiss12DirectMapAdd4xidsE"></span><span id="_CPPv2N5faiss12DirectMapAdd4xidsE"></span><span id="faiss::DirectMapAdd::xids__idx_tCP"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1a589d3b9a6160cd5377bc2b509d6785e9"></span><em class="property">const</em> <a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss12DirectMapAdd5idx_tE" title="faiss::DirectMapAdd::idx_t">idx_t</a> *<code class="sig-name descname">xids</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12DirectMapAdd7all_ofsE">
<span id="_CPPv3N5faiss12DirectMapAdd7all_ofsE"></span><span id="_CPPv2N5faiss12DirectMapAdd7all_ofsE"></span><span id="faiss::DirectMapAdd::all_ofs__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1DirectMapAdd_1a2e06dfbace35457f530a462f3efed280"></span>std::vector&lt;<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss12DirectMapAdd5idx_tE" title="faiss::DirectMapAdd::idx_t">idx_t</a>&gt; <code class="sig-name descname">all_ofs</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss13FastScanStatsE">
<span id="_CPPv3N5faiss13FastScanStatsE"></span><span id="_CPPv2N5faiss13FastScanStatsE"></span><span id="faiss::FastScanStats"></span><span class="target" id="structfaiss_1_1FastScanStats"></span><em class="property">struct </em><code class="sig-name descname">FastScanStats</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss13FastScanStats13FastScanStatsEv">
<span id="_CPPv3N5faiss13FastScanStats13FastScanStatsEv"></span><span id="_CPPv2N5faiss13FastScanStats13FastScanStatsEv"></span><span id="faiss::FastScanStats::FastScanStats"></span><span class="target" id="structfaiss_1_1FastScanStats_1ab303350e82dfae5997cf983a812ca047"></span><code class="sig-name descname">FastScanStats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13FastScanStats5resetEv">
<span id="_CPPv3N5faiss13FastScanStats5resetEv"></span><span id="_CPPv2N5faiss13FastScanStats5resetEv"></span><span id="faiss::FastScanStats::reset"></span><span class="target" id="structfaiss_1_1FastScanStats_1a315a2f1fa6e11eaf0d83d1ab2e120488"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13FastScanStats2t0E">
<span id="_CPPv3N5faiss13FastScanStats2t0E"></span><span id="_CPPv2N5faiss13FastScanStats2t0E"></span><span id="faiss::FastScanStats::t0__uint64_t"></span><span class="target" id="structfaiss_1_1FastScanStats_1a1607aa1a69e14d01c3ccf4fa5c8386ba"></span>uint64_t <code class="sig-name descname">t0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13FastScanStats2t1E">
<span id="_CPPv3N5faiss13FastScanStats2t1E"></span><span id="_CPPv2N5faiss13FastScanStats2t1E"></span><span id="faiss::FastScanStats::t1__uint64_t"></span><span class="target" id="structfaiss_1_1FastScanStats_1aec18bb033b894ba2e8e937729053d49f"></span>uint64_t <code class="sig-name descname">t1</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13FastScanStats2t2E">
<span id="_CPPv3N5faiss13FastScanStats2t2E"></span><span id="_CPPv2N5faiss13FastScanStats2t2E"></span><span id="faiss::FastScanStats::t2__uint64_t"></span><span class="target" id="structfaiss_1_1FastScanStats_1ab16fac6fe52640c4ce83e7ef1f620168"></span>uint64_t <code class="sig-name descname">t2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13FastScanStats2t3E">
<span id="_CPPv3N5faiss13FastScanStats2t3E"></span><span id="_CPPv2N5faiss13FastScanStats2t3E"></span><span id="faiss::FastScanStats::t3__uint64_t"></span><span class="target" id="structfaiss_1_1FastScanStats_1a3249472f188df34ffba850d9fb36ca7f"></span>uint64_t <code class="sig-name descname">t3</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20GenHammingComputer16E">
<span id="_CPPv3N5faiss20GenHammingComputer16E"></span><span id="_CPPv2N5faiss20GenHammingComputer16E"></span><span id="faiss::GenHammingComputer16"></span><span class="target" id="structfaiss_1_1GenHammingComputer16"></span><em class="property">struct </em><code class="sig-name descname">GenHammingComputer16</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20GenHammingComputer1620GenHammingComputer16EPK7uint8_ti">
<span id="_CPPv3N5faiss20GenHammingComputer1620GenHammingComputer16EPK7uint8_ti"></span><span id="_CPPv2N5faiss20GenHammingComputer1620GenHammingComputer16EPK7uint8_ti"></span><span id="faiss::GenHammingComputer16::GenHammingComputer16__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1GenHammingComputer16_1a30961932f5bade747453bb9b13fff9df"></span><code class="sig-name descname">GenHammingComputer16</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20GenHammingComputer167hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss20GenHammingComputer167hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss20GenHammingComputer167hammingEPK7uint8_t"></span><span id="faiss::GenHammingComputer16::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1GenHammingComputer16_1ae80aa32faf79439faaa46bf0eb924d5e"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20GenHammingComputer162a0E">
<span id="_CPPv3N5faiss20GenHammingComputer162a0E"></span><span id="_CPPv2N5faiss20GenHammingComputer162a0E"></span><span id="faiss::GenHammingComputer16::a0__uint64_t"></span><span class="target" id="structfaiss_1_1GenHammingComputer16_1ab1414808b3500c41ac9cd8bdc100c58a"></span>uint64_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20GenHammingComputer162a1E">
<span id="_CPPv3N5faiss20GenHammingComputer162a1E"></span><span id="_CPPv2N5faiss20GenHammingComputer162a1E"></span><span id="faiss::GenHammingComputer16::a1__uint64_t"></span><span class="target" id="structfaiss_1_1GenHammingComputer16_1aaf98f1afee05711fcbc3d7c2fd7740ba"></span>uint64_t <code class="sig-name descname">a1</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20GenHammingComputer32E">
<span id="_CPPv3N5faiss20GenHammingComputer32E"></span><span id="_CPPv2N5faiss20GenHammingComputer32E"></span><span id="faiss::GenHammingComputer32"></span><span class="target" id="structfaiss_1_1GenHammingComputer32"></span><em class="property">struct </em><code class="sig-name descname">GenHammingComputer32</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20GenHammingComputer3220GenHammingComputer32EPK7uint8_ti">
<span id="_CPPv3N5faiss20GenHammingComputer3220GenHammingComputer32EPK7uint8_ti"></span><span id="_CPPv2N5faiss20GenHammingComputer3220GenHammingComputer32EPK7uint8_ti"></span><span id="faiss::GenHammingComputer32::GenHammingComputer32__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1GenHammingComputer32_1a6bbcc00bcfab59e6581debc48fe911aa"></span><code class="sig-name descname">GenHammingComputer32</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20GenHammingComputer327hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss20GenHammingComputer327hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss20GenHammingComputer327hammingEPK7uint8_t"></span><span id="faiss::GenHammingComputer32::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1GenHammingComputer32_1afb7d108eadd7adb7ebbc8bc6a45f5f28"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20GenHammingComputer322a0E">
<span id="_CPPv3N5faiss20GenHammingComputer322a0E"></span><span id="_CPPv2N5faiss20GenHammingComputer322a0E"></span><span id="faiss::GenHammingComputer32::a0__uint64_t"></span><span class="target" id="structfaiss_1_1GenHammingComputer32_1a44491cd17453bcc3609ed0d1ea33697e"></span>uint64_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20GenHammingComputer322a1E">
<span id="_CPPv3N5faiss20GenHammingComputer322a1E"></span><span id="_CPPv2N5faiss20GenHammingComputer322a1E"></span><span id="faiss::GenHammingComputer32::a1__uint64_t"></span><span class="target" id="structfaiss_1_1GenHammingComputer32_1afed23c54eb8f2a5058ff7bb5da04001d"></span>uint64_t <code class="sig-name descname">a1</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20GenHammingComputer322a2E">
<span id="_CPPv3N5faiss20GenHammingComputer322a2E"></span><span id="_CPPv2N5faiss20GenHammingComputer322a2E"></span><span id="faiss::GenHammingComputer32::a2__uint64_t"></span><span class="target" id="structfaiss_1_1GenHammingComputer32_1ae6891a7ab323435d52965be30d8c1eab"></span>uint64_t <code class="sig-name descname">a2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20GenHammingComputer322a3E">
<span id="_CPPv3N5faiss20GenHammingComputer322a3E"></span><span id="_CPPv2N5faiss20GenHammingComputer322a3E"></span><span id="faiss::GenHammingComputer32::a3__uint64_t"></span><span class="target" id="structfaiss_1_1GenHammingComputer32_1a2f34e7a27e6c8296adde76b2d276ba8d"></span>uint64_t <code class="sig-name descname">a3</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19GenHammingComputer8E">
<span id="_CPPv3N5faiss19GenHammingComputer8E"></span><span id="_CPPv2N5faiss19GenHammingComputer8E"></span><span id="faiss::GenHammingComputer8"></span><span class="target" id="structfaiss_1_1GenHammingComputer8"></span><em class="property">struct </em><code class="sig-name descname">GenHammingComputer8</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19GenHammingComputer819GenHammingComputer8EPK7uint8_ti">
<span id="_CPPv3N5faiss19GenHammingComputer819GenHammingComputer8EPK7uint8_ti"></span><span id="_CPPv2N5faiss19GenHammingComputer819GenHammingComputer8EPK7uint8_ti"></span><span id="faiss::GenHammingComputer8::GenHammingComputer8__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1GenHammingComputer8_1a435b03f06449e1948609f658c2bb0af3"></span><code class="sig-name descname">GenHammingComputer8</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19GenHammingComputer87hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss19GenHammingComputer87hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss19GenHammingComputer87hammingEPK7uint8_t"></span><span id="faiss::GenHammingComputer8::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1GenHammingComputer8_1ab01942dac234ae10c2dbf72782c9de3c"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19GenHammingComputer82a0E">
<span id="_CPPv3N5faiss19GenHammingComputer82a0E"></span><span id="_CPPv2N5faiss19GenHammingComputer82a0E"></span><span id="faiss::GenHammingComputer8::a0__uint64_t"></span><span class="target" id="structfaiss_1_1GenHammingComputer8_1aced7fedc6ffd9ee99f92d3c59324e256"></span>uint64_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20GenHammingComputerM8E">
<span id="_CPPv3N5faiss20GenHammingComputerM8E"></span><span id="_CPPv2N5faiss20GenHammingComputerM8E"></span><span id="faiss::GenHammingComputerM8"></span><span class="target" id="structfaiss_1_1GenHammingComputerM8"></span><em class="property">struct </em><code class="sig-name descname">GenHammingComputerM8</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20GenHammingComputerM820GenHammingComputerM8EPK7uint8_ti">
<span id="_CPPv3N5faiss20GenHammingComputerM820GenHammingComputerM8EPK7uint8_ti"></span><span id="_CPPv2N5faiss20GenHammingComputerM820GenHammingComputerM8EPK7uint8_ti"></span><span id="faiss::GenHammingComputerM8::GenHammingComputerM8__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1GenHammingComputerM8_1a05797d27c83ecd0cebdf2069ee86f168"></span><code class="sig-name descname">GenHammingComputerM8</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20GenHammingComputerM87hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss20GenHammingComputerM87hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss20GenHammingComputerM87hammingEPK7uint8_t"></span><span id="faiss::GenHammingComputerM8::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1GenHammingComputerM8_1a1e1804d710a046ce82d18a9b1575c82d"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20GenHammingComputerM81aE">
<span id="_CPPv3N5faiss20GenHammingComputerM81aE"></span><span id="_CPPv2N5faiss20GenHammingComputerM81aE"></span><span id="faiss::GenHammingComputerM8::a__uint64_tCP"></span><span class="target" id="structfaiss_1_1GenHammingComputerM8_1acc35f4c5d63eb5aa9025c4914c885c3f"></span><em class="property">const</em> uint64_t *<code class="sig-name descname">a</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20GenHammingComputerM81nE">
<span id="_CPPv3N5faiss20GenHammingComputerM81nE"></span><span id="_CPPv2N5faiss20GenHammingComputerM81nE"></span><span id="faiss::GenHammingComputerM8::n__i"></span><span class="target" id="structfaiss_1_1GenHammingComputerM8_1a72fd506e611fda59d86cfc5d3f96694f"></span>int <code class="sig-name descname">n</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I_iEN5faiss15HammingComputerE">
<span id="_CPPv3I_iEN5faiss15HammingComputerE"></span><span id="_CPPv2I_iEN5faiss15HammingComputerE"></span>template&lt;int <code class="sig-name descname">CODE_SIZE</code>&gt;<br /><span class="target" id="structfaiss_1_1HammingComputer"></span><em class="property">struct </em><code class="sig-name descname">HammingComputer</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/hamming-inl_8h.html#_CPPv4N5faiss17HammingComputerM8E" title="faiss::HammingComputerM8">HammingComputerM8</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15HammingComputer15HammingComputerEPK7uint8_ti">
<span id="_CPPv3N5faiss15HammingComputer15HammingComputerEPK7uint8_ti"></span><span id="_CPPv2N5faiss15HammingComputer15HammingComputerEPK7uint8_ti"></span><span id="faiss::HammingComputer::HammingComputer__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer_1a08ae6f504ef5b2bcd81df5f6ee45f8e4"></span><code class="sig-name descname">HammingComputer</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15HammingComputer3setEPK7uint8_ti">
<span id="_CPPv3N5faiss15HammingComputer3setEPK7uint8_ti"></span><span id="_CPPv2N5faiss15HammingComputer3setEPK7uint8_ti"></span><span id="faiss::HammingComputer::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a099424f3a1ea7d4da78a6e288376c9ac"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15HammingComputer7hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss15HammingComputer7hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss15HammingComputer7hammingEPK7uint8_t"></span><span id="faiss::HammingComputer::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a10741cb74d89712eb3217f9740c7ac3b"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15HammingComputer1aE">
<span id="_CPPv3N5faiss15HammingComputer1aE"></span><span id="_CPPv2N5faiss15HammingComputer1aE"></span><span id="faiss::HammingComputer::a__uint64_tCP"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a30add67883789b4dd0fd39969e01afb9"></span><em class="property">const</em> uint64_t *<code class="sig-name descname">a</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15HammingComputer1nE">
<span id="_CPPv3N5faiss15HammingComputer1nE"></span><span id="_CPPv2N5faiss15HammingComputer1nE"></span><span id="faiss::HammingComputer::n__i"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a2c69b8d3ad9c8f0b08d4f18956ea76ac"></span>int <code class="sig-name descname">n</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17HammingComputer16E">
<span id="_CPPv3N5faiss17HammingComputer16E"></span><span id="_CPPv2N5faiss17HammingComputer16E"></span><span id="faiss::HammingComputer16"></span><span class="target" id="structfaiss_1_1HammingComputer16"></span><em class="property">struct </em><code class="sig-name descname">HammingComputer16</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer1617HammingComputer16Ev">
<span id="_CPPv3N5faiss17HammingComputer1617HammingComputer16Ev"></span><span id="_CPPv2N5faiss17HammingComputer1617HammingComputer16Ev"></span><span id="faiss::HammingComputer16::HammingComputer16"></span><span class="target" id="structfaiss_1_1HammingComputer16_1ab601ee8d7ca9e50cc882ebb18354a89e"></span><code class="sig-name descname">HammingComputer16</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer1617HammingComputer16EPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputer1617HammingComputer16EPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputer1617HammingComputer16EPK7uint8_ti"></span><span id="faiss::HammingComputer16::HammingComputer16__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer16_1a11aefbd5ff66bd895ac6563410622ae4"></span><code class="sig-name descname">HammingComputer16</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer163setEPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputer163setEPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputer163setEPK7uint8_ti"></span><span id="faiss::HammingComputer16::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer16_1a22a66f390eddd54563e1255b1a1c0184"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17HammingComputer167hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss17HammingComputer167hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss17HammingComputer167hammingEPK7uint8_t"></span><span id="faiss::HammingComputer16::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputer16_1ab9589c7dfca5ed5993b4b79cebcb3ee0"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer162a0E">
<span id="_CPPv3N5faiss17HammingComputer162a0E"></span><span id="_CPPv2N5faiss17HammingComputer162a0E"></span><span id="faiss::HammingComputer16::a0__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer16_1ac4340a237b6cf38bad084fe520ce4f38"></span>uint64_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer162a1E">
<span id="_CPPv3N5faiss17HammingComputer162a1E"></span><span id="_CPPv2N5faiss17HammingComputer162a1E"></span><span id="faiss::HammingComputer16::a1__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer16_1ae0d55a59a4f9a4023f1888dc43297277"></span>uint64_t <code class="sig-name descname">a1</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17HammingComputer20E">
<span id="_CPPv3N5faiss17HammingComputer20E"></span><span id="_CPPv2N5faiss17HammingComputer20E"></span><span id="faiss::HammingComputer20"></span><span class="target" id="structfaiss_1_1HammingComputer20"></span><em class="property">struct </em><code class="sig-name descname">HammingComputer20</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer2017HammingComputer20Ev">
<span id="_CPPv3N5faiss17HammingComputer2017HammingComputer20Ev"></span><span id="_CPPv2N5faiss17HammingComputer2017HammingComputer20Ev"></span><span id="faiss::HammingComputer20::HammingComputer20"></span><span class="target" id="structfaiss_1_1HammingComputer20_1abf473d14e68eec988af8cd98dfd42813"></span><code class="sig-name descname">HammingComputer20</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer2017HammingComputer20EPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputer2017HammingComputer20EPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputer2017HammingComputer20EPK7uint8_ti"></span><span id="faiss::HammingComputer20::HammingComputer20__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer20_1a7578abb60161cf73536930378917c388"></span><code class="sig-name descname">HammingComputer20</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer203setEPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputer203setEPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputer203setEPK7uint8_ti"></span><span id="faiss::HammingComputer20::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer20_1a678f2a0b38e9a6f95a562b3dc6030998"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17HammingComputer207hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss17HammingComputer207hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss17HammingComputer207hammingEPK7uint8_t"></span><span id="faiss::HammingComputer20::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputer20_1a804e63f18ba84f9fa384c5859403f488"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer202a0E">
<span id="_CPPv3N5faiss17HammingComputer202a0E"></span><span id="_CPPv2N5faiss17HammingComputer202a0E"></span><span id="faiss::HammingComputer20::a0__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer20_1a295014fba5155a1b11334550238a9314"></span>uint64_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer202a1E">
<span id="_CPPv3N5faiss17HammingComputer202a1E"></span><span id="_CPPv2N5faiss17HammingComputer202a1E"></span><span id="faiss::HammingComputer20::a1__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer20_1ad49e5fd538eeb912e82f8c2238332ecf"></span>uint64_t <code class="sig-name descname">a1</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer202a2E">
<span id="_CPPv3N5faiss17HammingComputer202a2E"></span><span id="_CPPv2N5faiss17HammingComputer202a2E"></span><span id="faiss::HammingComputer20::a2__uint32_t"></span><span class="target" id="structfaiss_1_1HammingComputer20_1adac01f724344b881074435ea57d0dd8f"></span>uint32_t <code class="sig-name descname">a2</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17HammingComputer32E">
<span id="_CPPv3N5faiss17HammingComputer32E"></span><span id="_CPPv2N5faiss17HammingComputer32E"></span><span id="faiss::HammingComputer32"></span><span class="target" id="structfaiss_1_1HammingComputer32"></span><em class="property">struct </em><code class="sig-name descname">HammingComputer32</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer3217HammingComputer32Ev">
<span id="_CPPv3N5faiss17HammingComputer3217HammingComputer32Ev"></span><span id="_CPPv2N5faiss17HammingComputer3217HammingComputer32Ev"></span><span id="faiss::HammingComputer32::HammingComputer32"></span><span class="target" id="structfaiss_1_1HammingComputer32_1ad2f9cd4919916cbc11482e46c5f49ddb"></span><code class="sig-name descname">HammingComputer32</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer3217HammingComputer32EPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputer3217HammingComputer32EPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputer3217HammingComputer32EPK7uint8_ti"></span><span id="faiss::HammingComputer32::HammingComputer32__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer32_1a9019f812a483c0c7efe8dedb5c7c8352"></span><code class="sig-name descname">HammingComputer32</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer323setEPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputer323setEPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputer323setEPK7uint8_ti"></span><span id="faiss::HammingComputer32::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer32_1a5e121e89d304e9ba6601f8ef4b86c38c"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17HammingComputer327hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss17HammingComputer327hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss17HammingComputer327hammingEPK7uint8_t"></span><span id="faiss::HammingComputer32::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputer32_1a0d92afe4a71725e8dd912ad1bf7fa20f"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer322a0E">
<span id="_CPPv3N5faiss17HammingComputer322a0E"></span><span id="_CPPv2N5faiss17HammingComputer322a0E"></span><span id="faiss::HammingComputer32::a0__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer32_1a9e410d8583e796b7d4eff2b88c0d9c30"></span>uint64_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer322a1E">
<span id="_CPPv3N5faiss17HammingComputer322a1E"></span><span id="_CPPv2N5faiss17HammingComputer322a1E"></span><span id="faiss::HammingComputer32::a1__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer32_1ac3467554a7c3fd0a102bd811e915aba0"></span>uint64_t <code class="sig-name descname">a1</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer322a2E">
<span id="_CPPv3N5faiss17HammingComputer322a2E"></span><span id="_CPPv2N5faiss17HammingComputer322a2E"></span><span id="faiss::HammingComputer32::a2__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer32_1a8150e86907f56a477c0e0fd46cb16dd8"></span>uint64_t <code class="sig-name descname">a2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer322a3E">
<span id="_CPPv3N5faiss17HammingComputer322a3E"></span><span id="_CPPv2N5faiss17HammingComputer322a3E"></span><span id="faiss::HammingComputer32::a3__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer32_1a95743dcd218c0d1ee53b83efe7a626ef"></span>uint64_t <code class="sig-name descname">a3</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss16HammingComputer4E">
<span id="_CPPv3N5faiss16HammingComputer4E"></span><span id="_CPPv2N5faiss16HammingComputer4E"></span><span id="faiss::HammingComputer4"></span><span class="target" id="structfaiss_1_1HammingComputer4"></span><em class="property">struct </em><code class="sig-name descname">HammingComputer4</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss16HammingComputer416HammingComputer4Ev">
<span id="_CPPv3N5faiss16HammingComputer416HammingComputer4Ev"></span><span id="_CPPv2N5faiss16HammingComputer416HammingComputer4Ev"></span><span id="faiss::HammingComputer4::HammingComputer4"></span><span class="target" id="structfaiss_1_1HammingComputer4_1a371053baf6ea27ab7948387f96ad911e"></span><code class="sig-name descname">HammingComputer4</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16HammingComputer416HammingComputer4EPK7uint8_ti">
<span id="_CPPv3N5faiss16HammingComputer416HammingComputer4EPK7uint8_ti"></span><span id="_CPPv2N5faiss16HammingComputer416HammingComputer4EPK7uint8_ti"></span><span id="faiss::HammingComputer4::HammingComputer4__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer4_1a55b5dec647faca3fa97b0f96dd156267"></span><code class="sig-name descname">HammingComputer4</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16HammingComputer43setEPK7uint8_ti">
<span id="_CPPv3N5faiss16HammingComputer43setEPK7uint8_ti"></span><span id="_CPPv2N5faiss16HammingComputer43setEPK7uint8_ti"></span><span id="faiss::HammingComputer4::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer4_1a727351f6b05e23f443ac5d0750cb9d93"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss16HammingComputer47hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss16HammingComputer47hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss16HammingComputer47hammingEPK7uint8_t"></span><span id="faiss::HammingComputer4::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputer4_1aba11f9b8b74d30adf8884205e1e754ac"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss16HammingComputer42a0E">
<span id="_CPPv3N5faiss16HammingComputer42a0E"></span><span id="_CPPv2N5faiss16HammingComputer42a0E"></span><span id="faiss::HammingComputer4::a0__uint32_t"></span><span class="target" id="structfaiss_1_1HammingComputer4_1ad5c8ec402c03b960fc835722e1254cfa"></span>uint32_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17HammingComputer64E">
<span id="_CPPv3N5faiss17HammingComputer64E"></span><span id="_CPPv2N5faiss17HammingComputer64E"></span><span id="faiss::HammingComputer64"></span><span class="target" id="structfaiss_1_1HammingComputer64"></span><em class="property">struct </em><code class="sig-name descname">HammingComputer64</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer6417HammingComputer64Ev">
<span id="_CPPv3N5faiss17HammingComputer6417HammingComputer64Ev"></span><span id="_CPPv2N5faiss17HammingComputer6417HammingComputer64Ev"></span><span id="faiss::HammingComputer64::HammingComputer64"></span><span class="target" id="structfaiss_1_1HammingComputer64_1aa5eca842b60c85b575ebd8292a94d01b"></span><code class="sig-name descname">HammingComputer64</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer6417HammingComputer64EPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputer6417HammingComputer64EPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputer6417HammingComputer64EPK7uint8_ti"></span><span id="faiss::HammingComputer64::HammingComputer64__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer64_1a2892834dd399b08bc9ef97ecf64eaa2a"></span><code class="sig-name descname">HammingComputer64</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputer643setEPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputer643setEPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputer643setEPK7uint8_ti"></span><span id="faiss::HammingComputer64::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer64_1a712b3c2c8aa5e73f7a9d3618afd893c3"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17HammingComputer647hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss17HammingComputer647hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss17HammingComputer647hammingEPK7uint8_t"></span><span id="faiss::HammingComputer64::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputer64_1aff38c89e2d4d7a5a9fd844cbd33c11bd"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer642a0E">
<span id="_CPPv3N5faiss17HammingComputer642a0E"></span><span id="_CPPv2N5faiss17HammingComputer642a0E"></span><span id="faiss::HammingComputer64::a0__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer64_1ac6407c0d486b180692f14b99974e6c34"></span>uint64_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer642a1E">
<span id="_CPPv3N5faiss17HammingComputer642a1E"></span><span id="_CPPv2N5faiss17HammingComputer642a1E"></span><span id="faiss::HammingComputer64::a1__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer64_1a3baf0b039e9411cb5ca5ee419be9f9b0"></span>uint64_t <code class="sig-name descname">a1</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer642a2E">
<span id="_CPPv3N5faiss17HammingComputer642a2E"></span><span id="_CPPv2N5faiss17HammingComputer642a2E"></span><span id="faiss::HammingComputer64::a2__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer64_1accda08bd7b407445052c905eb518d273"></span>uint64_t <code class="sig-name descname">a2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer642a3E">
<span id="_CPPv3N5faiss17HammingComputer642a3E"></span><span id="_CPPv2N5faiss17HammingComputer642a3E"></span><span id="faiss::HammingComputer64::a3__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer64_1ac06328f5da1de6b0f44d7c27d2996d9f"></span>uint64_t <code class="sig-name descname">a3</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer642a4E">
<span id="_CPPv3N5faiss17HammingComputer642a4E"></span><span id="_CPPv2N5faiss17HammingComputer642a4E"></span><span id="faiss::HammingComputer64::a4__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer64_1afb05bd1e5d8e547007db45e9a2d091a1"></span>uint64_t <code class="sig-name descname">a4</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer642a5E">
<span id="_CPPv3N5faiss17HammingComputer642a5E"></span><span id="_CPPv2N5faiss17HammingComputer642a5E"></span><span id="faiss::HammingComputer64::a5__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer64_1a6a0420274afe5a1e79e2e21e54faa5d6"></span>uint64_t <code class="sig-name descname">a5</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer642a6E">
<span id="_CPPv3N5faiss17HammingComputer642a6E"></span><span id="_CPPv2N5faiss17HammingComputer642a6E"></span><span id="faiss::HammingComputer64::a6__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer64_1ab2f838d37017be5a7cd1110b58befe89"></span>uint64_t <code class="sig-name descname">a6</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputer642a7E">
<span id="_CPPv3N5faiss17HammingComputer642a7E"></span><span id="_CPPv2N5faiss17HammingComputer642a7E"></span><span id="faiss::HammingComputer64::a7__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer64_1a3dd9e61e461e3acfe316c9ac3cdc3323"></span>uint64_t <code class="sig-name descname">a7</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss16HammingComputer8E">
<span id="_CPPv3N5faiss16HammingComputer8E"></span><span id="_CPPv2N5faiss16HammingComputer8E"></span><span id="faiss::HammingComputer8"></span><span class="target" id="structfaiss_1_1HammingComputer8"></span><em class="property">struct </em><code class="sig-name descname">HammingComputer8</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss16HammingComputer816HammingComputer8Ev">
<span id="_CPPv3N5faiss16HammingComputer816HammingComputer8Ev"></span><span id="_CPPv2N5faiss16HammingComputer816HammingComputer8Ev"></span><span id="faiss::HammingComputer8::HammingComputer8"></span><span class="target" id="structfaiss_1_1HammingComputer8_1ad603a84bbc0e2dd1ecdca318de8927f8"></span><code class="sig-name descname">HammingComputer8</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16HammingComputer816HammingComputer8EPK7uint8_ti">
<span id="_CPPv3N5faiss16HammingComputer816HammingComputer8EPK7uint8_ti"></span><span id="_CPPv2N5faiss16HammingComputer816HammingComputer8EPK7uint8_ti"></span><span id="faiss::HammingComputer8::HammingComputer8__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer8_1a197b240151415fbb113b29f9f9df5853"></span><code class="sig-name descname">HammingComputer8</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16HammingComputer83setEPK7uint8_ti">
<span id="_CPPv3N5faiss16HammingComputer83setEPK7uint8_ti"></span><span id="_CPPv2N5faiss16HammingComputer83setEPK7uint8_ti"></span><span id="faiss::HammingComputer8::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputer8_1a0c57fbf4538c57ea27d6fc88de898a90"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss16HammingComputer87hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss16HammingComputer87hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss16HammingComputer87hammingEPK7uint8_t"></span><span id="faiss::HammingComputer8::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputer8_1a1725426ae8afcc13132cea6b49e13058"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss16HammingComputer82a0E">
<span id="_CPPv3N5faiss16HammingComputer82a0E"></span><span id="_CPPv2N5faiss16HammingComputer82a0E"></span><span id="faiss::HammingComputer8::a0__uint64_t"></span><span class="target" id="structfaiss_1_1HammingComputer8_1abe238e7d6aff837b8cb0bdc31e5dd18d"></span>uint64_t <code class="sig-name descname">a0</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss22HammingComputerDefaultE">
<span id="_CPPv3N5faiss22HammingComputerDefaultE"></span><span id="_CPPv2N5faiss22HammingComputerDefaultE"></span><span id="faiss::HammingComputerDefault"></span><span class="target" id="structfaiss_1_1HammingComputerDefault"></span><em class="property">struct </em><code class="sig-name descname">HammingComputerDefault</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss22HammingComputerDefault22HammingComputerDefaultEv">
<span id="_CPPv3N5faiss22HammingComputerDefault22HammingComputerDefaultEv"></span><span id="_CPPv2N5faiss22HammingComputerDefault22HammingComputerDefaultEv"></span><span id="faiss::HammingComputerDefault::HammingComputerDefault"></span><span class="target" id="structfaiss_1_1HammingComputerDefault_1a7de248d27a0a9bad5f551206f1f7e87c"></span><code class="sig-name descname">HammingComputerDefault</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22HammingComputerDefault22HammingComputerDefaultEPK7uint8_ti">
<span id="_CPPv3N5faiss22HammingComputerDefault22HammingComputerDefaultEPK7uint8_ti"></span><span id="_CPPv2N5faiss22HammingComputerDefault22HammingComputerDefaultEPK7uint8_ti"></span><span id="faiss::HammingComputerDefault::HammingComputerDefault__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputerDefault_1a811e3f5db91b6a5f6eba731e514910fa"></span><code class="sig-name descname">HammingComputerDefault</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22HammingComputerDefault3setEPK7uint8_ti">
<span id="_CPPv3N5faiss22HammingComputerDefault3setEPK7uint8_ti"></span><span id="_CPPv2N5faiss22HammingComputerDefault3setEPK7uint8_ti"></span><span id="faiss::HammingComputerDefault::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputerDefault_1a2738b8c53224a9d51df060d8efd062c8"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22HammingComputerDefault7hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss22HammingComputerDefault7hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss22HammingComputerDefault7hammingEPK7uint8_t"></span><span id="faiss::HammingComputerDefault::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputerDefault_1aa114eb107f8cce136689b50d8dffafd1"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss22HammingComputerDefault1aE">
<span id="_CPPv3N5faiss22HammingComputerDefault1aE"></span><span id="_CPPv2N5faiss22HammingComputerDefault1aE"></span><span id="faiss::HammingComputerDefault::a__uint8_tCP"></span><span class="target" id="structfaiss_1_1HammingComputerDefault_1aa807b4b3b14c5573acf27bad2cdd4b58"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">a</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss22HammingComputerDefault1nE">
<span id="_CPPv3N5faiss22HammingComputerDefault1nE"></span><span id="_CPPv2N5faiss22HammingComputerDefault1nE"></span><span id="faiss::HammingComputerDefault::n__i"></span><span class="target" id="structfaiss_1_1HammingComputerDefault_1a8a8acbafc83cfa495b52c00ed4155312"></span>int <code class="sig-name descname">n</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17HammingComputerM4E">
<span id="_CPPv3N5faiss17HammingComputerM4E"></span><span id="_CPPv2N5faiss17HammingComputerM4E"></span><span id="faiss::HammingComputerM4"></span><span class="target" id="structfaiss_1_1HammingComputerM4"></span><em class="property">struct </em><code class="sig-name descname">HammingComputerM4</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputerM417HammingComputerM4Ev">
<span id="_CPPv3N5faiss17HammingComputerM417HammingComputerM4Ev"></span><span id="_CPPv2N5faiss17HammingComputerM417HammingComputerM4Ev"></span><span id="faiss::HammingComputerM4::HammingComputerM4"></span><span class="target" id="structfaiss_1_1HammingComputerM4_1a3438297be27f32d1fdc62607404b9060"></span><code class="sig-name descname">HammingComputerM4</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputerM417HammingComputerM4EPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputerM417HammingComputerM4EPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputerM417HammingComputerM4EPK7uint8_ti"></span><span id="faiss::HammingComputerM4::HammingComputerM4__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputerM4_1ad33e45019079424426fdb64c7f7a55f9"></span><code class="sig-name descname">HammingComputerM4</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a4</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputerM43setEPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputerM43setEPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputerM43setEPK7uint8_ti"></span><span id="faiss::HammingComputerM4::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputerM4_1ae058888cc2117ecd2a3695a43468097c"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a4</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17HammingComputerM47hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss17HammingComputerM47hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss17HammingComputerM47hammingEPK7uint8_t"></span><span id="faiss::HammingComputerM4::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputerM4_1ae12ba4b1be2bf0458d833a94b86c5adc"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputerM41aE">
<span id="_CPPv3N5faiss17HammingComputerM41aE"></span><span id="_CPPv2N5faiss17HammingComputerM41aE"></span><span id="faiss::HammingComputerM4::a__uint32_tCP"></span><span class="target" id="structfaiss_1_1HammingComputerM4_1af146cad6476627acd38d195d6a5427e4"></span><em class="property">const</em> uint32_t *<code class="sig-name descname">a</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputerM41nE">
<span id="_CPPv3N5faiss17HammingComputerM41nE"></span><span id="_CPPv2N5faiss17HammingComputerM41nE"></span><span id="faiss::HammingComputerM4::n__i"></span><span class="target" id="structfaiss_1_1HammingComputerM4_1a850a14fffa6e73400dc351ce9f2f4098"></span>int <code class="sig-name descname">n</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17HammingComputerM8E">
<span id="_CPPv3N5faiss17HammingComputerM8E"></span><span id="_CPPv2N5faiss17HammingComputerM8E"></span><span id="faiss::HammingComputerM8"></span><span class="target" id="structfaiss_1_1HammingComputerM8"></span><em class="property">struct </em><code class="sig-name descname">HammingComputerM8</code><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1HammingComputer.html#structfaiss_1_1HammingComputer"><span class="std std-ref">faiss::HammingComputer&lt; CODE_SIZE &gt;</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputerM817HammingComputerM8Ev">
<span id="_CPPv3N5faiss17HammingComputerM817HammingComputerM8Ev"></span><span id="_CPPv2N5faiss17HammingComputerM817HammingComputerM8Ev"></span><span id="faiss::HammingComputerM8::HammingComputerM8"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1ac1cf28a150bab758028e2b3885f509ec"></span><code class="sig-name descname">HammingComputerM8</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputerM817HammingComputerM8EPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputerM817HammingComputerM8EPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputerM817HammingComputerM8EPK7uint8_ti"></span><span id="faiss::HammingComputerM8::HammingComputerM8__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a33e9ebd57c6621f0b777784962a85213"></span><code class="sig-name descname">HammingComputerM8</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17HammingComputerM83setEPK7uint8_ti">
<span id="_CPPv3N5faiss17HammingComputerM83setEPK7uint8_ti"></span><span id="_CPPv2N5faiss17HammingComputerM83setEPK7uint8_ti"></span><span id="faiss::HammingComputerM8::set__uint8_tCP.i"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a099424f3a1ea7d4da78a6e288376c9ac"></span>void <code class="sig-name descname">set</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>a8</em>, int <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17HammingComputerM87hammingEPK7uint8_t">
<span id="_CPPv3NK5faiss17HammingComputerM87hammingEPK7uint8_t"></span><span id="_CPPv2NK5faiss17HammingComputerM87hammingEPK7uint8_t"></span><span id="faiss::HammingComputerM8::hamming__uint8_tCPC"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a10741cb74d89712eb3217f9740c7ac3b"></span>int <code class="sig-name descname">hamming</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>b8</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputerM81aE">
<span id="_CPPv3N5faiss17HammingComputerM81aE"></span><span id="_CPPv2N5faiss17HammingComputerM81aE"></span><span id="faiss::HammingComputerM8::a__uint64_tCP"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a30add67883789b4dd0fd39969e01afb9"></span><em class="property">const</em> uint64_t *<code class="sig-name descname">a</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17HammingComputerM81nE">
<span id="_CPPv3N5faiss17HammingComputerM81nE"></span><span id="_CPPv2N5faiss17HammingComputerM81nE"></span><span id="faiss::HammingComputerM8::n__i"></span><span class="target" id="structfaiss_1_1HammingComputerM8_1a2c69b8d3ad9c8f0b08d4f18956ea76ac"></span>int <code class="sig-name descname">n</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I0EN5faiss13HCounterStateE">
<span id="_CPPv3I0EN5faiss13HCounterStateE"></span><span id="_CPPv2I0EN5faiss13HCounterStateE"></span>template&lt;class <code class="sig-name descname">HammingComputer</code>&gt;<br /><span class="target" id="structfaiss_1_1HCounterState"></span><em class="property">struct </em><code class="sig-name descname">HCounterState</code><br /></dt>
<dd><em>#include &lt;hamming-inl.h&gt;</em><p>This class maintains a list of best distances seen so far.</p>
<p>Since the distances are in a limited range (0 to nbit), the object maintains one list per possible distance, and fills in only the n-first lists, such that the sum of sizes of the n lists is below k. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss13HCounterState13HCounterStateEPiP7int64_tPK7uint8_tii">
<span id="_CPPv3N5faiss13HCounterState13HCounterStateEPiP7int64_tPK7uint8_tii"></span><span id="_CPPv2N5faiss13HCounterState13HCounterStateEPiP7int64_tPK7uint8_tii"></span><span id="faiss::HCounterState::HCounterState__iP.int64_tP.uint8_tCP.i.i"></span><span class="target" id="structfaiss_1_1HCounterState_1a83bb9102d3f4a543ab5a95d51e539c23"></span><code class="sig-name descname">HCounterState</code><span class="sig-paren">(</span>int *<em>counters</em>, int64_t *<em>ids_per_dis</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>d</em>, int <em>k</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13HCounterState14update_counterEPK7uint8_t6size_t">
<span id="_CPPv3N5faiss13HCounterState14update_counterEPK7uint8_t6size_t"></span><span id="_CPPv2N5faiss13HCounterState14update_counterEPK7uint8_t6size_t"></span><span id="faiss::HCounterState::update_counter__uint8_tCP.s"></span><span class="target" id="structfaiss_1_1HCounterState_1acbc245f1f1e3dc91a0638fa093e2d4eb"></span>void <code class="sig-name descname">update_counter</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>y</em>, size_t <em>j</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13HCounterState8countersE">
<span id="_CPPv3N5faiss13HCounterState8countersE"></span><span id="_CPPv2N5faiss13HCounterState8countersE"></span><span id="faiss::HCounterState::counters__iP"></span><span class="target" id="structfaiss_1_1HCounterState_1aba2730ef4714f1ec177994b37402ccfe"></span>int *<code class="sig-name descname">counters</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13HCounterState11ids_per_disE">
<span id="_CPPv3N5faiss13HCounterState11ids_per_disE"></span><span id="_CPPv2N5faiss13HCounterState11ids_per_disE"></span><span id="faiss::HCounterState::ids_per_dis__int64_tP"></span><span class="target" id="structfaiss_1_1HCounterState_1a034efca2fb54bc2c45488259f5e47365"></span>int64_t *<code class="sig-name descname">ids_per_dis</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13HCounterState2hcE">
<span id="_CPPv3N5faiss13HCounterState2hcE"></span><span id="_CPPv2N5faiss13HCounterState2hcE"></span><span id="faiss::HCounterState::hc__HammingComputer"></span><span class="target" id="structfaiss_1_1HCounterState_1ac8aa41122bfbca508167f6c62f2b8701"></span><a class="reference internal" href="../file/hamming-inl_8h.html#_CPPv4I0EN5faiss13HCounterStateE" title="faiss::HCounterState::HammingComputer">HammingComputer</a> <code class="sig-name descname">hc</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13HCounterState5thresE">
<span id="_CPPv3N5faiss13HCounterState5thresE"></span><span id="_CPPv2N5faiss13HCounterState5thresE"></span><span id="faiss::HCounterState::thres__i"></span><span class="target" id="structfaiss_1_1HCounterState_1af064903b7159141e0997d00be5790a96"></span>int <code class="sig-name descname">thres</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13HCounterState8count_ltE">
<span id="_CPPv3N5faiss13HCounterState8count_ltE"></span><span id="_CPPv2N5faiss13HCounterState8count_ltE"></span><span id="faiss::HCounterState::count_lt__i"></span><span class="target" id="structfaiss_1_1HCounterState_1abbf19dbccb8d0c988dc7ccdc0c6eb732"></span>int <code class="sig-name descname">count_lt</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13HCounterState8count_eqE">
<span id="_CPPv3N5faiss13HCounterState8count_eqE"></span><span id="_CPPv2N5faiss13HCounterState8count_eqE"></span><span id="faiss::HCounterState::count_eq__i"></span><span class="target" id="structfaiss_1_1HCounterState_1a2b05f257aa65e0471f3bfe39f9f439ae"></span>int <code class="sig-name descname">count_eq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13HCounterState1kE">
<span id="_CPPv3N5faiss13HCounterState1kE"></span><span id="_CPPv2N5faiss13HCounterState1kE"></span><span id="faiss::HCounterState::k__i"></span><span class="target" id="structfaiss_1_1HCounterState_1a4870c60387b35d4805fb3e5bff29ef08"></span>int <code class="sig-name descname">k</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I0EN5faiss9HeapArrayE">
<span id="_CPPv3I0EN5faiss9HeapArrayE"></span><span id="_CPPv2I0EN5faiss9HeapArrayE"></span>template&lt;typename <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="structfaiss_1_1HeapArray"></span><em class="property">struct </em><code class="sig-name descname">HeapArray</code><br /></dt>
<dd><em>#include &lt;Heap.h&gt;</em><p>a template structure for a set of [min|max]-heaps it is tailored so that the actual data of the heaps can just live in compact arrays. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss9HeapArray2TIE">
<span id="_CPPv3N5faiss9HeapArray2TIE"></span><span id="_CPPv2N5faiss9HeapArray2TIE"></span><span id="faiss::HeapArray::TI"></span><span class="target" id="structfaiss_1_1HeapArray_1a284762db4e64dd74d82984b6b457304a"></span><em class="property">typedef </em><a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9HeapArrayE" title="faiss::HeapArray::C">C</a>::TI <code class="sig-name descname">TI</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss9HeapArray1TE">
<span id="_CPPv3N5faiss9HeapArray1TE"></span><span id="_CPPv2N5faiss9HeapArray1TE"></span><span id="faiss::HeapArray::T"></span><span class="target" id="structfaiss_1_1HeapArray_1a46eb2eae9e79a0dd7ab720283619a5a9"></span><em class="property">typedef </em><a class="reference internal" href="../file/Heap_8h.html#_CPPv4I0EN5faiss9HeapArrayE" title="faiss::HeapArray::C">C</a>::T <code class="sig-name descname">T</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss9HeapArray7get_valE6size_t">
<span id="_CPPv3N5faiss9HeapArray7get_valE6size_t"></span><span id="_CPPv2N5faiss9HeapArray7get_valE6size_t"></span><span id="faiss::HeapArray::get_val__s"></span><span class="target" id="structfaiss_1_1HeapArray_1ae97911f6f85d152a5b45e459063b6858"></span><a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray1TE" title="faiss::HeapArray::T">T</a> *<code class="sig-name descname">get_val</code><span class="sig-paren">(</span>size_t <em>key</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the list of values for a heap. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9HeapArray7get_idsE6size_t">
<span id="_CPPv3N5faiss9HeapArray7get_idsE6size_t"></span><span id="_CPPv2N5faiss9HeapArray7get_idsE6size_t"></span><span id="faiss::HeapArray::get_ids__s"></span><span class="target" id="structfaiss_1_1HeapArray_1af6aa57addaa1bc754d09a2a08be4df49"></span><a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray2TIE" title="faiss::HeapArray::TI">TI</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>key</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Correspponding identifiers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9HeapArray7heapifyEv">
<span id="_CPPv3N5faiss9HeapArray7heapifyEv"></span><span id="_CPPv2N5faiss9HeapArray7heapifyEv"></span><span id="faiss::HeapArray::heapify"></span><span class="target" id="structfaiss_1_1HeapArray_1a48afc496c73e982b8e10fde786628292"></span>void <code class="sig-name descname">heapify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>prepare all the heaps before adding </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9HeapArray4addnE6size_tPK1T2TI6size_t7int64_t">
<span id="_CPPv3N5faiss9HeapArray4addnE6size_tPK1T2TI6size_t7int64_t"></span><span id="_CPPv2N5faiss9HeapArray4addnE6size_tPK1T2TI6size_t7int64_t"></span><span id="faiss::HeapArray::addn__s.TCP.TI.s.int64_t"></span><span class="target" id="structfaiss_1_1HeapArray_1a293d8646fba26cfe726d529f3fb58923"></span>void <code class="sig-name descname">addn</code><span class="sig-paren">(</span>size_t <em>nj</em>, <em class="property">const</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray1TE" title="faiss::HeapArray::T">T</a> *<em>vin</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray2TIE" title="faiss::HeapArray::TI">TI</a> <em>j0</em> = 0, size_t <em>i0</em> = 0, int64_t <em>ni</em> = -1<span class="sig-paren">)</span><br /></dt>
<dd><p>add nj elements to heaps i0:i0+ni, with sequential ids</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nj</span></code>: nb of elements to add to each heap </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vin</span></code>: elements to add, size ni * nj </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">j0</span></code>: add this to the ids that are added </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first heap to update </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of elements to update (-1 = use nh) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9HeapArray13addn_with_idsE6size_tPK1TPK2TI7int64_t6size_t7int64_t">
<span id="_CPPv3N5faiss9HeapArray13addn_with_idsE6size_tPK1TPK2TI7int64_t6size_t7int64_t"></span><span id="_CPPv2N5faiss9HeapArray13addn_with_idsE6size_tPK1TPK2TI7int64_t6size_t7int64_t"></span><span id="faiss::HeapArray::addn_with_ids__s.TCP.TICP.int64_t.s.int64_t"></span><span class="target" id="structfaiss_1_1HeapArray_1a75cbbd8f60dd00f0523e8515e5072d06"></span>void <code class="sig-name descname">addn_with_ids</code><span class="sig-paren">(</span>size_t <em>nj</em>, <em class="property">const</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray1TE" title="faiss::HeapArray::T">T</a> *<em>vin</em>, <em class="property">const</em> <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray2TIE" title="faiss::HeapArray::TI">TI</a> *<em>id_in</em> = nullptr, int64_t <em>id_stride</em> = 0, size_t <em>i0</em> = 0, int64_t <em>ni</em> = -1<span class="sig-paren">)</span><br /></dt>
<dd><p>same as addn</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id_in</span></code>: ids of the elements to add, size ni * nj </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id_stride</span></code>: stride for id_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9HeapArray7reorderEv">
<span id="_CPPv3N5faiss9HeapArray7reorderEv"></span><span id="_CPPv2N5faiss9HeapArray7reorderEv"></span><span id="faiss::HeapArray::reorder"></span><span class="target" id="structfaiss_1_1HeapArray_1a3c686b3cc0594e6a284fa3a595bebdec"></span>void <code class="sig-name descname">reorder</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>reorder all the heaps </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9HeapArray16per_line_extremaEP1TP2TI">
<span id="_CPPv3NK5faiss9HeapArray16per_line_extremaEP1TP2TI"></span><span id="_CPPv2NK5faiss9HeapArray16per_line_extremaEP1TP2TI"></span><span id="faiss::HeapArray::per_line_extrema__TP.TIPC"></span><span class="target" id="structfaiss_1_1HeapArray_1a394c96180e1ebd1cab14a4506e54645b"></span>void <code class="sig-name descname">per_line_extrema</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray1TE" title="faiss::HeapArray::T">T</a> *<em>vals_out</em>, <a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray2TIE" title="faiss::HeapArray::TI">TI</a> *<em>idx_out</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>this is not really a heap function. It just finds the per-line extrema of each line of array D <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vals_out</span></code>: extreme value of each line (size nh, or NULL) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx_out</span></code>: index of extreme value (size nh or NULL) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss9HeapArray2nhE">
<span id="_CPPv3N5faiss9HeapArray2nhE"></span><span id="_CPPv2N5faiss9HeapArray2nhE"></span><span id="faiss::HeapArray::nh__s"></span><span class="target" id="structfaiss_1_1HeapArray_1aad477a3907c3496159eaf4b375be4432"></span>size_t <code class="sig-name descname">nh</code><br /></dt>
<dd><p>number of heaps </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9HeapArray1kE">
<span id="_CPPv3N5faiss9HeapArray1kE"></span><span id="_CPPv2N5faiss9HeapArray1kE"></span><span id="faiss::HeapArray::k__s"></span><span class="target" id="structfaiss_1_1HeapArray_1a1ee98429c766c77235f78c6d9aa32bb4"></span>size_t <code class="sig-name descname">k</code><br /></dt>
<dd><p>allocated size per heap </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9HeapArray3idsE">
<span id="_CPPv3N5faiss9HeapArray3idsE"></span><span id="_CPPv2N5faiss9HeapArray3idsE"></span><span id="faiss::HeapArray::ids__TIP"></span><span class="target" id="structfaiss_1_1HeapArray_1a22332dd179ce70e379addeaa47246cc2"></span><a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray2TIE" title="faiss::HeapArray::TI">TI</a> *<code class="sig-name descname">ids</code><br /></dt>
<dd><p>identifiers (size nh * k) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9HeapArray3valE">
<span id="_CPPv3N5faiss9HeapArray3valE"></span><span id="_CPPv2N5faiss9HeapArray3valE"></span><span id="faiss::HeapArray::val__TP"></span><span class="target" id="structfaiss_1_1HeapArray_1a4b131abb659e7d0ee315223270deac53"></span><a class="reference internal" href="../file/Heap_8h.html#_CPPv4N5faiss9HeapArray1TE" title="faiss::HeapArray::T">T</a> *<code class="sig-name descname">val</code><br /></dt>
<dd><p>values (distances or similarities), size nh * k </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19HStackInvertedListsE">
<span id="_CPPv3N5faiss19HStackInvertedListsE"></span><span id="_CPPv2N5faiss19HStackInvertedListsE"></span><span id="faiss::HStackInvertedLists"></span><span class="target" id="structfaiss_1_1HStackInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">HStackInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedListsE" title="faiss::ReadOnlyInvertedLists">ReadOnlyInvertedLists</a><br /></dt>
<dd><em>#include &lt;InvertedLists.h&gt;</em><p>Horizontal stack of inverted lists. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss19HStackInvertedLists5idx_tE">
<span id="_CPPv3N5faiss19HStackInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss19HStackInvertedLists5idx_tE"></span><span id="faiss::HStackInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19HStackInvertedLists19HStackInvertedListsEiPPK13InvertedLists">
<span id="_CPPv3N5faiss19HStackInvertedLists19HStackInvertedListsEiPPK13InvertedLists"></span><span id="_CPPv2N5faiss19HStackInvertedLists19HStackInvertedListsEiPPK13InvertedLists"></span><span id="faiss::HStackInvertedLists::HStackInvertedLists__i.InvertedListsCPP"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1a882d2fde7902129f3ee2473efc4442da"></span><code class="sig-name descname">HStackInvertedLists</code><span class="sig-paren">(</span>int <em>nil</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> **<em>ils</em><span class="sig-paren">)</span><br /></dt>
<dd><p>build <a class="reference internal" href="../struct/structfaiss_1_1InvertedLists.html#structfaiss_1_1InvertedLists"><span class="std std-ref">InvertedLists</span></a> by concatenating nil of them </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss19HStackInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss19HStackInvertedLists9list_sizeE6size_t"></span><span id="faiss::HStackInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1af8330d7cdc185533a1286e3413810c5e"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss19HStackInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss19HStackInvertedLists9get_codesE6size_t"></span><span id="faiss::HStackInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1a78f3c820064e879c3a4572a8afcbaed1"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss19HStackInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss19HStackInvertedLists7get_idsE6size_t"></span><span id="faiss::HStackInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1a04d5951f07bbc1b9ef0274e585c528d4"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedLists5idx_tE" title="faiss::HStackInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss19HStackInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss19HStackInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::HStackInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1a249f680477fac00cdfcf319c3bbe8c05"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedLists5idx_tE" title="faiss::HStackInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss19HStackInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss19HStackInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::HStackInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1ad431aa76dc678d71747dcbc9379d123a"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss19HStackInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss19HStackInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::HStackInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1aa987a3ecea9f4df3340fd8c21f5d7000"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedLists5idx_tE" title="faiss::HStackInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss19HStackInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss19HStackInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::HStackInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1a87091687f5fcc023f1db4c0f8c2c36da"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedLists5idx_tE" title="faiss::HStackInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss19HStackInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss19HStackInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::HStackInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1aa9a0eeb80347da174feb2302a74c188c"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19HStackInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19HStackInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19HStackInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::HStackInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a0734538244d8c5969e3e23e38faf1c0c"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedLists5idx_tE" title="faiss::HStackInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19HStackInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19HStackInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19HStackInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::HStackInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a33c3a5174bcf6709dcefec8bdc4b9a52"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedLists5idx_tE" title="faiss::HStackInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19HStackInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss19HStackInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss19HStackInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::HStackInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a7b65c76388ba2fbc17a7060f6cf87039"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19HStackInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19HStackInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19HStackInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::HStackInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedLists5idx_tE" title="faiss::HStackInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19HStackInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19HStackInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19HStackInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::HStackInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19HStackInvertedLists5idx_tE" title="faiss::HStackInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19HStackInvertedLists5resetEv">
<span id="_CPPv3N5faiss19HStackInvertedLists5resetEv"></span><span id="_CPPv2N5faiss19HStackInvertedLists5resetEv"></span><span id="faiss::HStackInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19HStackInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss19HStackInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss19HStackInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::HStackInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss19HStackInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss19HStackInvertedLists16imbalance_factorEv"></span><span id="faiss::HStackInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss19HStackInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss19HStackInvertedLists11print_statsEv"></span><span id="faiss::HStackInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19HStackInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss19HStackInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss19HStackInvertedLists14compute_ntotalEv"></span><span id="faiss::HStackInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19HStackInvertedLists3ilsE">
<span id="_CPPv3N5faiss19HStackInvertedLists3ilsE"></span><span id="_CPPv2N5faiss19HStackInvertedLists3ilsE"></span><span id="faiss::HStackInvertedLists::ils__std::vector:InvertedListsCP:"></span><span class="target" id="structfaiss_1_1HStackInvertedLists_1a5a9185e8f0c6b07083960dd2ebdefda9"></span>std::vector&lt;<em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a>*&gt; <code class="sig-name descname">ils</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19HStackInvertedLists5nlistE">
<span id="_CPPv3N5faiss19HStackInvertedLists5nlistE"></span><span id="_CPPv2N5faiss19HStackInvertedLists5nlistE"></span><span id="faiss::HStackInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19HStackInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss19HStackInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss19HStackInvertedLists9code_sizeE"></span><span id="faiss::HStackInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19HStackInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss19HStackInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss19HStackInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::HStackInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss5IndexE">
<span id="_CPPv3N5faiss5IndexE"></span><span id="_CPPv2N5faiss5IndexE"></span><span id="faiss::Index"></span><span class="target" id="structfaiss_1_1Index"></span><em class="property">struct </em><code class="sig-name descname">Index</code><br /></dt>
<dd><em>#include &lt;Index.h&gt;</em><p>Abstract structure for an index, supports adding vectors and searching them.</p>
<p>All vectors provided at add or search time are 32-bit float arrays, although the internal representation may vary. </p>
<p>Subclassed by <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">faiss::gpu::GpuIndex</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1Index2Layer.html#structfaiss_1_1Index2Layer"><span class="std std-ref">faiss::Index2Layer</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexHNSW.html#structfaiss_1_1IndexHNSW"><span class="std std-ref">faiss::IndexHNSW</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">faiss::IndexIVF</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexLattice.html#structfaiss_1_1IndexLattice"><span class="std std-ref">faiss::IndexLattice</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexLSH.html#structfaiss_1_1IndexLSH"><span class="std std-ref">faiss::IndexLSH</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexPQ.html#structfaiss_1_1IndexPQ"><span class="std std-ref">faiss::IndexPQ</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexPQFastScan.html#structfaiss_1_1IndexPQFastScan"><span class="std std-ref">faiss::IndexPQFastScan</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexPreTransform.html#structfaiss_1_1IndexPreTransform"><span class="std std-ref">faiss::IndexPreTransform</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexRefine.html#structfaiss_1_1IndexRefine"><span class="std std-ref">faiss::IndexRefine</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexScalarQuantizer.html#structfaiss_1_1IndexScalarQuantizer"><span class="std std-ref">faiss::IndexScalarQuantizer</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexSplitVectors.html#structfaiss_1_1IndexSplitVectors"><span class="std std-ref">faiss::IndexSplitVectors</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer.html#structfaiss_1_1MultiIndexQuantizer"><span class="std std-ref">faiss::MultiIndexQuantizer</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss5Index5idx_tE">
<span id="_CPPv3N5faiss5Index5idx_tE"></span><span id="_CPPv2N5faiss5Index5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss5Index11component_tE">
<span id="_CPPv3N5faiss5Index11component_tE"></span><span id="_CPPv2N5faiss5Index11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss5Index10distance_tE">
<span id="_CPPv3N5faiss5Index10distance_tE"></span><span id="_CPPv2N5faiss5Index10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss5Index5IndexE5idx_t10MetricType">
<span id="_CPPv3N5faiss5Index5IndexE5idx_t10MetricType"></span><span id="_CPPv2N5faiss5Index5IndexE5idx_t10MetricType"></span><span id="faiss::Index::Index__idx_t.MetricType"></span><span class="target" id="structfaiss_1_1Index_1a7b8cc435b5619d5d8382010a424bf67e"></span><code class="sig-name descname">Index</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>d</em> = 0, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss5IndexD0Ev">
<span id="_CPPv3N5faiss5IndexD0Ev"></span><span id="_CPPv2N5faiss5IndexD0Ev"></span><span id="faiss::Index::~Index"></span><span class="target" id="structfaiss_1_1Index_1a5fa7dbbb77a2a5c69b444672d2f1b982"></span><code class="sig-name descname">~Index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss5Index5trainE5idx_tPKf">
<span id="_CPPv3N5faiss5Index5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss5Index5trainE5idx_tPKf"></span><span id="faiss::Index::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss5Index3addE5idx_tPKf">
<span id="_CPPv3N5faiss5Index3addE5idx_tPKf"></span><span id="_CPPv2N5faiss5Index3addE5idx_tPKf"></span><span id="faiss::Index::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a1b5e9ac70adbce0897dd6c8276ad96f2"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss5Index12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss5Index12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss5Index12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::Index::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss5Index6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss5Index6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::Index::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1Index_1aced51b1ebc33c47ab3ae15ea906559a7"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss5Index12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss5Index12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::Index::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss5Index6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss5Index6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::Index::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss5Index5resetEv">
<span id="_CPPv3N5faiss5Index5resetEv"></span><span id="_CPPv2N5faiss5Index5resetEv"></span><span id="faiss::Index::reset"></span><span class="target" id="structfaiss_1_1Index_1a849361f5f0ab0aba8d419c86f2594191"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss5Index10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss5Index10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss5Index10remove_idsERK10IDSelector"></span><span id="faiss::Index::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss5Index11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss5Index11reconstructE5idx_tPf"></span><span id="faiss::Index::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss5Index13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss5Index13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::Index::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss5Index22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss5Index22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::Index::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss5Index16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss5Index16compute_residualEPKfPf5idx_t"></span><span id="faiss::Index::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss5Index18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss5Index18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::Index::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index21get_distance_computerEv">
<span id="_CPPv3NK5faiss5Index21get_distance_computerEv"></span><span id="_CPPv2NK5faiss5Index21get_distance_computerEv"></span><span id="faiss::Index::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index12sa_code_sizeEv">
<span id="_CPPv3NK5faiss5Index12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss5Index12sa_code_sizeEv"></span><span id="faiss::Index::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss5Index9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss5Index9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::Index::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss5Index9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss5Index9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss5Index9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::Index::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss5Index1dE">
<span id="_CPPv3N5faiss5Index1dE"></span><span id="_CPPv2N5faiss5Index1dE"></span><span id="faiss::Index::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss5Index6ntotalE">
<span id="_CPPv3N5faiss5Index6ntotalE"></span><span id="_CPPv2N5faiss5Index6ntotalE"></span><span id="faiss::Index::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss5Index7verboseE">
<span id="_CPPv3N5faiss5Index7verboseE"></span><span id="_CPPv2N5faiss5Index7verboseE"></span><span id="faiss::Index::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss5Index10is_trainedE">
<span id="_CPPv3N5faiss5Index10is_trainedE"></span><span id="_CPPv2N5faiss5Index10is_trainedE"></span><span id="faiss::Index::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss5Index11metric_typeE">
<span id="_CPPv3N5faiss5Index11metric_typeE"></span><span id="_CPPv2N5faiss5Index11metric_typeE"></span><span id="faiss::Index::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss5Index10metric_argE">
<span id="_CPPv3N5faiss5Index10metric_argE"></span><span id="_CPPv2N5faiss5Index10metric_argE"></span><span id="faiss::Index::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11Index2LayerE">
<span id="_CPPv3N5faiss11Index2LayerE"></span><span id="_CPPv2N5faiss11Index2LayerE"></span><span id="faiss::Index2Layer"></span><span class="target" id="structfaiss_1_1Index2Layer"></span><em class="property">struct </em><code class="sig-name descname">Index2Layer</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;Index2Layer.h&gt;</em><p>Same as an <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFPQ.html#structfaiss_1_1IndexIVFPQ"><span class="std std-ref">IndexIVFPQ</span></a> without the inverted lists: codes are stored sequentially</p>
<p>The class is mainly inteded to store encoded vectors that can be accessed randomly, the search function is not implemented. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11Index2Layer5idx_tE">
<span id="_CPPv3N5faiss11Index2Layer5idx_tE"></span><span id="_CPPv2N5faiss11Index2Layer5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11Index2Layer11component_tE">
<span id="_CPPv3N5faiss11Index2Layer11component_tE"></span><span id="_CPPv2N5faiss11Index2Layer11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11Index2Layer11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11Index2Layer10distance_tE">
<span id="_CPPv3N5faiss11Index2Layer10distance_tE"></span><span id="_CPPv2N5faiss11Index2Layer10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11Index2Layer10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11Index2Layer11Index2LayerEP5Index6size_tii10MetricType">
<span id="_CPPv3N5faiss11Index2Layer11Index2LayerEP5Index6size_tii10MetricType"></span><span id="_CPPv2N5faiss11Index2Layer11Index2LayerEP5Index6size_tii10MetricType"></span><span id="faiss::Index2Layer::Index2Layer__IndexP.s.i.i.MetricType"></span><span class="target" id="structfaiss_1_1Index2Layer_1aea5864830ea5711c1f9e92fc4768f203"></span><code class="sig-name descname">Index2Layer</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>nlist</em>, int <em>M</em>, int <em>nbit</em> = 8, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11Index2Layer11Index2LayerEv">
<span id="_CPPv3N5faiss11Index2Layer11Index2LayerEv"></span><span id="_CPPv2N5faiss11Index2Layer11Index2LayerEv"></span><span id="faiss::Index2Layer::Index2Layer"></span><span class="target" id="structfaiss_1_1Index2Layer_1a665a1d9562e040bb0281c2d0f5625d93"></span><code class="sig-name descname">Index2Layer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11Index2LayerD0Ev">
<span id="_CPPv3N5faiss11Index2LayerD0Ev"></span><span id="_CPPv2N5faiss11Index2LayerD0Ev"></span><span id="faiss::Index2Layer::~Index2Layer"></span><span class="target" id="structfaiss_1_1Index2Layer_1ac07e1ce0fa75888ad0a46091c59ed14a"></span><code class="sig-name descname">~Index2Layer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11Index2Layer5trainE5idx_tPKf">
<span id="_CPPv3N5faiss11Index2Layer5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss11Index2Layer5trainE5idx_tPKf"></span><span id="faiss::Index2Layer::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index2Layer_1a48cbf519590313f1c6a3dc89c8d0678c"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11Index2Layer3addE5idx_tPKf">
<span id="_CPPv3N5faiss11Index2Layer3addE5idx_tPKf"></span><span id="_CPPv2N5faiss11Index2Layer3addE5idx_tPKf"></span><span id="faiss::Index2Layer::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index2Layer_1a0aa69e64a2b216a01f99366e8ca4dc7b"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss11Index2Layer6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss11Index2Layer6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::Index2Layer::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1Index2Layer_1a5961efc2e19d9a6e5224f477b6d1b226"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>not implemented </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss11Index2Layer13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss11Index2Layer13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::Index2Layer::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index2Layer_1a226daedaa05c0e0bb3a0afb78d5aa120"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss11Index2Layer11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss11Index2Layer11reconstructE5idx_tPf"></span><span id="faiss::Index2Layer::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index2Layer_1af2e505c14e62234eb251fcb37ef012d2"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11Index2Layer5resetEv">
<span id="_CPPv3N5faiss11Index2Layer5resetEv"></span><span id="_CPPv2N5faiss11Index2Layer5resetEv"></span><span id="faiss::Index2Layer::reset"></span><span class="target" id="structfaiss_1_1Index2Layer_1a12e446dbca14688c37e038c98972ef4e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer21get_distance_computerEv">
<span id="_CPPv3NK5faiss11Index2Layer21get_distance_computerEv"></span><span id="_CPPv2NK5faiss11Index2Layer21get_distance_computerEv"></span><span id="faiss::Index2Layer::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index2Layer_1ab8c5ac9637fe663d04438d0336f7552f"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer17transfer_to_IVFPQER10IndexIVFPQ">
<span id="_CPPv3NK5faiss11Index2Layer17transfer_to_IVFPQER10IndexIVFPQ"></span><span id="_CPPv2NK5faiss11Index2Layer17transfer_to_IVFPQER10IndexIVFPQ"></span><span id="faiss::Index2Layer::transfer_to_IVFPQ__IndexIVFPQRC"></span><span class="target" id="structfaiss_1_1Index2Layer_1a4dd6c2d0452188f0596d922ed64fcb55"></span>void <code class="sig-name descname">transfer_to_IVFPQ</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>transfer the flat codes to an IVFPQ index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer12sa_code_sizeEv">
<span id="_CPPv3NK5faiss11Index2Layer12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss11Index2Layer12sa_code_sizeEv"></span><span id="faiss::Index2Layer::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index2Layer_1a3ffce6ef818de2d782815621c350393f"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11Index2Layer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11Index2Layer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::Index2Layer::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index2Layer_1a205db18d83af2fc98faab3f0066e8c9f"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1Index2Layer.html#structfaiss_1_1Index2Layer_1a3ffce6ef818de2d782815621c350393f"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11Index2Layer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11Index2Layer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::Index2Layer::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index2Layer_1aefba1e901bddaa812e853a8203b2f0b5"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1Index2Layer.html#structfaiss_1_1Index2Layer_1a3ffce6ef818de2d782815621c350393f"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11Index2Layer12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss11Index2Layer12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss11Index2Layer12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::Index2Layer::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11Index2Layer12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss11Index2Layer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11Index2Layer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::Index2Layer::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11Index2Layer12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11Index2Layer6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11Index2Layer6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::Index2Layer::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11Index2Layer6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11Index2Layer10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11Index2Layer10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11Index2Layer10remove_idsERK10IDSelector"></span><span id="faiss::Index2Layer::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11Index2Layer10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss11Index2Layer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss11Index2Layer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::Index2Layer::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11Index2Layer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss11Index2Layer16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss11Index2Layer16compute_residualEPKfPf5idx_t"></span><span id="faiss::Index2Layer::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11Index2Layer16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11Index2Layer18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss11Index2Layer18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss11Index2Layer18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::Index2Layer::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11Index2Layer18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer2q1E">
<span id="_CPPv3N5faiss11Index2Layer2q1E"></span><span id="_CPPv2N5faiss11Index2Layer2q1E"></span><span id="faiss::Index2Layer::q1__Level1Quantizer"></span><span class="target" id="structfaiss_1_1Index2Layer_1a5f2d70740af90b8c7ac946d58ec947aa"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss15Level1QuantizerE" title="faiss::Level1Quantizer">Level1Quantizer</a> <code class="sig-name descname">q1</code><br /></dt>
<dd><p>first level quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer2pqE">
<span id="_CPPv3N5faiss11Index2Layer2pqE"></span><span id="_CPPv2N5faiss11Index2Layer2pqE"></span><span id="faiss::Index2Layer::pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1Index2Layer_1ab90d1de73cbc705a347cfc852ded6006"></span>ProductQuantizer <code class="sig-name descname">pq</code><br /></dt>
<dd><p>second level quantizer is always a PQ </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer5codesE">
<span id="_CPPv3N5faiss11Index2Layer5codesE"></span><span id="_CPPv2N5faiss11Index2Layer5codesE"></span><span id="faiss::Index2Layer::codes__std::vector:uint8_t:"></span><span class="target" id="structfaiss_1_1Index2Layer_1a8e6bcfa690ac5ab1636b3d89b144f2d9"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">codes</code><br /></dt>
<dd><p>Codes. Size ntotal * code_size. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer11code_size_1E">
<span id="_CPPv3N5faiss11Index2Layer11code_size_1E"></span><span id="_CPPv2N5faiss11Index2Layer11code_size_1E"></span><span id="faiss::Index2Layer::code_size_1__s"></span><span class="target" id="structfaiss_1_1Index2Layer_1a735b2b6cc50e4186776a8213d2679837"></span>size_t <code class="sig-name descname">code_size_1</code><br /></dt>
<dd><p>size of the code for the first level (ceil(log8(q1.nlist))) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer11code_size_2E">
<span id="_CPPv3N5faiss11Index2Layer11code_size_2E"></span><span id="_CPPv2N5faiss11Index2Layer11code_size_2E"></span><span id="faiss::Index2Layer::code_size_2__s"></span><span class="target" id="structfaiss_1_1Index2Layer_1ad47e3c6493d54c2b83f1120b480d20f3"></span>size_t <code class="sig-name descname">code_size_2</code><br /></dt>
<dd><p>size of the code for the second level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer9code_sizeE">
<span id="_CPPv3N5faiss11Index2Layer9code_sizeE"></span><span id="_CPPv2N5faiss11Index2Layer9code_sizeE"></span><span id="faiss::Index2Layer::code_size__s"></span><span class="target" id="structfaiss_1_1Index2Layer_1a66403863c8ec987ed83b4d7ef4064fe9"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code_size_1 + code_size_2 </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer1dE">
<span id="_CPPv3N5faiss11Index2Layer1dE"></span><span id="_CPPv2N5faiss11Index2Layer1dE"></span><span id="faiss::Index2Layer::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss11Index2Layer1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer6ntotalE">
<span id="_CPPv3N5faiss11Index2Layer6ntotalE"></span><span id="_CPPv2N5faiss11Index2Layer6ntotalE"></span><span id="faiss::Index2Layer::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss11Index2Layer5idx_tE" title="faiss::Index2Layer::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss11Index2Layer6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer7verboseE">
<span id="_CPPv3N5faiss11Index2Layer7verboseE"></span><span id="_CPPv2N5faiss11Index2Layer7verboseE"></span><span id="faiss::Index2Layer::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss11Index2Layer7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer10is_trainedE">
<span id="_CPPv3N5faiss11Index2Layer10is_trainedE"></span><span id="_CPPv2N5faiss11Index2Layer10is_trainedE"></span><span id="faiss::Index2Layer::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss11Index2Layer10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer11metric_typeE">
<span id="_CPPv3N5faiss11Index2Layer11metric_typeE"></span><span id="_CPPv2N5faiss11Index2Layer11metric_typeE"></span><span id="faiss::Index2Layer::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss11Index2Layer11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11Index2Layer10metric_argE">
<span id="_CPPv3N5faiss11Index2Layer10metric_argE"></span><span id="_CPPv2N5faiss11Index2Layer10metric_argE"></span><span id="faiss::Index2Layer::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss11Index2Layer10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11IndexBinaryE">
<span id="_CPPv3N5faiss11IndexBinaryE"></span><span id="_CPPv2N5faiss11IndexBinaryE"></span><span id="faiss::IndexBinary"></span><span class="target" id="structfaiss_1_1IndexBinary"></span><em class="property">struct </em><code class="sig-name descname">IndexBinary</code><br /></dt>
<dd><em>#include &lt;IndexBinary.h&gt;</em><p>Abstract structure for a binary index.</p>
<p>Supports adding vertices and searching them.</p>
<p>All queries are symmetric because there is no distinction between codes and vectors. </p>
<p>Subclassed by <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexBinaryFlat"><span class="std std-ref">faiss::gpu::GpuIndexBinaryFlat</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryFlat.html#structfaiss_1_1IndexBinaryFlat"><span class="std std-ref">faiss::IndexBinaryFlat</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryFromFloat.html#structfaiss_1_1IndexBinaryFromFloat"><span class="std std-ref">faiss::IndexBinaryFromFloat</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryHash.html#structfaiss_1_1IndexBinaryHash"><span class="std std-ref">faiss::IndexBinaryHash</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryHNSW.html#structfaiss_1_1IndexBinaryHNSW"><span class="std std-ref">faiss::IndexBinaryHNSW</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryIVF.html#structfaiss_1_1IndexBinaryIVF"><span class="std std-ref">faiss::IndexBinaryIVF</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryMultiHash.html#structfaiss_1_1IndexBinaryMultiHash"><span class="std std-ref">faiss::IndexBinaryMultiHash</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexBinary5idx_tE">
<span id="_CPPv3N5faiss11IndexBinary5idx_tE"></span><span id="_CPPv2N5faiss11IndexBinary5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexBinary11component_tE">
<span id="_CPPv3N5faiss11IndexBinary11component_tE"></span><span id="_CPPv2N5faiss11IndexBinary11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexBinary10distance_tE">
<span id="_CPPv3N5faiss11IndexBinary10distance_tE"></span><span id="_CPPv2N5faiss11IndexBinary10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexBinary11IndexBinaryE5idx_t10MetricType">
<span id="_CPPv3N5faiss11IndexBinary11IndexBinaryE5idx_t10MetricType"></span><span id="_CPPv2N5faiss11IndexBinary11IndexBinaryE5idx_t10MetricType"></span><span id="faiss::IndexBinary::IndexBinary__idx_t.MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a2a76f22851e42963b6a42c6d39e93b4b"></span><code class="sig-name descname">IndexBinary</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>d</em> = 0, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexBinaryD0Ev">
<span id="_CPPv3N5faiss11IndexBinaryD0Ev"></span><span id="_CPPv2N5faiss11IndexBinaryD0Ev"></span><span id="faiss::IndexBinary::~IndexBinary"></span><span class="target" id="structfaiss_1_1IndexBinary_1a9d2ee94e3bb4cbb82bf01d04b909f2d8"></span><code class="sig-name descname">~IndexBinary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexBinary5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss11IndexBinary5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss11IndexBinary5trainE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinary::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a3c0ffd1655d8a5486660cb025340c9a4"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexBinary3addE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss11IndexBinary3addE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss11IndexBinary3addE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinary::add__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1af04b1093cdebfea189e0e04da68794d7"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexBinary12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss11IndexBinary12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss11IndexBinary12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::IndexBinary::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a33c74f55b919bf39138bb2ba60bbaafc"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexBinary6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t">
<span id="_CPPv3NK5faiss11IndexBinary6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="_CPPv2NK5faiss11IndexBinary6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="faiss::IndexBinary::search__idx_t.uint8_tCP.idx_t.int32_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1a48cdd06037d1fb8ce827e7522ba05fb8"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexBinary12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss11IndexBinary12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11IndexBinary12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::IndexBinary::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1a35aedb48dd0270377f5602d61b783fd1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexBinary6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexBinary6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexBinary6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::IndexBinary::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexBinary5resetEv">
<span id="_CPPv3N5faiss11IndexBinary5resetEv"></span><span id="_CPPv2N5faiss11IndexBinary5resetEv"></span><span id="faiss::IndexBinary::reset"></span><span class="target" id="structfaiss_1_1IndexBinary_1a11bff8bcaa366c563076a3d18f3ae30c"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexBinary10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11IndexBinary10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11IndexBinary10remove_idsERK10IDSelector"></span><span id="faiss::IndexBinary::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinary_1a5ea7dee38e40f66b86d892bab2b6b80e"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Removes IDs from the index. Not supported by all indexes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexBinary11reconstructE5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss11IndexBinary11reconstructE5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexBinary11reconstructE5idx_tP7uint8_t"></span><span id="faiss::IndexBinary::reconstruct__idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ad4938acd1d31afd49c81fbb5211121c3"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexBinary13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss11IndexBinary13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexBinary13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::IndexBinary::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1afbeb7aa476a119b17cbfdb87e9de91e4"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vectors (size ni * d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexBinary22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss11IndexBinary22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexBinary22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::IndexBinary::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ae7a4b9bdbe6f4392d00cf4e44120409e"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexBinary7displayEv">
<span id="_CPPv3NK5faiss11IndexBinary7displayEv"></span><span id="_CPPv2NK5faiss11IndexBinary7displayEv"></span><span id="faiss::IndexBinary::displayC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa22c24398be85229e338b15ea9a0e3f1"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Display the actual class name and some more info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexBinary1dE">
<span id="_CPPv3N5faiss11IndexBinary1dE"></span><span id="_CPPv2N5faiss11IndexBinary1dE"></span><span id="faiss::IndexBinary::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexBinary9code_sizeE">
<span id="_CPPv3N5faiss11IndexBinary9code_sizeE"></span><span id="_CPPv2N5faiss11IndexBinary9code_sizeE"></span><span id="faiss::IndexBinary::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexBinary6ntotalE">
<span id="_CPPv3N5faiss11IndexBinary6ntotalE"></span><span id="_CPPv2N5faiss11IndexBinary6ntotalE"></span><span id="faiss::IndexBinary::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexBinary7verboseE">
<span id="_CPPv3N5faiss11IndexBinary7verboseE"></span><span id="_CPPv2N5faiss11IndexBinary7verboseE"></span><span id="faiss::IndexBinary::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexBinary10is_trainedE">
<span id="_CPPv3N5faiss11IndexBinary10is_trainedE"></span><span id="_CPPv2N5faiss11IndexBinary10is_trainedE"></span><span id="faiss::IndexBinary::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexBinary11metric_typeE">
<span id="_CPPv3N5faiss11IndexBinary11metric_typeE"></span><span id="_CPPv2N5faiss11IndexBinary11metric_typeE"></span><span id="faiss::IndexBinary::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15IndexBinaryFlatE">
<span id="_CPPv3N5faiss15IndexBinaryFlatE"></span><span id="_CPPv2N5faiss15IndexBinaryFlatE"></span><span id="faiss::IndexBinaryFlat"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat"></span><em class="property">struct </em><code class="sig-name descname">IndexBinaryFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a><br /></dt>
<dd><em>#include &lt;IndexBinaryFlat.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> that stores the full vectors and performs exhaustive search. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryFlat5idx_tE">
<span id="_CPPv3N5faiss15IndexBinaryFlat5idx_tE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryFlat11component_tE">
<span id="_CPPv3N5faiss15IndexBinaryFlat11component_tE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryFlat10distance_tE">
<span id="_CPPv3N5faiss15IndexBinaryFlat10distance_tE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryFlat15IndexBinaryFlatE5idx_t">
<span id="_CPPv3N5faiss15IndexBinaryFlat15IndexBinaryFlatE5idx_t"></span><span id="_CPPv2N5faiss15IndexBinaryFlat15IndexBinaryFlatE5idx_t"></span><span id="faiss::IndexBinaryFlat::IndexBinaryFlat__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1a9e7f2d14c68f1516b5cc03b11798e68e"></span><code class="sig-name descname">IndexBinaryFlat</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryFlat3addE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss15IndexBinaryFlat3addE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss15IndexBinaryFlat3addE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryFlat::add__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1ad2e6f7d9e4672caff89b6045cd2a808a"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryFlat5resetEv">
<span id="_CPPv3N5faiss15IndexBinaryFlat5resetEv"></span><span id="_CPPv2N5faiss15IndexBinaryFlat5resetEv"></span><span id="faiss::IndexBinaryFlat::reset"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1a1765bac1dad81f86e226446483b5470e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryFlat6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t">
<span id="_CPPv3NK5faiss15IndexBinaryFlat6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="_CPPv2NK5faiss15IndexBinaryFlat6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="faiss::IndexBinaryFlat::search__idx_t.uint8_tCP.idx_t.int32_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1a473e35ebabadc79869ca89f987553b13"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss15IndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss15IndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::IndexBinaryFlat::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1a342f5711a7c720a1a52e59d2eaecbec6"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryFlat11reconstructE5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryFlat11reconstructE5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryFlat11reconstructE5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryFlat::reconstruct__idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1a65c83fa2f2740fc17089e63dc7b70076"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss15IndexBinaryFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss15IndexBinaryFlat10remove_idsERK10IDSelector"></span><span id="faiss::IndexBinaryFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1ae5127fb557880bf5996531714f32b3d6"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Remove some ids. Note that because of the indexing structure, the semantics of this operation are different from the usual ones: the new ids are shifted. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryFlat15IndexBinaryFlatEv">
<span id="_CPPv3N5faiss15IndexBinaryFlat15IndexBinaryFlatEv"></span><span id="_CPPv2N5faiss15IndexBinaryFlat15IndexBinaryFlatEv"></span><span id="faiss::IndexBinaryFlat::IndexBinaryFlat"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1aed44f8312ec3b3190e3d09c180fb8c46"></span><code class="sig-name descname">IndexBinaryFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryFlat5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss15IndexBinaryFlat5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss15IndexBinaryFlat5trainE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryFlat::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a3c0ffd1655d8a5486660cb025340c9a4"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat5trainE5idx_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Perform training on a representative set of vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss15IndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss15IndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::IndexBinaryFlat::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a33c74f55b919bf39138bb2ba60bbaafc"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss15IndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss15IndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::IndexBinaryFlat::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryFlat::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1afbeb7aa476a119b17cbfdb87e9de91e4"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vectors (size ni * d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryFlat::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ae7a4b9bdbe6f4392d00cf4e44120409e"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryFlat7displayEv">
<span id="_CPPv3NK5faiss15IndexBinaryFlat7displayEv"></span><span id="_CPPv2NK5faiss15IndexBinaryFlat7displayEv"></span><span id="faiss::IndexBinaryFlat::displayC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa22c24398be85229e338b15ea9a0e3f1"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryFlat7displayEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Display the actual class name and some more info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat2xbE">
<span id="_CPPv3N5faiss15IndexBinaryFlat2xbE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat2xbE"></span><span id="faiss::IndexBinaryFlat::xb__std::vector:uint8_t:"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1afc0b5b076b35a1a1889b0012848c795c"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">xb</code><br /></dt>
<dd><p>database vectors, size ntotal * d / 8 </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat8use_heapE">
<span id="_CPPv3N5faiss15IndexBinaryFlat8use_heapE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat8use_heapE"></span><span id="faiss::IndexBinaryFlat::use_heap__b"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1a9fa80e22a4accee4da0ee152a4910c1b"></span>bool <code class="sig-name descname">use_heap</code> = true<br /></dt>
<dd><p>Select between using a heap or counting to select the k smallest values when scanning inverted lists. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat16query_batch_sizeE">
<span id="_CPPv3N5faiss15IndexBinaryFlat16query_batch_sizeE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat16query_batch_sizeE"></span><span id="faiss::IndexBinaryFlat::query_batch_size__s"></span><span class="target" id="structfaiss_1_1IndexBinaryFlat_1a7f0b7f4b7c17add8e4f0106c52f4d889"></span>size_t <code class="sig-name descname">query_batch_size</code> = 32<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat1dE">
<span id="_CPPv3N5faiss15IndexBinaryFlat1dE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat1dE"></span><span id="faiss::IndexBinaryFlat::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat9code_sizeE">
<span id="_CPPv3N5faiss15IndexBinaryFlat9code_sizeE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat9code_sizeE"></span><span id="faiss::IndexBinaryFlat::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat6ntotalE">
<span id="_CPPv3N5faiss15IndexBinaryFlat6ntotalE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat6ntotalE"></span><span id="faiss::IndexBinaryFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryFlat5idx_tE" title="faiss::IndexBinaryFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat7verboseE">
<span id="_CPPv3N5faiss15IndexBinaryFlat7verboseE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat7verboseE"></span><span id="faiss::IndexBinaryFlat::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat10is_trainedE">
<span id="_CPPv3N5faiss15IndexBinaryFlat10is_trainedE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat10is_trainedE"></span><span id="faiss::IndexBinaryFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryFlat11metric_typeE">
<span id="_CPPv3N5faiss15IndexBinaryFlat11metric_typeE"></span><span id="_CPPv2N5faiss15IndexBinaryFlat11metric_typeE"></span><span id="faiss::IndexBinaryFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryFlat11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloatE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloatE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloatE"></span><span id="faiss::IndexBinaryFromFloat"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat"></span><em class="property">struct </em><code class="sig-name descname">IndexBinaryFromFloat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a><br /></dt>
<dd><em>#include &lt;IndexBinaryFromFloat.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1IndexBinary.html#structfaiss_1_1IndexBinary"><span class="std std-ref">IndexBinary</span></a> backed by a float <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a>.</p>
<p>Supports adding vertices and searching them.</p>
<p>All queries are symmetric because there is no distinction between codes and vectors. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat5idx_tE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat11component_tE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat11component_tE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat10distance_tE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat10distance_tE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat20IndexBinaryFromFloatEv">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat20IndexBinaryFromFloatEv"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat20IndexBinaryFromFloatEv"></span><span id="faiss::IndexBinaryFromFloat::IndexBinaryFromFloat"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1a97e57ab922eee2a54691d76a082dc524"></span><code class="sig-name descname">IndexBinaryFromFloat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat20IndexBinaryFromFloatEP5Index">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat20IndexBinaryFromFloatEP5Index"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat20IndexBinaryFromFloatEP5Index"></span><span id="faiss::IndexBinaryFromFloat::IndexBinaryFromFloat__IndexP"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1acec0f2bd11dc4b8f84a4c65c58c99dbc"></span><code class="sig-name descname">IndexBinaryFromFloat</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloatD0Ev">
<span id="_CPPv3N5faiss20IndexBinaryFromFloatD0Ev"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloatD0Ev"></span><span id="faiss::IndexBinaryFromFloat::~IndexBinaryFromFloat"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1a80717d1f8ef7291733a1307b7c2621ba"></span><code class="sig-name descname">~IndexBinaryFromFloat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat3addE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat3addE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat3addE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryFromFloat::add__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1ac4f01196a335a9b2433e5c16396c1fd7"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat5resetEv">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat5resetEv"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat5resetEv"></span><span id="faiss::IndexBinaryFromFloat::reset"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1a487be675843e3146ee15bef3ee004a85"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryFromFloat6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t">
<span id="_CPPv3NK5faiss20IndexBinaryFromFloat6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="_CPPv2NK5faiss20IndexBinaryFromFloat6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="faiss::IndexBinaryFromFloat::search__idx_t.uint8_tCP.idx_t.int32_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1af92913a782c65843fbf7a65e017d6f5f"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat5trainE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryFromFloat::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1a7de4bb8e82f0dae621c87b44cfb64404"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::IndexBinaryFromFloat::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a33c74f55b919bf39138bb2ba60bbaafc"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat12add_with_idsE5idx_tPK7uint8_tPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryFromFloat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss20IndexBinaryFromFloat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss20IndexBinaryFromFloat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::IndexBinaryFromFloat::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1a35aedb48dd0270377f5602d61b783fd1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryFromFloat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryFromFloat6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss20IndexBinaryFromFloat6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss20IndexBinaryFromFloat6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::IndexBinaryFromFloat::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryFromFloat6assignE5idx_tPK7uint8_tP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat10remove_idsERK10IDSelector"></span><span id="faiss::IndexBinaryFromFloat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinary_1a5ea7dee38e40f66b86d892bab2b6b80e"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Removes IDs from the index. Not supported by all indexes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryFromFloat11reconstructE5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss20IndexBinaryFromFloat11reconstructE5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexBinaryFromFloat11reconstructE5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryFromFloat::reconstruct__idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ad4938acd1d31afd49c81fbb5211121c3"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryFromFloat11reconstructE5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryFromFloat13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss20IndexBinaryFromFloat13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexBinaryFromFloat13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryFromFloat::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1afbeb7aa476a119b17cbfdb87e9de91e4"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryFromFloat13reconstruct_nE5idx_t5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vectors (size ni * d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryFromFloat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss20IndexBinaryFromFloat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexBinaryFromFloat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryFromFloat::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ae7a4b9bdbe6f4392d00cf4e44120409e"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryFromFloat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryFromFloat7displayEv">
<span id="_CPPv3NK5faiss20IndexBinaryFromFloat7displayEv"></span><span id="_CPPv2NK5faiss20IndexBinaryFromFloat7displayEv"></span><span id="faiss::IndexBinaryFromFloat::displayC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa22c24398be85229e338b15ea9a0e3f1"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryFromFloat7displayEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Display the actual class name and some more info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat5indexE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat5indexE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat5indexE"></span><span id="faiss::IndexBinaryFromFloat::index__IndexP"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1a1346bf356aabe668a22944ded824808f"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index</code> = nullptr<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat10own_fieldsE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat10own_fieldsE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat10own_fieldsE"></span><span id="faiss::IndexBinaryFromFloat::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexBinaryFromFloat_1a7311fc4d11169f7bc668c16b027336ba"></span>bool <code class="sig-name descname">own_fields</code> = false<br /></dt>
<dd><p>Whether object owns the index pointer. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat1dE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat1dE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat1dE"></span><span id="faiss::IndexBinaryFromFloat::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat9code_sizeE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat9code_sizeE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat9code_sizeE"></span><span id="faiss::IndexBinaryFromFloat::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat6ntotalE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat6ntotalE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat6ntotalE"></span><span id="faiss::IndexBinaryFromFloat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryFromFloat5idx_tE" title="faiss::IndexBinaryFromFloat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat7verboseE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat7verboseE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat7verboseE"></span><span id="faiss::IndexBinaryFromFloat::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat10is_trainedE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat10is_trainedE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat10is_trainedE"></span><span id="faiss::IndexBinaryFromFloat::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryFromFloat11metric_typeE">
<span id="_CPPv3N5faiss20IndexBinaryFromFloat11metric_typeE"></span><span id="_CPPv2N5faiss20IndexBinaryFromFloat11metric_typeE"></span><span id="faiss::IndexBinaryFromFloat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryFromFloat11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15IndexBinaryHashE">
<span id="_CPPv3N5faiss15IndexBinaryHashE"></span><span id="_CPPv2N5faiss15IndexBinaryHashE"></span><span id="faiss::IndexBinaryHash"></span><span class="target" id="structfaiss_1_1IndexBinaryHash"></span><em class="property">struct </em><code class="sig-name descname">IndexBinaryHash</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a><br /></dt>
<dd><em>#include &lt;IndexBinaryHash.h&gt;</em><p>just uses the b first bits as a hash value </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryHash15InvertedListMapE">
<span id="_CPPv3N5faiss15IndexBinaryHash15InvertedListMapE"></span><span id="_CPPv2N5faiss15IndexBinaryHash15InvertedListMapE"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a8d44d1878c3d6ccbe2d9c24bc58df911"></span><em class="property">using </em><code class="sig-name descname">InvertedListMap</code> = std::unordered_map&lt;<a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a>, <a class="reference internal" href="../file/IndexBinaryHash_8h.html#_CPPv4N5faiss15IndexBinaryHash12InvertedListE" title="faiss::IndexBinaryHash::InvertedList">InvertedList</a>&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryHash5idx_tE">
<span id="_CPPv3N5faiss15IndexBinaryHash5idx_tE"></span><span id="_CPPv2N5faiss15IndexBinaryHash5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryHash11component_tE">
<span id="_CPPv3N5faiss15IndexBinaryHash11component_tE"></span><span id="_CPPv2N5faiss15IndexBinaryHash11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryHash10distance_tE">
<span id="_CPPv3N5faiss15IndexBinaryHash10distance_tE"></span><span id="_CPPv2N5faiss15IndexBinaryHash10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHash15IndexBinaryHashEii">
<span id="_CPPv3N5faiss15IndexBinaryHash15IndexBinaryHashEii"></span><span id="_CPPv2N5faiss15IndexBinaryHash15IndexBinaryHashEii"></span><span id="faiss::IndexBinaryHash::IndexBinaryHash__i.i"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a1f4d375d24c15e56e84831b8fbf0a519"></span><code class="sig-name descname">IndexBinaryHash</code><span class="sig-paren">(</span>int <em>d</em>, int <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHash15IndexBinaryHashEv">
<span id="_CPPv3N5faiss15IndexBinaryHash15IndexBinaryHashEv"></span><span id="_CPPv2N5faiss15IndexBinaryHash15IndexBinaryHashEv"></span><span id="faiss::IndexBinaryHash::IndexBinaryHash"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1ac995fc61522e5e06deafb64a53736c3f"></span><code class="sig-name descname">IndexBinaryHash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHash5resetEv">
<span id="_CPPv3N5faiss15IndexBinaryHash5resetEv"></span><span id="_CPPv2N5faiss15IndexBinaryHash5resetEv"></span><span id="faiss::IndexBinaryHash::reset"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a9032e8330c1a84e5c126acd73b0c0fe7"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHash3addE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss15IndexBinaryHash3addE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss15IndexBinaryHash3addE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryHash::add__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a2490dc0e115b19195372488d0b3163d0"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHash12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss15IndexBinaryHash12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss15IndexBinaryHash12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::IndexBinaryHash::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a4c173c78924cc5ebe82c809cbc4882ba"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHash12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss15IndexBinaryHash12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss15IndexBinaryHash12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::IndexBinaryHash::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a3be402d8ba9b4a9932b02a38e8899163"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHash6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t">
<span id="_CPPv3NK5faiss15IndexBinaryHash6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHash6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="faiss::IndexBinaryHash::search__idx_t.uint8_tCP.idx_t.int32_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a1526c684195b7020ffca0d6840efe144"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHash7displayEv">
<span id="_CPPv3NK5faiss15IndexBinaryHash7displayEv"></span><span id="_CPPv2NK5faiss15IndexBinaryHash7displayEv"></span><span id="faiss::IndexBinaryHash::displayC"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a7fafb9c0d12499cbafd812a27f84628d"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHash14hashtable_sizeEv">
<span id="_CPPv3NK5faiss15IndexBinaryHash14hashtable_sizeEv"></span><span id="_CPPv2NK5faiss15IndexBinaryHash14hashtable_sizeEv"></span><span id="faiss::IndexBinaryHash::hashtable_sizeC"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a9b7c7fc702476b32f4ded66eb0b1797f"></span>size_t <code class="sig-name descname">hashtable_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHash5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss15IndexBinaryHash5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss15IndexBinaryHash5trainE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryHash::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a3c0ffd1655d8a5486660cb025340c9a4"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash5trainE5idx_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Perform training on a representative set of vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHash6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss15IndexBinaryHash6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHash6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::IndexBinaryHash::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHash6assignE5idx_tPK7uint8_tP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHash10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss15IndexBinaryHash10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss15IndexBinaryHash10remove_idsERK10IDSelector"></span><span id="faiss::IndexBinaryHash::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinary_1a5ea7dee38e40f66b86d892bab2b6b80e"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Removes IDs from the index. Not supported by all indexes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHash11reconstructE5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryHash11reconstructE5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHash11reconstructE5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryHash::reconstruct__idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ad4938acd1d31afd49c81fbb5211121c3"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHash11reconstructE5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHash13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryHash13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHash13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryHash::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1afbeb7aa476a119b17cbfdb87e9de91e4"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHash13reconstruct_nE5idx_t5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vectors (size ni * d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHash22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryHash22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHash22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryHash::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ae7a4b9bdbe6f4392d00cf4e44120409e"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHash22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash8invlistsE">
<span id="_CPPv3N5faiss15IndexBinaryHash8invlistsE"></span><span id="_CPPv2N5faiss15IndexBinaryHash8invlistsE"></span><span id="faiss::IndexBinaryHash::invlists__InvertedListMap"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1abb2d343662577d59df54000f01a1ec7b"></span><a class="reference internal" href="../file/IndexBinaryHash_8h.html#_CPPv4N5faiss15IndexBinaryHash15InvertedListMapE" title="faiss::IndexBinaryHash::InvertedListMap">InvertedListMap</a> <code class="sig-name descname">invlists</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash1bE">
<span id="_CPPv3N5faiss15IndexBinaryHash1bE"></span><span id="_CPPv2N5faiss15IndexBinaryHash1bE"></span><span id="faiss::IndexBinaryHash::b__i"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a802455b81928b3352e82b6c26f0ebfb2"></span>int <code class="sig-name descname">b</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash5nflipE">
<span id="_CPPv3N5faiss15IndexBinaryHash5nflipE"></span><span id="_CPPv2N5faiss15IndexBinaryHash5nflipE"></span><span id="faiss::IndexBinaryHash::nflip__i"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1a4a86ffe14d84ba2356bb224e5f6c581d"></span>int <code class="sig-name descname">nflip</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash1dE">
<span id="_CPPv3N5faiss15IndexBinaryHash1dE"></span><span id="_CPPv2N5faiss15IndexBinaryHash1dE"></span><span id="faiss::IndexBinaryHash::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash9code_sizeE">
<span id="_CPPv3N5faiss15IndexBinaryHash9code_sizeE"></span><span id="_CPPv2N5faiss15IndexBinaryHash9code_sizeE"></span><span id="faiss::IndexBinaryHash::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash6ntotalE">
<span id="_CPPv3N5faiss15IndexBinaryHash6ntotalE"></span><span id="_CPPv2N5faiss15IndexBinaryHash6ntotalE"></span><span id="faiss::IndexBinaryHash::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash7verboseE">
<span id="_CPPv3N5faiss15IndexBinaryHash7verboseE"></span><span id="_CPPv2N5faiss15IndexBinaryHash7verboseE"></span><span id="faiss::IndexBinaryHash::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash10is_trainedE">
<span id="_CPPv3N5faiss15IndexBinaryHash10is_trainedE"></span><span id="_CPPv2N5faiss15IndexBinaryHash10is_trainedE"></span><span id="faiss::IndexBinaryHash::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash11metric_typeE">
<span id="_CPPv3N5faiss15IndexBinaryHash11metric_typeE"></span><span id="_CPPv2N5faiss15IndexBinaryHash11metric_typeE"></span><span id="faiss::IndexBinaryHash::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHash11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss15IndexBinaryHash12InvertedListE">
<span id="_CPPv3N5faiss15IndexBinaryHash12InvertedListE"></span><span id="_CPPv2N5faiss15IndexBinaryHash12InvertedListE"></span><span id="faiss::IndexBinaryHash::InvertedList"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1_1InvertedList"></span><em class="property">struct </em><code class="sig-name descname">InvertedList</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHash12InvertedList3addE5idx_t6size_tPK7uint8_t">
<span id="_CPPv3N5faiss15IndexBinaryHash12InvertedList3addE5idx_t6size_tPK7uint8_t"></span><span id="_CPPv2N5faiss15IndexBinaryHash12InvertedList3addE5idx_t6size_tPK7uint8_t"></span><span id="faiss::IndexBinaryHash::InvertedList::add__idx_t.s.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1_1InvertedList_1a8a2d55c9c12b9a5f4af4ba20d819b39a"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a> <em>id</em>, size_t <em>code_size</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash12InvertedList3idsE">
<span id="_CPPv3N5faiss15IndexBinaryHash12InvertedList3idsE"></span><span id="_CPPv2N5faiss15IndexBinaryHash12InvertedList3idsE"></span><span id="faiss::IndexBinaryHash::InvertedList::ids__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1_1InvertedList_1a8e8d2f8553144c139cbd1eb4ff4b0981"></span>std::vector&lt;<a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHash5idx_tE" title="faiss::IndexBinaryHash::idx_t">idx_t</a>&gt; <code class="sig-name descname">ids</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHash12InvertedList4vecsE">
<span id="_CPPv3N5faiss15IndexBinaryHash12InvertedList4vecsE"></span><span id="_CPPv2N5faiss15IndexBinaryHash12InvertedList4vecsE"></span><span id="faiss::IndexBinaryHash::InvertedList::vecs__std::vector:uint8_t:"></span><span class="target" id="structfaiss_1_1IndexBinaryHash_1_1InvertedList_1a25be37ebe2805f79a5b81f54b031ad47"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">vecs</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20IndexBinaryHashStatsE">
<span id="_CPPv3N5faiss20IndexBinaryHashStatsE"></span><span id="_CPPv2N5faiss20IndexBinaryHashStatsE"></span><span id="faiss::IndexBinaryHashStats"></span><span class="target" id="structfaiss_1_1IndexBinaryHashStats"></span><em class="property">struct </em><code class="sig-name descname">IndexBinaryHashStats</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryHashStats20IndexBinaryHashStatsEv">
<span id="_CPPv3N5faiss20IndexBinaryHashStats20IndexBinaryHashStatsEv"></span><span id="_CPPv2N5faiss20IndexBinaryHashStats20IndexBinaryHashStatsEv"></span><span id="faiss::IndexBinaryHashStats::IndexBinaryHashStats"></span><span class="target" id="structfaiss_1_1IndexBinaryHashStats_1a948ec2f7bb6c7f66af0599d64c6e17d8"></span><code class="sig-name descname">IndexBinaryHashStats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryHashStats5resetEv">
<span id="_CPPv3N5faiss20IndexBinaryHashStats5resetEv"></span><span id="_CPPv2N5faiss20IndexBinaryHashStats5resetEv"></span><span id="faiss::IndexBinaryHashStats::reset"></span><span class="target" id="structfaiss_1_1IndexBinaryHashStats_1a6caf8ea01443aba3e451a8d6b7353c82"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryHashStats2nqE">
<span id="_CPPv3N5faiss20IndexBinaryHashStats2nqE"></span><span id="_CPPv2N5faiss20IndexBinaryHashStats2nqE"></span><span id="faiss::IndexBinaryHashStats::nq__s"></span><span class="target" id="structfaiss_1_1IndexBinaryHashStats_1a344248f9d3633f1cc860cecea9f61e46"></span>size_t <code class="sig-name descname">nq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryHashStats2n0E">
<span id="_CPPv3N5faiss20IndexBinaryHashStats2n0E"></span><span id="_CPPv2N5faiss20IndexBinaryHashStats2n0E"></span><span id="faiss::IndexBinaryHashStats::n0__s"></span><span class="target" id="structfaiss_1_1IndexBinaryHashStats_1a7699c53b94f8b7172a189f34ba013464"></span>size_t <code class="sig-name descname">n0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryHashStats5nlistE">
<span id="_CPPv3N5faiss20IndexBinaryHashStats5nlistE"></span><span id="_CPPv2N5faiss20IndexBinaryHashStats5nlistE"></span><span id="faiss::IndexBinaryHashStats::nlist__s"></span><span class="target" id="structfaiss_1_1IndexBinaryHashStats_1a8346efc7e23e52c8be4c8b1133299a86"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryHashStats4ndisE">
<span id="_CPPv3N5faiss20IndexBinaryHashStats4ndisE"></span><span id="_CPPv2N5faiss20IndexBinaryHashStats4ndisE"></span><span id="faiss::IndexBinaryHashStats::ndis__s"></span><span class="target" id="structfaiss_1_1IndexBinaryHashStats_1af4e3f7908fa1b7d786ee2657e55d7ad0"></span>size_t <code class="sig-name descname">ndis</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15IndexBinaryHNSWE">
<span id="_CPPv3N5faiss15IndexBinaryHNSWE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSWE"></span><span id="faiss::IndexBinaryHNSW"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW"></span><em class="property">struct </em><code class="sig-name descname">IndexBinaryHNSW</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a><br /></dt>
<dd><em>#include &lt;IndexBinaryHNSW.h&gt;</em><p>The HNSW index is a normal random-access index with a HNSW link structure built on top </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW13storage_idx_tE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW13storage_idx_tE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW13storage_idx_tE"></span><span id="faiss::IndexBinaryHNSW::storage_idx_t"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1af031247c5c51de88a6a459fdf628359b"></span><em class="property">typedef </em>HNSW::storage_idx_t <code class="sig-name descname">storage_idx_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW5idx_tE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW5idx_tE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW11component_tE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW11component_tE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW10distance_tE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW10distance_tE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEv">
<span id="_CPPv3N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEv"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEv"></span><span id="faiss::IndexBinaryHNSW::IndexBinaryHNSW"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1a29fd13bc49b1edcf2b27df710f46f99d"></span><code class="sig-name descname">IndexBinaryHNSW</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEii">
<span id="_CPPv3N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEii"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEii"></span><span id="faiss::IndexBinaryHNSW::IndexBinaryHNSW__i.i"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1ae16b61a8deba0c838dc014f37d3e2bdf"></span><code class="sig-name descname">IndexBinaryHNSW</code><span class="sig-paren">(</span>int <em>d</em>, int <em>M</em> = 32<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEP11IndexBinaryi">
<span id="_CPPv3N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEP11IndexBinaryi"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW15IndexBinaryHNSWEP11IndexBinaryi"></span><span id="faiss::IndexBinaryHNSW::IndexBinaryHNSW__IndexBinaryP.i"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1a302d59e8290c617242da789a79ff0831"></span><code class="sig-name descname">IndexBinaryHNSW</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<em>storage</em>, int <em>M</em> = 32<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSWD0Ev">
<span id="_CPPv3N5faiss15IndexBinaryHNSWD0Ev"></span><span id="_CPPv2N5faiss15IndexBinaryHNSWD0Ev"></span><span id="faiss::IndexBinaryHNSW::~IndexBinaryHNSW"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1ab327c861a19dbbb033852008cd4c8b62"></span><code class="sig-name descname">~IndexBinaryHNSW</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHNSW21get_distance_computerEv">
<span id="_CPPv3NK5faiss15IndexBinaryHNSW21get_distance_computerEv"></span><span id="_CPPv2NK5faiss15IndexBinaryHNSW21get_distance_computerEv"></span><span id="faiss::IndexBinaryHNSW::get_distance_computerC"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1adad69b14eb53f23609883a8e28d40747"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW3addE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss15IndexBinaryHNSW3addE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW3addE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryHNSW::add__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1aca2c449410d48edb72228016463aed5d"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss15IndexBinaryHNSW5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW5trainE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryHNSW::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1afc2793b3b3c53e5acd8315dfea500e68"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the storage if needed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHNSW6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t">
<span id="_CPPv3NK5faiss15IndexBinaryHNSW6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHNSW6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="faiss::IndexBinaryHNSW::search__idx_t.uint8_tCP.idx_t.int32_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1ae387b8e7094bfe584ef873c377a13af0"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>entry point for search </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHNSW11reconstructE5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryHNSW11reconstructE5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHNSW11reconstructE5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryHNSW::reconstruct__idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1af509e0e2a6194a270a4887e20f54d866"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW5resetEv">
<span id="_CPPv3N5faiss15IndexBinaryHNSW5resetEv"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW5resetEv"></span><span id="faiss::IndexBinaryHNSW::reset"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1a7bab1a84623e4b9531263c4935315ca9"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss15IndexBinaryHNSW12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::IndexBinaryHNSW::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a33c74f55b919bf39138bb2ba60bbaafc"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW12add_with_idsE5idx_tPK7uint8_tPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHNSW12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss15IndexBinaryHNSW12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss15IndexBinaryHNSW12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::IndexBinaryHNSW::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1a35aedb48dd0270377f5602d61b783fd1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHNSW12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHNSW6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss15IndexBinaryHNSW6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHNSW6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::IndexBinaryHNSW::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHNSW6assignE5idx_tPK7uint8_tP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss15IndexBinaryHNSW10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW10remove_idsERK10IDSelector"></span><span id="faiss::IndexBinaryHNSW::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinary_1a5ea7dee38e40f66b86d892bab2b6b80e"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Removes IDs from the index. Not supported by all indexes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHNSW13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryHNSW13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHNSW13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryHNSW::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1afbeb7aa476a119b17cbfdb87e9de91e4"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHNSW13reconstruct_nE5idx_t5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vectors (size ni * d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHNSW22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss15IndexBinaryHNSW22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexBinaryHNSW22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryHNSW::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ae7a4b9bdbe6f4392d00cf4e44120409e"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHNSW22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexBinaryHNSW7displayEv">
<span id="_CPPv3NK5faiss15IndexBinaryHNSW7displayEv"></span><span id="_CPPv2NK5faiss15IndexBinaryHNSW7displayEv"></span><span id="faiss::IndexBinaryHNSW::displayC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa22c24398be85229e338b15ea9a0e3f1"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexBinaryHNSW7displayEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Display the actual class name and some more info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW4hnswE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW4hnswE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW4hnswE"></span><span id="faiss::IndexBinaryHNSW::hnsw__HNSW"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1a85919341ea47e6dec7968e29d09cbb1e"></span>HNSW <code class="sig-name descname">hnsw</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW10own_fieldsE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW10own_fieldsE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW10own_fieldsE"></span><span id="faiss::IndexBinaryHNSW::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1a66ef25000227ce004b285cfa39dadb24"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW7storageE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW7storageE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW7storageE"></span><span id="faiss::IndexBinaryHNSW::storage__IndexBinaryP"></span><span class="target" id="structfaiss_1_1IndexBinaryHNSW_1a1f17d1e2fddd93dfedeef219d4388fdc"></span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<code class="sig-name descname">storage</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW1dE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW1dE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW1dE"></span><span id="faiss::IndexBinaryHNSW::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW9code_sizeE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW9code_sizeE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW9code_sizeE"></span><span id="faiss::IndexBinaryHNSW::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW6ntotalE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW6ntotalE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW6ntotalE"></span><span id="faiss::IndexBinaryHNSW::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="#_CPPv4N5faiss15IndexBinaryHNSW5idx_tE" title="faiss::IndexBinaryHNSW::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW7verboseE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW7verboseE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW7verboseE"></span><span id="faiss::IndexBinaryHNSW::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW10is_trainedE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW10is_trainedE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW10is_trainedE"></span><span id="faiss::IndexBinaryHNSW::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexBinaryHNSW11metric_typeE">
<span id="_CPPv3N5faiss15IndexBinaryHNSW11metric_typeE"></span><span id="_CPPv2N5faiss15IndexBinaryHNSW11metric_typeE"></span><span id="faiss::IndexBinaryHNSW::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss15IndexBinaryHNSW11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss14IndexBinaryIVFE">
<span id="_CPPv3N5faiss14IndexBinaryIVFE"></span><span id="_CPPv2N5faiss14IndexBinaryIVFE"></span><span id="faiss::IndexBinaryIVF"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF"></span><em class="property">struct </em><code class="sig-name descname">IndexBinaryIVF</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a><br /></dt>
<dd><em>#include &lt;IndexBinaryIVF.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> based on a inverted file (IVF)</p>
<p>In the inverted file, the quantizer (an <a class="reference internal" href="../struct/structfaiss_1_1IndexBinary.html#structfaiss_1_1IndexBinary"><span class="std std-ref">IndexBinary</span></a> instance) provides a quantization index for each vector to be added. The quantization index maps to a list (aka inverted list or posting list), where the id of the vector is stored.</p>
<p>Otherwise the object is similar to the <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss14IndexBinaryIVF5idx_tE">
<span id="_CPPv3N5faiss14IndexBinaryIVF5idx_tE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss14IndexBinaryIVF11component_tE">
<span id="_CPPv3N5faiss14IndexBinaryIVF11component_tE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss14IndexBinaryIVF10distance_tE">
<span id="_CPPv3N5faiss14IndexBinaryIVF10distance_tE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF14IndexBinaryIVFEP11IndexBinary6size_t6size_t">
<span id="_CPPv3N5faiss14IndexBinaryIVF14IndexBinaryIVFEP11IndexBinary6size_t6size_t"></span><span id="_CPPv2N5faiss14IndexBinaryIVF14IndexBinaryIVFEP11IndexBinary6size_t6size_t"></span><span id="faiss::IndexBinaryIVF::IndexBinaryIVF__IndexBinaryP.s.s"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a569058430e4b1b81204df1c2cbd3084a"></span><code class="sig-name descname">IndexBinaryIVF</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist</em><span class="sig-paren">)</span><br /></dt>
<dd><p>The Inverted file takes a quantizer (an <a class="reference internal" href="../struct/structfaiss_1_1IndexBinary.html#structfaiss_1_1IndexBinary"><span class="std std-ref">IndexBinary</span></a>) on input, which implements the function mapping a vector to a list identifier. The pointer is borrowed: the quantizer should not be deleted while the <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryIVF.html#structfaiss_1_1IndexBinaryIVF"><span class="std std-ref">IndexBinaryIVF</span></a> is in use. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF14IndexBinaryIVFEv">
<span id="_CPPv3N5faiss14IndexBinaryIVF14IndexBinaryIVFEv"></span><span id="_CPPv2N5faiss14IndexBinaryIVF14IndexBinaryIVFEv"></span><span id="faiss::IndexBinaryIVF::IndexBinaryIVF"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a9166b9b564b59e3d770488a3f355d1fc"></span><code class="sig-name descname">IndexBinaryIVF</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVFD0Ev">
<span id="_CPPv3N5faiss14IndexBinaryIVFD0Ev"></span><span id="_CPPv2N5faiss14IndexBinaryIVFD0Ev"></span><span id="faiss::IndexBinaryIVF::~IndexBinaryIVF"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a61d4c2975de4f28f5ca42b29de901155"></span><code class="sig-name descname">~IndexBinaryIVF</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF5resetEv">
<span id="_CPPv3N5faiss14IndexBinaryIVF5resetEv"></span><span id="_CPPv2N5faiss14IndexBinaryIVF5resetEv"></span><span id="faiss::IndexBinaryIVF::reset"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a9dfe26312102f0010940fd2fbdf87d85"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss14IndexBinaryIVF5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss14IndexBinaryIVF5trainE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryIVF::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a4b4b1ba42e6af7c30ccbaf0fc0f38034"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the quantizer. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF3addE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss14IndexBinaryIVF3addE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss14IndexBinaryIVF3addE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryIVF::add__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1aaa0eb1eca49892304ceaa11bd3a5ffa1"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss14IndexBinaryIVF12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss14IndexBinaryIVF12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::IndexBinaryIVF::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1ace01cca47e08dfe5c74c5b4f31977032"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF8add_coreE5idx_tPK7uint8_tPK5idx_tPK5idx_t">
<span id="_CPPv3N5faiss14IndexBinaryIVF8add_coreE5idx_tPK7uint8_tPK5idx_tPK5idx_t"></span><span id="_CPPv2N5faiss14IndexBinaryIVF8add_coreE5idx_tPK7uint8_tPK5idx_tPK5idx_t"></span><span id="faiss::IndexBinaryIVF::add_core__idx_t.uint8_tCP.idx_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a9155bcbd5293dc8946b108dd05050f47"></span>void <code class="sig-name descname">add_core</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> *<em>xids</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> *<em>precomputed_idx</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as add_with_ids, with precomputed coarse quantizer </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF18search_preassignedE5idx_tPK7uint8_t5idx_tPK5idx_tPK7int32_tP7int32_tP5idx_tbPK19IVFSearchParameters">
<span id="_CPPv3NK5faiss14IndexBinaryIVF18search_preassignedE5idx_tPK7uint8_t5idx_tPK5idx_tPK7int32_tP7int32_tP5idx_tbPK19IVFSearchParameters"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF18search_preassignedE5idx_tPK7uint8_t5idx_tPK5idx_tPK7int32_tP7int32_tP5idx_tbPK19IVFSearchParameters"></span><span id="faiss::IndexBinaryIVF::search_preassigned__idx_t.uint8_tCP.idx_t.idx_tCP.int32_tCP.int32_tP.idx_tP.b.IVFSearchParametersCPC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1ab297ab36edb45eb4a9d766e6d4481caa"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> int32_t *<em>centroid_dis</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryIVF.html#structfaiss_1_1IndexBinaryIVF_1aeaf24ee802fe8f43879c735c363b6fd5"><span class="std std-ref">search()</span></a> calls this.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss14IndexBinaryIVF23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF23get_InvertedListScannerEb"></span><span id="faiss::IndexBinaryIVF::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1af4d27c34af39b34ce38e8026fb49f32e"></span><a class="reference internal" href="../file/IndexBinaryIVF_8h.html#_CPPv4N5faiss25BinaryInvertedListScannerE" title="faiss::BinaryInvertedListScanner">BinaryInvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em> = false<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t">
<span id="_CPPv3NK5faiss14IndexBinaryIVF6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="faiss::IndexBinaryIVF::search__idx_t.uint8_tCP.idx_t.int32_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1aeaf24ee802fe8f43879c735c363b6fd5"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss14IndexBinaryIVF12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::IndexBinaryIVF::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1ac8d31cd455067c3c8a2d972db93369e5"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF11reconstructE5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss14IndexBinaryIVF11reconstructE5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF11reconstructE5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryIVF::reconstruct__idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1ad233d3fcf4e001849301c0fbeb675f81"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss14IndexBinaryIVF13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryIVF::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a4a8cd9437b9adc21696aefe1fa440a22"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryIVF.html#structfaiss_1_1IndexBinaryIVF_1ad233d3fcf4e001849301c0fbeb675f81"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss14IndexBinaryIVF22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryIVF::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a75260a5d45fb24a9a3c3462786f1de4d"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryIVF.html#structfaiss_1_1IndexBinaryIVF_1ab297ab36edb45eb4a9d766e6d4481caa"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF23reconstruct_from_offsetE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss14IndexBinaryIVF23reconstruct_from_offsetE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF23reconstruct_from_offsetE5idx_t5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryIVF::reconstruct_from_offset__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1abd9ffe1e326ab9d9784ad51e5e17dfea"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>list_no</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>offset</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a vector given the location in terms of (inv list index + inv list offset) instead of the id.</p>
<p>Useful for reconstructing when the direct_map is not maintained and the inv list offset is computed by <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryIVF.html#structfaiss_1_1IndexBinaryIVF_1ab297ab36edb45eb4a9d766e6d4481caa"><span class="std std-ref">search_preassigned()</span></a> with <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss14IndexBinaryIVF10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss14IndexBinaryIVF10remove_idsERK10IDSelector"></span><span id="faiss::IndexBinaryIVF::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1ad05e4e6f3ce7bb54f88ece7fe645447b"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF10merge_fromER14IndexBinaryIVF5idx_t">
<span id="_CPPv3N5faiss14IndexBinaryIVF10merge_fromER14IndexBinaryIVF5idx_t"></span><span id="_CPPv2N5faiss14IndexBinaryIVF10merge_fromER14IndexBinaryIVF5idx_t"></span><span id="faiss::IndexBinaryIVF::merge_from__IndexBinaryIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a75ec2648c28627b66ebf85f85d115b8b"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexBinaryIVF_8h.html#_CPPv4N5faiss14IndexBinaryIVFE" title="faiss::IndexBinaryIVF">IndexBinaryIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss14IndexBinaryIVF13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF13get_list_sizeE6size_t"></span><span id="faiss::IndexBinaryIVF::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a290f056430225f11ea4c31615a61886b"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF15make_direct_mapEb">
<span id="_CPPv3N5faiss14IndexBinaryIVF15make_direct_mapEb"></span><span id="_CPPv2N5faiss14IndexBinaryIVF15make_direct_mapEb"></span><span id="faiss::IndexBinaryIVF::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a280d0a3958664c3eb4164fcb62496b00"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss14IndexBinaryIVF19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexBinaryIVF::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a75f1c3083cfa725de7c9a7ad712c7d3a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14IndexBinaryIVF16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss14IndexBinaryIVF16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss14IndexBinaryIVF16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexBinaryIVF::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a053815f897da67f2ceefe11f2c6c79fe"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss14IndexBinaryIVF6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::IndexBinaryIVF::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss14IndexBinaryIVF6assignE5idx_tPK7uint8_tP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14IndexBinaryIVF7displayEv">
<span id="_CPPv3NK5faiss14IndexBinaryIVF7displayEv"></span><span id="_CPPv2NK5faiss14IndexBinaryIVF7displayEv"></span><span id="faiss::IndexBinaryIVF::displayC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa22c24398be85229e338b15ea9a0e3f1"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss14IndexBinaryIVF7displayEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Display the actual class name and some more info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF8invlistsE">
<span id="_CPPv3N5faiss14IndexBinaryIVF8invlistsE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF8invlistsE"></span><span id="faiss::IndexBinaryIVF::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a094ef9572645ff86a76ff4df967bf65a"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF12own_invlistsE">
<span id="_CPPv3N5faiss14IndexBinaryIVF12own_invlistsE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF12own_invlistsE"></span><span id="faiss::IndexBinaryIVF::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a8c2b00bd46cb51bf18274b35e43f867d"></span>bool <code class="sig-name descname">own_invlists</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF6nprobeE">
<span id="_CPPv3N5faiss14IndexBinaryIVF6nprobeE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF6nprobeE"></span><span id="faiss::IndexBinaryIVF::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1ae9890e0946f3aba99ccad6b637df0c8b"></span>size_t <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF9max_codesE">
<span id="_CPPv3N5faiss14IndexBinaryIVF9max_codesE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF9max_codesE"></span><span id="faiss::IndexBinaryIVF::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a18ffc5dbf15b4a86a8c868ca845ea4c9"></span>size_t <code class="sig-name descname">max_codes</code><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF8use_heapE">
<span id="_CPPv3N5faiss14IndexBinaryIVF8use_heapE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF8use_heapE"></span><span id="faiss::IndexBinaryIVF::use_heap__b"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1abcab702ebe1814ff432401bfd39df492"></span>bool <code class="sig-name descname">use_heap</code> = true<br /></dt>
<dd><p>Select between using a heap or counting to select the k smallest values when scanning inverted lists. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF10direct_mapE">
<span id="_CPPv3N5faiss14IndexBinaryIVF10direct_mapE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF10direct_mapE"></span><span id="faiss::IndexBinaryIVF::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1abbea7b7b4feb17fb09ef82d6e6f46b66"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><br /></dt>
<dd><p>map for direct access to the elements. Enables <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryIVF.html#structfaiss_1_1IndexBinaryIVF_1ad233d3fcf4e001849301c0fbeb675f81"><span class="std std-ref">reconstruct()</span></a>. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF9quantizerE">
<span id="_CPPv3N5faiss14IndexBinaryIVF9quantizerE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF9quantizerE"></span><span id="faiss::IndexBinaryIVF::quantizer__IndexBinaryP"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a5c08ac8e6c1444e61b9f357cfba34e2e"></span><a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF5nlistE">
<span id="_CPPv3N5faiss14IndexBinaryIVF5nlistE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF5nlistE"></span><span id="faiss::IndexBinaryIVF::nlist__s"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a9eb4370bcc95994822c3a81c290fa919"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF10own_fieldsE">
<span id="_CPPv3N5faiss14IndexBinaryIVF10own_fieldsE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF10own_fieldsE"></span><span id="faiss::IndexBinaryIVF::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a2c7bc3be67d829d49ac1ab2afc4f6b0c"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF2cpE">
<span id="_CPPv3N5faiss14IndexBinaryIVF2cpE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF2cpE"></span><span id="faiss::IndexBinaryIVF::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1a0c3d371cf3985da70b6dacac74f03491"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF16clustering_indexE">
<span id="_CPPv3N5faiss14IndexBinaryIVF16clustering_indexE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF16clustering_indexE"></span><span id="faiss::IndexBinaryIVF::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1IndexBinaryIVF_1ae4b4048070a6fc5aa3226a2edf42db5e"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF1dE">
<span id="_CPPv3N5faiss14IndexBinaryIVF1dE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF1dE"></span><span id="faiss::IndexBinaryIVF::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF9code_sizeE">
<span id="_CPPv3N5faiss14IndexBinaryIVF9code_sizeE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF9code_sizeE"></span><span id="faiss::IndexBinaryIVF::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF6ntotalE">
<span id="_CPPv3N5faiss14IndexBinaryIVF6ntotalE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF6ntotalE"></span><span id="faiss::IndexBinaryIVF::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="#_CPPv4N5faiss14IndexBinaryIVF5idx_tE" title="faiss::IndexBinaryIVF::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF7verboseE">
<span id="_CPPv3N5faiss14IndexBinaryIVF7verboseE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF7verboseE"></span><span id="faiss::IndexBinaryIVF::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF10is_trainedE">
<span id="_CPPv3N5faiss14IndexBinaryIVF10is_trainedE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF10is_trainedE"></span><span id="faiss::IndexBinaryIVF::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14IndexBinaryIVF11metric_typeE">
<span id="_CPPv3N5faiss14IndexBinaryIVF11metric_typeE"></span><span id="_CPPv2N5faiss14IndexBinaryIVF11metric_typeE"></span><span id="faiss::IndexBinaryIVF::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss14IndexBinaryIVF11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHashE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHashE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHashE"></span><span id="faiss::IndexBinaryMultiHash"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash"></span><em class="property">struct </em><code class="sig-name descname">IndexBinaryMultiHash</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a><br /></dt>
<dd><em>#include &lt;IndexBinaryHash.h&gt;</em><p>just uses the b first bits as a hash value </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash3MapE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash3MapE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash3MapE"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a9ccbac815bb60a0d42c0aca1dba99ec6"></span><em class="property">using </em><code class="sig-name descname">Map</code> = std::unordered_map&lt;<a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a>, std::vector&lt;<a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a>&gt;&gt;<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash5idx_tE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash11component_tE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash11component_tE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash10distance_tE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash10distance_tE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash20IndexBinaryMultiHashEiii">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash20IndexBinaryMultiHashEiii"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash20IndexBinaryMultiHashEiii"></span><span id="faiss::IndexBinaryMultiHash::IndexBinaryMultiHash__i.i.i"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a7fa50f739680538e1fdc17dab5baf94e"></span><code class="sig-name descname">IndexBinaryMultiHash</code><span class="sig-paren">(</span>int <em>d</em>, int <em>nhash</em>, int <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash20IndexBinaryMultiHashEv">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash20IndexBinaryMultiHashEv"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash20IndexBinaryMultiHashEv"></span><span id="faiss::IndexBinaryMultiHash::IndexBinaryMultiHash"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a15dc57bf03c30a08e60000ad18c38c8f"></span><code class="sig-name descname">IndexBinaryMultiHash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHashD0Ev">
<span id="_CPPv3N5faiss20IndexBinaryMultiHashD0Ev"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHashD0Ev"></span><span id="faiss::IndexBinaryMultiHash::~IndexBinaryMultiHash"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1aedb563ff7a46d7d76872a3c9f5678c4e"></span><code class="sig-name descname">~IndexBinaryMultiHash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash5resetEv">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash5resetEv"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash5resetEv"></span><span id="faiss::IndexBinaryMultiHash::reset"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a00d897dd26ce53cdc826d116e97c8b7f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash3addE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash3addE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash3addE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryMultiHash::add__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a454cb87dd8ee1ce95f7aa02d9f7c0a21"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryMultiHash12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss20IndexBinaryMultiHash12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss20IndexBinaryMultiHash12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::IndexBinaryMultiHash::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1ac09fb92acadc154ddc8247bde75e582d"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryMultiHash6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t">
<span id="_CPPv3NK5faiss20IndexBinaryMultiHash6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="_CPPv2NK5faiss20IndexBinaryMultiHash6searchE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_t"></span><span id="faiss::IndexBinaryMultiHash::search__idx_t.uint8_tCP.idx_t.int32_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a86b864d1a9b194b537010947809d7355"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryMultiHash14hashtable_sizeEv">
<span id="_CPPv3NK5faiss20IndexBinaryMultiHash14hashtable_sizeEv"></span><span id="_CPPv2NK5faiss20IndexBinaryMultiHash14hashtable_sizeEv"></span><span id="faiss::IndexBinaryMultiHash::hashtable_sizeC"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1aafb0dd1d2881fe9053030ec0b77f8e7e"></span>size_t <code class="sig-name descname">hashtable_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash5trainE5idx_tPK7uint8_t"></span><span id="faiss::IndexBinaryMultiHash::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a3c0ffd1655d8a5486660cb025340c9a4"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash5trainE5idx_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Perform training on a representative set of vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::IndexBinaryMultiHash::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a33c74f55b919bf39138bb2ba60bbaafc"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash12add_with_idsE5idx_tPK7uint8_tPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryMultiHash6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss20IndexBinaryMultiHash6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss20IndexBinaryMultiHash6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::IndexBinaryMultiHash::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryMultiHash6assignE5idx_tPK7uint8_tP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash10remove_idsERK10IDSelector"></span><span id="faiss::IndexBinaryMultiHash::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinary_1a5ea7dee38e40f66b86d892bab2b6b80e"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Removes IDs from the index. Not supported by all indexes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryMultiHash11reconstructE5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss20IndexBinaryMultiHash11reconstructE5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexBinaryMultiHash11reconstructE5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryMultiHash::reconstruct__idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ad4938acd1d31afd49c81fbb5211121c3"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryMultiHash11reconstructE5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryMultiHash13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss20IndexBinaryMultiHash13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexBinaryMultiHash13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryMultiHash::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1afbeb7aa476a119b17cbfdb87e9de91e4"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryMultiHash13reconstruct_nE5idx_t5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vectors (size ni * d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryMultiHash22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss20IndexBinaryMultiHash22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexBinaryMultiHash22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::IndexBinaryMultiHash::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ae7a4b9bdbe6f4392d00cf4e44120409e"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryMultiHash22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexBinaryMultiHash7displayEv">
<span id="_CPPv3NK5faiss20IndexBinaryMultiHash7displayEv"></span><span id="_CPPv2NK5faiss20IndexBinaryMultiHash7displayEv"></span><span id="faiss::IndexBinaryMultiHash::displayC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa22c24398be85229e338b15ea9a0e3f1"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexBinaryMultiHash7displayEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Display the actual class name and some more info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash7storageE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash7storageE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash7storageE"></span><span id="faiss::IndexBinaryMultiHash::storage__IndexBinaryFlatP"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1aa5bd24bcee2eeb76de2de5c6ea892ddc"></span><a class="reference internal" href="../file/IndexBinaryFlat_8h.html#_CPPv4N5faiss15IndexBinaryFlatE" title="faiss::IndexBinaryFlat">IndexBinaryFlat</a> *<code class="sig-name descname">storage</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash10own_fieldsE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash10own_fieldsE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash10own_fieldsE"></span><span id="faiss::IndexBinaryMultiHash::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a5d8315567e7d23b47fc66a24fa86ea18"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash4mapsE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash4mapsE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash4mapsE"></span><span id="faiss::IndexBinaryMultiHash::maps__std::vector:Map:"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a09f170e4d11e74db0e4028c491cd33f3"></span>std::vector&lt;<a class="reference internal" href="../file/IndexBinaryHash_8h.html#_CPPv4N5faiss20IndexBinaryMultiHash3MapE" title="faiss::IndexBinaryMultiHash::Map">Map</a>&gt; <code class="sig-name descname">maps</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash5nhashE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash5nhashE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash5nhashE"></span><span id="faiss::IndexBinaryMultiHash::nhash__i"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a57db4b21da1603411bfee92f9d3278aa"></span>int <code class="sig-name descname">nhash</code><br /></dt>
<dd><p>nb of hash maps </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash1bE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash1bE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash1bE"></span><span id="faiss::IndexBinaryMultiHash::b__i"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a73f51b2d8a169e1493bd3b9b9cdd9160"></span>int <code class="sig-name descname">b</code><br /></dt>
<dd><p>nb bits per hash map </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash5nflipE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash5nflipE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash5nflipE"></span><span id="faiss::IndexBinaryMultiHash::nflip__i"></span><span class="target" id="structfaiss_1_1IndexBinaryMultiHash_1a21187aa7e74acb45ea794cb8e4f50903"></span>int <code class="sig-name descname">nflip</code><br /></dt>
<dd><p>nb bit flips to use at search time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash1dE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash1dE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash1dE"></span><span id="faiss::IndexBinaryMultiHash::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash9code_sizeE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash9code_sizeE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash9code_sizeE"></span><span id="faiss::IndexBinaryMultiHash::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash6ntotalE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash6ntotalE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash6ntotalE"></span><span id="faiss::IndexBinaryMultiHash::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="#_CPPv4N5faiss20IndexBinaryMultiHash5idx_tE" title="faiss::IndexBinaryMultiHash::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash7verboseE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash7verboseE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash7verboseE"></span><span id="faiss::IndexBinaryMultiHash::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash10is_trainedE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash10is_trainedE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash10is_trainedE"></span><span id="faiss::IndexBinaryMultiHash::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexBinaryMultiHash11metric_typeE">
<span id="_CPPv3N5faiss20IndexBinaryMultiHash11metric_typeE"></span><span id="_CPPv2N5faiss20IndexBinaryMultiHash11metric_typeE"></span><span id="faiss::IndexBinaryMultiHash::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss20IndexBinaryMultiHash11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss9IndexFlatE">
<span id="_CPPv3N5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss9IndexFlatE"></span><span id="faiss::IndexFlat"></span><span class="target" id="structfaiss_1_1IndexFlat"></span><em class="property">struct </em><code class="sig-name descname">IndexFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexFlat.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> that stores the full vectors and performs exhaustive search </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatIP.html#structfaiss_1_1IndexFlatIP"><span class="std std-ref">faiss::IndexFlatIP</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlatL2"><span class="std std-ref">faiss::IndexFlatL2</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss9IndexFlat5idx_tE">
<span id="_CPPv3N5faiss9IndexFlat5idx_tE"></span><span id="_CPPv2N5faiss9IndexFlat5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss9IndexFlat11component_tE">
<span id="_CPPv3N5faiss9IndexFlat11component_tE"></span><span id="_CPPv2N5faiss9IndexFlat11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss9IndexFlat11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss9IndexFlat10distance_tE">
<span id="_CPPv3N5faiss9IndexFlat10distance_tE"></span><span id="_CPPv2N5faiss9IndexFlat10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss9IndexFlat10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexFlat9IndexFlatE5idx_t10MetricType">
<span id="_CPPv3N5faiss9IndexFlat9IndexFlatE5idx_t10MetricType"></span><span id="_CPPv2N5faiss9IndexFlat9IndexFlatE5idx_t10MetricType"></span><span id="faiss::IndexFlat::IndexFlat__idx_t.MetricType"></span><span class="target" id="structfaiss_1_1IndexFlat_1a7c4a216055a21621b5ba48bb042d46df"></span><code class="sig-name descname">IndexFlat</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>d</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexFlat3addE5idx_tPKf">
<span id="_CPPv3N5faiss9IndexFlat3addE5idx_tPKf"></span><span id="_CPPv2N5faiss9IndexFlat3addE5idx_tPKf"></span><span id="faiss::IndexFlat::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexFlat_1a406f028c702edec72477eacc5733f59c"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexFlat5resetEv">
<span id="_CPPv3N5faiss9IndexFlat5resetEv"></span><span id="_CPPv2N5faiss9IndexFlat5resetEv"></span><span id="faiss::IndexFlat::reset"></span><span class="target" id="structfaiss_1_1IndexFlat_1ab63dc34ef5d33f98f94aa0ade7c7324f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss9IndexFlat6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss9IndexFlat6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexFlat::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a85510d70f4675197df9988651e4692c9"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss9IndexFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss9IndexFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexFlat::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1ac56b7ed90ab65fab9c586a1e56006d12"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss9IndexFlat11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss9IndexFlat11reconstructE5idx_tPf"></span><span id="faiss::IndexFlat::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1ae4b33315752b62cff1626f9f967167b1"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t">
<span id="_CPPv3NK5faiss9IndexFlat23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t"></span><span id="_CPPv2NK5faiss9IndexFlat23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t"></span><span id="faiss::IndexFlat::compute_distance_subset__idx_t.floatCP.idx_t.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a6da84c9f0aca74a1d6b5130478d83357"></span>void <code class="sig-name descname">compute_distance_subset</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute distance with a subset of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: indices of the vectors that should be compared for each query vector, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: corresponding output distances, size n * k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss9IndexFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss9IndexFlat10remove_idsERK10IDSelector"></span><span id="faiss::IndexFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexFlat_1af8ce3571ee6a1fe5f89e17c671f352b8"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>remove some ids. NB that Because of the structure of the indexing structure, the semantics of this operation are different from the usual ones: the new ids are shifted </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexFlat9IndexFlatEv">
<span id="_CPPv3N5faiss9IndexFlat9IndexFlatEv"></span><span id="_CPPv2N5faiss9IndexFlat9IndexFlatEv"></span><span id="faiss::IndexFlat::IndexFlat"></span><span class="target" id="structfaiss_1_1IndexFlat_1a75a158c47a9710c9c268b22d2c6730fa"></span><code class="sig-name descname">IndexFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat21get_distance_computerEv">
<span id="_CPPv3NK5faiss9IndexFlat21get_distance_computerEv"></span><span id="_CPPv2NK5faiss9IndexFlat21get_distance_computerEv"></span><span id="faiss::IndexFlat::get_distance_computerC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a62205e1e7468b184115ee0c87d172a78"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat12sa_code_sizeEv">
<span id="_CPPv3NK5faiss9IndexFlat12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss9IndexFlat12sa_code_sizeEv"></span><span id="faiss::IndexFlat::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss9IndexFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss9IndexFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexFlat::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1aaa95cb6086e2889e1c3f4478e454bc67"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss9IndexFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss9IndexFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexFlat::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1af84e108340092e5d3970ab8824a71658"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexFlat5trainE5idx_tPKf">
<span id="_CPPv3N5faiss9IndexFlat5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss9IndexFlat5trainE5idx_tPKf"></span><span id="faiss::IndexFlat::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss9IndexFlat5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexFlat12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss9IndexFlat12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss9IndexFlat12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexFlat::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss9IndexFlat12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss9IndexFlat6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss9IndexFlat6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexFlat::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexFlat6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss9IndexFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss9IndexFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexFlat::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexFlat13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss9IndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss9IndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexFlat::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss9IndexFlat16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss9IndexFlat16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexFlat::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexFlat16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexFlat18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss9IndexFlat18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss9IndexFlat18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexFlat::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexFlat18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexFlat2xbE">
<span id="_CPPv3N5faiss9IndexFlat2xbE"></span><span id="_CPPv2N5faiss9IndexFlat2xbE"></span><span id="faiss::IndexFlat::xb__std::vector:float:"></span><span class="target" id="structfaiss_1_1IndexFlat_1a9001de47890fe5d2eced9551d3613d47"></span>std::vector&lt;float&gt; <code class="sig-name descname">xb</code><br /></dt>
<dd><p>database vectors, size ntotal * d </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexFlat1dE">
<span id="_CPPv3N5faiss9IndexFlat1dE"></span><span id="_CPPv2N5faiss9IndexFlat1dE"></span><span id="faiss::IndexFlat::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss9IndexFlat1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexFlat6ntotalE">
<span id="_CPPv3N5faiss9IndexFlat6ntotalE"></span><span id="_CPPv2N5faiss9IndexFlat6ntotalE"></span><span id="faiss::IndexFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss9IndexFlat5idx_tE" title="faiss::IndexFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss9IndexFlat6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexFlat7verboseE">
<span id="_CPPv3N5faiss9IndexFlat7verboseE"></span><span id="_CPPv2N5faiss9IndexFlat7verboseE"></span><span id="faiss::IndexFlat::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss9IndexFlat7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexFlat10is_trainedE">
<span id="_CPPv3N5faiss9IndexFlat10is_trainedE"></span><span id="_CPPv2N5faiss9IndexFlat10is_trainedE"></span><span id="faiss::IndexFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss9IndexFlat10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexFlat11metric_typeE">
<span id="_CPPv3N5faiss9IndexFlat11metric_typeE"></span><span id="_CPPv2N5faiss9IndexFlat11metric_typeE"></span><span id="faiss::IndexFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss9IndexFlat11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexFlat10metric_argE">
<span id="_CPPv3N5faiss9IndexFlat10metric_argE"></span><span id="_CPPv2N5faiss9IndexFlat10metric_argE"></span><span id="faiss::IndexFlat::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss9IndexFlat10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11IndexFlat1DE">
<span id="_CPPv3N5faiss11IndexFlat1DE"></span><span id="_CPPv2N5faiss11IndexFlat1DE"></span><span id="faiss::IndexFlat1D"></span><span class="target" id="structfaiss_1_1IndexFlat1D"></span><em class="property">struct </em><code class="sig-name descname">IndexFlat1D</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatL2E" title="faiss::IndexFlatL2">IndexFlatL2</a><br /></dt>
<dd><em>#include &lt;IndexFlat.h&gt;</em><p>optimized version for 1D âvectorsâ. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlat1D5idx_tE">
<span id="_CPPv3N5faiss11IndexFlat1D5idx_tE"></span><span id="_CPPv2N5faiss11IndexFlat1D5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlat1D11component_tE">
<span id="_CPPv3N5faiss11IndexFlat1D11component_tE"></span><span id="_CPPv2N5faiss11IndexFlat1D11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlat1D10distance_tE">
<span id="_CPPv3N5faiss11IndexFlat1D10distance_tE"></span><span id="_CPPv2N5faiss11IndexFlat1D10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlat1D11IndexFlat1DEb">
<span id="_CPPv3N5faiss11IndexFlat1D11IndexFlat1DEb"></span><span id="_CPPv2N5faiss11IndexFlat1D11IndexFlat1DEb"></span><span id="faiss::IndexFlat1D::IndexFlat1D__b"></span><span class="target" id="structfaiss_1_1IndexFlat1D_1a789931261cf151b5ca57fff739b9e964"></span><code class="sig-name descname">IndexFlat1D</code><span class="sig-paren">(</span>bool <em>continuous_update</em> = true<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlat1D18update_permutationEv">
<span id="_CPPv3N5faiss11IndexFlat1D18update_permutationEv"></span><span id="_CPPv2N5faiss11IndexFlat1D18update_permutationEv"></span><span id="faiss::IndexFlat1D::update_permutation"></span><span class="target" id="structfaiss_1_1IndexFlat1D_1ac7466c6c9b1e9e81ea19b846ddb8209e"></span>void <code class="sig-name descname">update_permutation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>if not continuous_update, call this between the last add and the first search </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlat1D3addE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexFlat1D3addE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexFlat1D3addE5idx_tPKf"></span><span id="faiss::IndexFlat1D::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexFlat1D_1a5dc39280262484ecadda5e11162c2457"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlat1D5resetEv">
<span id="_CPPv3N5faiss11IndexFlat1D5resetEv"></span><span id="_CPPv2N5faiss11IndexFlat1D5resetEv"></span><span id="faiss::IndexFlat1D::reset"></span><span class="target" id="structfaiss_1_1IndexFlat1D_1aa205c4ffa6cbd50f49ef9cb6cc050000"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss11IndexFlat1D6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlat1D6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexFlat1D::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexFlat1D_1a65736f2900865cd156faba4fcd260d05"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Warn: the distances returned are L1 not L2. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss11IndexFlat1D12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11IndexFlat1D12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexFlat1D::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1ac56b7ed90ab65fab9c586a1e56006d12"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlat1D11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlat1D11reconstructE5idx_tPf"></span><span id="faiss::IndexFlat1D::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1ae4b33315752b62cff1626f9f967167b1"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexFlat1D23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlat1D23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t"></span><span id="faiss::IndexFlat1D::compute_distance_subset__idx_t.floatCP.idx_t.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a6da84c9f0aca74a1d6b5130478d83357"></span>void <code class="sig-name descname">compute_distance_subset</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute distance with a subset of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: indices of the vectors that should be compared for each query vector, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: corresponding output distances, size n * k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlat1D10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11IndexFlat1D10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11IndexFlat1D10remove_idsERK10IDSelector"></span><span id="faiss::IndexFlat1D::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexFlat_1af8ce3571ee6a1fe5f89e17c671f352b8"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>remove some ids. NB that Because of the structure of the indexing structure, the semantics of this operation are different from the usual ones: the new ids are shifted </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D21get_distance_computerEv">
<span id="_CPPv3NK5faiss11IndexFlat1D21get_distance_computerEv"></span><span id="_CPPv2NK5faiss11IndexFlat1D21get_distance_computerEv"></span><span id="faiss::IndexFlat1D::get_distance_computerC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a62205e1e7468b184115ee0c87d172a78"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D12sa_code_sizeEv">
<span id="_CPPv3NK5faiss11IndexFlat1D12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss11IndexFlat1D12sa_code_sizeEv"></span><span id="faiss::IndexFlat1D::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11IndexFlat1D9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexFlat1D9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexFlat1D::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1aaa95cb6086e2889e1c3f4478e454bc67"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11IndexFlat1D9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11IndexFlat1D9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexFlat1D::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1af84e108340092e5d3970ab8824a71658"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlat1D5trainE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexFlat1D5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexFlat1D5trainE5idx_tPKf"></span><span id="faiss::IndexFlat1D::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlat1D12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexFlat1D12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexFlat1D12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexFlat1D::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexFlat1D6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlat1D6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexFlat1D::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlat1D6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlat1D13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlat1D13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexFlat1D::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlat1D13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlat1D22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlat1D22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexFlat1D::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlat1D22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss11IndexFlat1D16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlat1D16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexFlat1D::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlat1D16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlat1D18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexFlat1D18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlat1D18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexFlat1D::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlat1D18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D17continuous_updateE">
<span id="_CPPv3N5faiss11IndexFlat1D17continuous_updateE"></span><span id="_CPPv2N5faiss11IndexFlat1D17continuous_updateE"></span><span id="faiss::IndexFlat1D::continuous_update__b"></span><span class="target" id="structfaiss_1_1IndexFlat1D_1a8b025a468b088a343cf8079006de45e2"></span>bool <code class="sig-name descname">continuous_update</code><br /></dt>
<dd><p>is the permutation updated continuously? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D4permE">
<span id="_CPPv3N5faiss11IndexFlat1D4permE"></span><span id="_CPPv2N5faiss11IndexFlat1D4permE"></span><span id="faiss::IndexFlat1D::perm__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1IndexFlat1D_1a3442f0d86a14108534f99eea0b7d4d3f"></span>std::vector&lt;<a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a>&gt; <code class="sig-name descname">perm</code><br /></dt>
<dd><p>sorted database indices </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D2xbE">
<span id="_CPPv3N5faiss11IndexFlat1D2xbE"></span><span id="_CPPv2N5faiss11IndexFlat1D2xbE"></span><span id="faiss::IndexFlat1D::xb__std::vector:float:"></span><span class="target" id="structfaiss_1_1IndexFlat_1a9001de47890fe5d2eced9551d3613d47"></span>std::vector&lt;float&gt; <code class="sig-name descname">xb</code><br /></dt>
<dd><p>database vectors, size ntotal * d </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D1dE">
<span id="_CPPv3N5faiss11IndexFlat1D1dE"></span><span id="_CPPv2N5faiss11IndexFlat1D1dE"></span><span id="faiss::IndexFlat1D::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D6ntotalE">
<span id="_CPPv3N5faiss11IndexFlat1D6ntotalE"></span><span id="_CPPv2N5faiss11IndexFlat1D6ntotalE"></span><span id="faiss::IndexFlat1D::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlat1D5idx_tE" title="faiss::IndexFlat1D::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D7verboseE">
<span id="_CPPv3N5faiss11IndexFlat1D7verboseE"></span><span id="_CPPv2N5faiss11IndexFlat1D7verboseE"></span><span id="faiss::IndexFlat1D::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D10is_trainedE">
<span id="_CPPv3N5faiss11IndexFlat1D10is_trainedE"></span><span id="_CPPv2N5faiss11IndexFlat1D10is_trainedE"></span><span id="faiss::IndexFlat1D::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D11metric_typeE">
<span id="_CPPv3N5faiss11IndexFlat1D11metric_typeE"></span><span id="_CPPv2N5faiss11IndexFlat1D11metric_typeE"></span><span id="faiss::IndexFlat1D::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlat1D10metric_argE">
<span id="_CPPv3N5faiss11IndexFlat1D10metric_argE"></span><span id="_CPPv2N5faiss11IndexFlat1D10metric_argE"></span><span id="faiss::IndexFlat1D::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlat1D10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11IndexFlatIPE">
<span id="_CPPv3N5faiss11IndexFlatIPE"></span><span id="_CPPv2N5faiss11IndexFlatIPE"></span><span id="faiss::IndexFlatIP"></span><span class="target" id="structfaiss_1_1IndexFlatIP"></span><em class="property">struct </em><code class="sig-name descname">IndexFlatIP</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlatIP5idx_tE">
<span id="_CPPv3N5faiss11IndexFlatIP5idx_tE"></span><span id="_CPPv2N5faiss11IndexFlatIP5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlatIP11component_tE">
<span id="_CPPv3N5faiss11IndexFlatIP11component_tE"></span><span id="_CPPv2N5faiss11IndexFlatIP11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlatIP10distance_tE">
<span id="_CPPv3N5faiss11IndexFlatIP10distance_tE"></span><span id="_CPPv2N5faiss11IndexFlatIP10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatIP11IndexFlatIPE5idx_t">
<span id="_CPPv3N5faiss11IndexFlatIP11IndexFlatIPE5idx_t"></span><span id="_CPPv2N5faiss11IndexFlatIP11IndexFlatIPE5idx_t"></span><span id="faiss::IndexFlatIP::IndexFlatIP__idx_t"></span><span class="target" id="structfaiss_1_1IndexFlatIP_1adbe452ac275b8f9be218ba7f4c6b18db"></span><code class="sig-name descname">IndexFlatIP</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatIP11IndexFlatIPEv">
<span id="_CPPv3N5faiss11IndexFlatIP11IndexFlatIPEv"></span><span id="_CPPv2N5faiss11IndexFlatIP11IndexFlatIPEv"></span><span id="faiss::IndexFlatIP::IndexFlatIP"></span><span class="target" id="structfaiss_1_1IndexFlatIP_1a3ef4f3a26507f0d9e3c5cf2989c68754"></span><code class="sig-name descname">IndexFlatIP</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatIP3addE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexFlatIP3addE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexFlatIP3addE5idx_tPKf"></span><span id="faiss::IndexFlatIP::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexFlat_1a406f028c702edec72477eacc5733f59c"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatIP5resetEv">
<span id="_CPPv3N5faiss11IndexFlatIP5resetEv"></span><span id="_CPPv2N5faiss11IndexFlatIP5resetEv"></span><span id="faiss::IndexFlatIP::reset"></span><span class="target" id="structfaiss_1_1IndexFlat_1ab63dc34ef5d33f98f94aa0ade7c7324f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatIP6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatIP6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexFlatIP::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a85510d70f4675197df9988651e4692c9"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss11IndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11IndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexFlatIP::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1ac56b7ed90ab65fab9c586a1e56006d12"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlatIP11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlatIP11reconstructE5idx_tPf"></span><span id="faiss::IndexFlatIP::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1ae4b33315752b62cff1626f9f967167b1"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatIP23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatIP23compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t"></span><span id="faiss::IndexFlatIP::compute_distance_subset__idx_t.floatCP.idx_t.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a6da84c9f0aca74a1d6b5130478d83357"></span>void <code class="sig-name descname">compute_distance_subset</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute distance with a subset of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: indices of the vectors that should be compared for each query vector, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: corresponding output distances, size n * k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatIP10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11IndexFlatIP10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11IndexFlatIP10remove_idsERK10IDSelector"></span><span id="faiss::IndexFlatIP::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexFlat_1af8ce3571ee6a1fe5f89e17c671f352b8"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>remove some ids. NB that Because of the structure of the indexing structure, the semantics of this operation are different from the usual ones: the new ids are shifted </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP21get_distance_computerEv">
<span id="_CPPv3NK5faiss11IndexFlatIP21get_distance_computerEv"></span><span id="_CPPv2NK5faiss11IndexFlatIP21get_distance_computerEv"></span><span id="faiss::IndexFlatIP::get_distance_computerC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a62205e1e7468b184115ee0c87d172a78"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP12sa_code_sizeEv">
<span id="_CPPv3NK5faiss11IndexFlatIP12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss11IndexFlatIP12sa_code_sizeEv"></span><span id="faiss::IndexFlatIP::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11IndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexFlatIP::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1aaa95cb6086e2889e1c3f4478e454bc67"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11IndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11IndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexFlatIP::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1af84e108340092e5d3970ab8824a71658"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatIP5trainE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexFlatIP5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexFlatIP5trainE5idx_tPKf"></span><span id="faiss::IndexFlatIP::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatIP12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexFlatIP12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexFlatIP12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexFlatIP::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatIP6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatIP6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexFlatIP::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatIP6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlatIP13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlatIP13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexFlatIP::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatIP13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexFlatIP::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatIP16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatIP16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexFlatIP::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatIP16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatIP18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatIP18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatIP18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexFlatIP::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatIP18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatIP2xbE">
<span id="_CPPv3N5faiss11IndexFlatIP2xbE"></span><span id="_CPPv2N5faiss11IndexFlatIP2xbE"></span><span id="faiss::IndexFlatIP::xb__std::vector:float:"></span><span class="target" id="structfaiss_1_1IndexFlat_1a9001de47890fe5d2eced9551d3613d47"></span>std::vector&lt;float&gt; <code class="sig-name descname">xb</code><br /></dt>
<dd><p>database vectors, size ntotal * d </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatIP1dE">
<span id="_CPPv3N5faiss11IndexFlatIP1dE"></span><span id="_CPPv2N5faiss11IndexFlatIP1dE"></span><span id="faiss::IndexFlatIP::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatIP6ntotalE">
<span id="_CPPv3N5faiss11IndexFlatIP6ntotalE"></span><span id="_CPPv2N5faiss11IndexFlatIP6ntotalE"></span><span id="faiss::IndexFlatIP::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatIP5idx_tE" title="faiss::IndexFlatIP::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatIP7verboseE">
<span id="_CPPv3N5faiss11IndexFlatIP7verboseE"></span><span id="_CPPv2N5faiss11IndexFlatIP7verboseE"></span><span id="faiss::IndexFlatIP::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatIP10is_trainedE">
<span id="_CPPv3N5faiss11IndexFlatIP10is_trainedE"></span><span id="_CPPv2N5faiss11IndexFlatIP10is_trainedE"></span><span id="faiss::IndexFlatIP::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatIP11metric_typeE">
<span id="_CPPv3N5faiss11IndexFlatIP11metric_typeE"></span><span id="_CPPv2N5faiss11IndexFlatIP11metric_typeE"></span><span id="faiss::IndexFlatIP::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatIP10metric_argE">
<span id="_CPPv3N5faiss11IndexFlatIP10metric_argE"></span><span id="_CPPv2N5faiss11IndexFlatIP10metric_argE"></span><span id="faiss::IndexFlatIP::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatIP10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11IndexFlatL2E">
<span id="_CPPv3N5faiss11IndexFlatL2E"></span><span id="_CPPv2N5faiss11IndexFlatL2E"></span><span id="faiss::IndexFlatL2"></span><span class="target" id="structfaiss_1_1IndexFlatL2"></span><em class="property">struct </em><code class="sig-name descname">IndexFlatL2</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat1D.html#structfaiss_1_1IndexFlat1D"><span class="std std-ref">faiss::IndexFlat1D</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlatL25idx_tE">
<span id="_CPPv3N5faiss11IndexFlatL25idx_tE"></span><span id="_CPPv2N5faiss11IndexFlatL25idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlatL211component_tE">
<span id="_CPPv3N5faiss11IndexFlatL211component_tE"></span><span id="_CPPv2N5faiss11IndexFlatL211component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL211component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexFlatL210distance_tE">
<span id="_CPPv3N5faiss11IndexFlatL210distance_tE"></span><span id="_CPPv2N5faiss11IndexFlatL210distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL210distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatL211IndexFlatL2E5idx_t">
<span id="_CPPv3N5faiss11IndexFlatL211IndexFlatL2E5idx_t"></span><span id="_CPPv2N5faiss11IndexFlatL211IndexFlatL2E5idx_t"></span><span id="faiss::IndexFlatL2::IndexFlatL2__idx_t"></span><span class="target" id="structfaiss_1_1IndexFlatL2_1a4462b429fcb6afa74f654ab73a320b0b"></span><code class="sig-name descname">IndexFlatL2</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>d</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatL211IndexFlatL2Ev">
<span id="_CPPv3N5faiss11IndexFlatL211IndexFlatL2Ev"></span><span id="_CPPv2N5faiss11IndexFlatL211IndexFlatL2Ev"></span><span id="faiss::IndexFlatL2::IndexFlatL2"></span><span class="target" id="structfaiss_1_1IndexFlatL2_1ac6113789570e7efbb3bd23965a3c7d33"></span><code class="sig-name descname">IndexFlatL2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatL23addE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexFlatL23addE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexFlatL23addE5idx_tPKf"></span><span id="faiss::IndexFlatL2::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexFlat_1a406f028c702edec72477eacc5733f59c"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatL25resetEv">
<span id="_CPPv3N5faiss11IndexFlatL25resetEv"></span><span id="_CPPv2N5faiss11IndexFlatL25resetEv"></span><span id="faiss::IndexFlatL2::reset"></span><span class="target" id="structfaiss_1_1IndexFlat_1ab63dc34ef5d33f98f94aa0ade7c7324f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL26searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatL26searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatL26searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexFlatL2::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a85510d70f4675197df9988651e4692c9"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss11IndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11IndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexFlatL2::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1ac56b7ed90ab65fab9c586a1e56006d12"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL211reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlatL211reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlatL211reconstructE5idx_tPf"></span><span id="faiss::IndexFlatL2::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1ae4b33315752b62cff1626f9f967167b1"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL223compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatL223compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatL223compute_distance_subsetE5idx_tPKf5idx_tPfPK5idx_t"></span><span id="faiss::IndexFlatL2::compute_distance_subset__idx_t.floatCP.idx_t.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a6da84c9f0aca74a1d6b5130478d83357"></span>void <code class="sig-name descname">compute_distance_subset</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute distance with a subset of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: indices of the vectors that should be compared for each query vector, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: corresponding output distances, size n * k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatL210remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11IndexFlatL210remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11IndexFlatL210remove_idsERK10IDSelector"></span><span id="faiss::IndexFlatL2::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexFlat_1af8ce3571ee6a1fe5f89e17c671f352b8"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>remove some ids. NB that Because of the structure of the indexing structure, the semantics of this operation are different from the usual ones: the new ids are shifted </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL221get_distance_computerEv">
<span id="_CPPv3NK5faiss11IndexFlatL221get_distance_computerEv"></span><span id="_CPPv2NK5faiss11IndexFlatL221get_distance_computerEv"></span><span id="faiss::IndexFlatL2::get_distance_computerC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a62205e1e7468b184115ee0c87d172a78"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL212sa_code_sizeEv">
<span id="_CPPv3NK5faiss11IndexFlatL212sa_code_sizeEv"></span><span id="_CPPv2NK5faiss11IndexFlatL212sa_code_sizeEv"></span><span id="faiss::IndexFlatL2::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL29sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11IndexFlatL29sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexFlatL29sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexFlatL2::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1aaa95cb6086e2889e1c3f4478e454bc67"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL29sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11IndexFlatL29sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11IndexFlatL29sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexFlatL2::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexFlat_1af84e108340092e5d3970ab8824a71658"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlat_1a1e6775c1bfecb89f23558108a034fd62"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatL25trainE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexFlatL25trainE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexFlatL25trainE5idx_tPKf"></span><span id="faiss::IndexFlatL2::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL25trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexFlatL212add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexFlatL212add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexFlatL212add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexFlatL2::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL212add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL26assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatL26assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatL26assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexFlatL2::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatL26assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL213reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlatL213reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlatL213reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexFlatL2::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatL213reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss11IndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexFlatL2::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL216compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatL216compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatL216compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexFlatL2::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatL216compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexFlatL218compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexFlatL218compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexFlatL218compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexFlatL2::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexFlatL218compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatL22xbE">
<span id="_CPPv3N5faiss11IndexFlatL22xbE"></span><span id="_CPPv2N5faiss11IndexFlatL22xbE"></span><span id="faiss::IndexFlatL2::xb__std::vector:float:"></span><span class="target" id="structfaiss_1_1IndexFlat_1a9001de47890fe5d2eced9551d3613d47"></span>std::vector&lt;float&gt; <code class="sig-name descname">xb</code><br /></dt>
<dd><p>database vectors, size ntotal * d </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatL21dE">
<span id="_CPPv3N5faiss11IndexFlatL21dE"></span><span id="_CPPv2N5faiss11IndexFlatL21dE"></span><span id="faiss::IndexFlatL2::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL21dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatL26ntotalE">
<span id="_CPPv3N5faiss11IndexFlatL26ntotalE"></span><span id="_CPPv2N5faiss11IndexFlatL26ntotalE"></span><span id="faiss::IndexFlatL2::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss11IndexFlatL25idx_tE" title="faiss::IndexFlatL2::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL26ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatL27verboseE">
<span id="_CPPv3N5faiss11IndexFlatL27verboseE"></span><span id="_CPPv2N5faiss11IndexFlatL27verboseE"></span><span id="faiss::IndexFlatL2::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL27verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatL210is_trainedE">
<span id="_CPPv3N5faiss11IndexFlatL210is_trainedE"></span><span id="_CPPv2N5faiss11IndexFlatL210is_trainedE"></span><span id="faiss::IndexFlatL2::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL210is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatL211metric_typeE">
<span id="_CPPv3N5faiss11IndexFlatL211metric_typeE"></span><span id="_CPPv2N5faiss11IndexFlatL211metric_typeE"></span><span id="faiss::IndexFlatL2::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL211metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexFlatL210metric_argE">
<span id="_CPPv3N5faiss11IndexFlatL210metric_argE"></span><span id="_CPPv2N5faiss11IndexFlatL210metric_argE"></span><span id="faiss::IndexFlatL2::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss11IndexFlatL210metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss9IndexHNSWE">
<span id="_CPPv3N5faiss9IndexHNSWE"></span><span id="_CPPv2N5faiss9IndexHNSWE"></span><span id="faiss::IndexHNSW"></span><span class="target" id="structfaiss_1_1IndexHNSW"></span><em class="property">struct </em><code class="sig-name descname">IndexHNSW</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexHNSW.h&gt;</em><p>The HNSW index is a normal random-access index with a HNSW link structure built on top </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexHNSW2Level.html#structfaiss_1_1IndexHNSW2Level"><span class="std std-ref">faiss::IndexHNSW2Level</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexHNSWFlat.html#structfaiss_1_1IndexHNSWFlat"><span class="std std-ref">faiss::IndexHNSWFlat</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexHNSWPQ.html#structfaiss_1_1IndexHNSWPQ"><span class="std std-ref">faiss::IndexHNSWPQ</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexHNSWSQ.html#structfaiss_1_1IndexHNSWSQ"><span class="std std-ref">faiss::IndexHNSWSQ</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss9IndexHNSW13storage_idx_tE">
<span id="_CPPv3N5faiss9IndexHNSW13storage_idx_tE"></span><span id="_CPPv2N5faiss9IndexHNSW13storage_idx_tE"></span><span id="faiss::IndexHNSW::storage_idx_t"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad2da92276e4caf988c696f9a32981021"></span><em class="property">typedef </em>HNSW::storage_idx_t <code class="sig-name descname">storage_idx_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss9IndexHNSW5idx_tE">
<span id="_CPPv3N5faiss9IndexHNSW5idx_tE"></span><span id="_CPPv2N5faiss9IndexHNSW5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss9IndexHNSW11component_tE">
<span id="_CPPv3N5faiss9IndexHNSW11component_tE"></span><span id="_CPPv2N5faiss9IndexHNSW11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss9IndexHNSW10distance_tE">
<span id="_CPPv3N5faiss9IndexHNSW10distance_tE"></span><span id="_CPPv2N5faiss9IndexHNSW10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW9IndexHNSWEii10MetricType">
<span id="_CPPv3N5faiss9IndexHNSW9IndexHNSWEii10MetricType"></span><span id="_CPPv2N5faiss9IndexHNSW9IndexHNSWEii10MetricType"></span><span id="faiss::IndexHNSW::IndexHNSW__i.i.MetricType"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a973769979e047374a8310b9fa891214c"></span><code class="sig-name descname">IndexHNSW</code><span class="sig-paren">(</span>int <em>d</em> = 0, int <em>M</em> = 32, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW9IndexHNSWEP5Indexi">
<span id="_CPPv3N5faiss9IndexHNSW9IndexHNSWEP5Indexi"></span><span id="_CPPv2N5faiss9IndexHNSW9IndexHNSWEP5Indexi"></span><span id="faiss::IndexHNSW::IndexHNSW__IndexP.i"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a74d1ec193f1749a55ec83b6c7779119c"></span><code class="sig-name descname">IndexHNSW</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>storage</em>, int <em>M</em> = 32<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSWD0Ev">
<span id="_CPPv3N5faiss9IndexHNSWD0Ev"></span><span id="_CPPv2N5faiss9IndexHNSWD0Ev"></span><span id="faiss::IndexHNSW::~IndexHNSW"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ae9f5460874a4fba7d4ce1e718d25608b"></span><code class="sig-name descname">~IndexHNSW</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW3addE5idx_tPKf">
<span id="_CPPv3N5faiss9IndexHNSW3addE5idx_tPKf"></span><span id="_CPPv2N5faiss9IndexHNSW3addE5idx_tPKf"></span><span id="faiss::IndexHNSW::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a04a761ce17d0f9040b3bc8a77bd627d9"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW5trainE5idx_tPKf">
<span id="_CPPv3N5faiss9IndexHNSW5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss9IndexHNSW5trainE5idx_tPKf"></span><span id="faiss::IndexHNSW::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a40bc6d2c67545f95e322c63d68a47140"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the storage if needed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss9IndexHNSW6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss9IndexHNSW6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexHNSW::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ae0ddf6ab4a54239a25d6277e21e8548e"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>entry point for search </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss9IndexHNSW11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss9IndexHNSW11reconstructE5idx_tPf"></span><span id="faiss::IndexHNSW::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a660e5c8de1ba9c71bf3fe1f3bf0c8812"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW5resetEv">
<span id="_CPPv3N5faiss9IndexHNSW5resetEv"></span><span id="_CPPv2N5faiss9IndexHNSW5resetEv"></span><span id="faiss::IndexHNSW::reset"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad4b9f97d42e2521e01f8b60012985396"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW24shrink_level_0_neighborsEi">
<span id="_CPPv3N5faiss9IndexHNSW24shrink_level_0_neighborsEi"></span><span id="_CPPv2N5faiss9IndexHNSW24shrink_level_0_neighborsEi"></span><span id="faiss::IndexHNSW::shrink_level_0_neighbors__i"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a37f79ff64b8aa13977c1b4dbccf3eec6"></span>void <code class="sig-name descname">shrink_level_0_neighbors</code><span class="sig-paren">(</span>int <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii">
<span id="_CPPv3NK5faiss9IndexHNSW14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="_CPPv2NK5faiss9IndexHNSW14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="faiss::IndexHNSW::search_level_0__idx_t.floatCP.idx_t.storage_idx_tCP.floatCP.floatP.idx_tP.i.iC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2a98a87b1d348addb09b6ee1fbdd5692"></span>void <code class="sig-name descname">search_level_0</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSW13storage_idx_tE" title="faiss::IndexHNSW::storage_idx_t">storage_idx_t</a> *<em>nearest</em>, <em class="property">const</em> float *<em>nearest_d</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> *<em>labels</em>, int <em>nprobe</em> = 1, int <em>search_type</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Perform search only on level 0, given the starting points for each vertex.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">search_type</span></code>: 1:perform one search per nprobe, 2: enqueue all entry points </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW26init_level_0_from_knngraphEiPKfPK5idx_t">
<span id="_CPPv3N5faiss9IndexHNSW26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="_CPPv2N5faiss9IndexHNSW26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="faiss::IndexHNSW::init_level_0_from_knngraph__i.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a9a86c58212f3f9cf88394f5297cba525"></span>void <code class="sig-name descname">init_level_0_from_knngraph</code><span class="sig-paren">(</span>int <em>k</em>, <em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t">
<span id="_CPPv3N5faiss9IndexHNSW30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="_CPPv2N5faiss9IndexHNSW30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="faiss::IndexHNSW::init_level_0_from_entry_points__i.storage_idx_tCP.storage_idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ab9c75063090927f8f65d1896b6949af4"></span>void <code class="sig-name descname">init_level_0_from_entry_points</code><span class="sig-paren">(</span>int <em>npt</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSW13storage_idx_tE" title="faiss::IndexHNSW::storage_idx_t">storage_idx_t</a> *<em>points</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSW13storage_idx_tE" title="faiss::IndexHNSW::storage_idx_t">storage_idx_t</a> *<em>nearests</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW13reorder_linksEv">
<span id="_CPPv3N5faiss9IndexHNSW13reorder_linksEv"></span><span id="_CPPv2N5faiss9IndexHNSW13reorder_linksEv"></span><span id="faiss::IndexHNSW::reorder_links"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a949f66fe1ed3f6256d0d84cf532fade8"></span>void <code class="sig-name descname">reorder_links</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW15link_singletonsEv">
<span id="_CPPv3N5faiss9IndexHNSW15link_singletonsEv"></span><span id="_CPPv2N5faiss9IndexHNSW15link_singletonsEv"></span><span id="faiss::IndexHNSW::link_singletons"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2c0277b782f0f16ae33e30a1450bd8d3"></span>void <code class="sig-name descname">link_singletons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss9IndexHNSW12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss9IndexHNSW12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexHNSW::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss9IndexHNSW12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss9IndexHNSW12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexHNSW::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss9IndexHNSW6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss9IndexHNSW6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexHNSW::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9IndexHNSW10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss9IndexHNSW10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss9IndexHNSW10remove_idsERK10IDSelector"></span><span id="faiss::IndexHNSW::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss9IndexHNSW13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss9IndexHNSW13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexHNSW::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss9IndexHNSW22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss9IndexHNSW22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexHNSW::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss9IndexHNSW16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss9IndexHNSW16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexHNSW::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss9IndexHNSW18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss9IndexHNSW18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexHNSW::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW21get_distance_computerEv">
<span id="_CPPv3NK5faiss9IndexHNSW21get_distance_computerEv"></span><span id="_CPPv2NK5faiss9IndexHNSW21get_distance_computerEv"></span><span id="faiss::IndexHNSW::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW12sa_code_sizeEv">
<span id="_CPPv3NK5faiss9IndexHNSW12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss9IndexHNSW12sa_code_sizeEv"></span><span id="faiss::IndexHNSW::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss9IndexHNSW9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss9IndexHNSW9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexHNSW::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9IndexHNSW9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss9IndexHNSW9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss9IndexHNSW9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexHNSW::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss9IndexHNSW9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW4hnswE">
<span id="_CPPv3N5faiss9IndexHNSW4hnswE"></span><span id="_CPPv2N5faiss9IndexHNSW4hnswE"></span><span id="faiss::IndexHNSW::hnsw__HNSW"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a954090e224ed05cdec6f3ccab394c091"></span>HNSW <code class="sig-name descname">hnsw</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW10own_fieldsE">
<span id="_CPPv3N5faiss9IndexHNSW10own_fieldsE"></span><span id="_CPPv2N5faiss9IndexHNSW10own_fieldsE"></span><span id="faiss::IndexHNSW::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a96137d57aafb7275ebba0253d627a820"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW7storageE">
<span id="_CPPv3N5faiss9IndexHNSW7storageE"></span><span id="_CPPv2N5faiss9IndexHNSW7storageE"></span><span id="faiss::IndexHNSW::storage__IndexP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2122830e5b8b02057bde264b74da6f00"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">storage</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW26reconstruct_from_neighborsE">
<span id="_CPPv3N5faiss9IndexHNSW26reconstruct_from_neighborsE"></span><span id="_CPPv2N5faiss9IndexHNSW26reconstruct_from_neighborsE"></span><span id="faiss::IndexHNSW::reconstruct_from_neighbors__ReconstructFromNeighborsP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1aeb9cbfc543b6d9f1cae90a49148aee69"></span><a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighborsE" title="faiss::ReconstructFromNeighbors">ReconstructFromNeighbors</a> *<code class="sig-name descname">reconstruct_from_neighbors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW1dE">
<span id="_CPPv3N5faiss9IndexHNSW1dE"></span><span id="_CPPv2N5faiss9IndexHNSW1dE"></span><span id="faiss::IndexHNSW::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW6ntotalE">
<span id="_CPPv3N5faiss9IndexHNSW6ntotalE"></span><span id="_CPPv2N5faiss9IndexHNSW6ntotalE"></span><span id="faiss::IndexHNSW::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss9IndexHNSW5idx_tE" title="faiss::IndexHNSW::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW7verboseE">
<span id="_CPPv3N5faiss9IndexHNSW7verboseE"></span><span id="_CPPv2N5faiss9IndexHNSW7verboseE"></span><span id="faiss::IndexHNSW::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW10is_trainedE">
<span id="_CPPv3N5faiss9IndexHNSW10is_trainedE"></span><span id="_CPPv2N5faiss9IndexHNSW10is_trainedE"></span><span id="faiss::IndexHNSW::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW11metric_typeE">
<span id="_CPPv3N5faiss9IndexHNSW11metric_typeE"></span><span id="_CPPv2N5faiss9IndexHNSW11metric_typeE"></span><span id="faiss::IndexHNSW::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9IndexHNSW10metric_argE">
<span id="_CPPv3N5faiss9IndexHNSW10metric_argE"></span><span id="_CPPv2N5faiss9IndexHNSW10metric_argE"></span><span id="faiss::IndexHNSW::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss9IndexHNSW10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15IndexHNSW2LevelE">
<span id="_CPPv3N5faiss15IndexHNSW2LevelE"></span><span id="_CPPv2N5faiss15IndexHNSW2LevelE"></span><span id="faiss::IndexHNSW2Level"></span><span class="target" id="structfaiss_1_1IndexHNSW2Level"></span><em class="property">struct </em><code class="sig-name descname">IndexHNSW2Level</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSWE" title="faiss::IndexHNSW">IndexHNSW</a><br /></dt>
<dd><em>#include &lt;IndexHNSW.h&gt;</em><p>2-level code structure with fast random access </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexHNSW2Level13storage_idx_tE">
<span id="_CPPv3N5faiss15IndexHNSW2Level13storage_idx_tE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level13storage_idx_tE"></span><span id="faiss::IndexHNSW2Level::storage_idx_t"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad2da92276e4caf988c696f9a32981021"></span><em class="property">typedef </em>HNSW::storage_idx_t <code class="sig-name descname">storage_idx_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexHNSW2Level5idx_tE">
<span id="_CPPv3N5faiss15IndexHNSW2Level5idx_tE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexHNSW2Level11component_tE">
<span id="_CPPv3N5faiss15IndexHNSW2Level11component_tE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexHNSW2Level10distance_tE">
<span id="_CPPv3N5faiss15IndexHNSW2Level10distance_tE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level15IndexHNSW2LevelEv">
<span id="_CPPv3N5faiss15IndexHNSW2Level15IndexHNSW2LevelEv"></span><span id="_CPPv2N5faiss15IndexHNSW2Level15IndexHNSW2LevelEv"></span><span id="faiss::IndexHNSW2Level::IndexHNSW2Level"></span><span class="target" id="structfaiss_1_1IndexHNSW2Level_1a8253ac892a5536fbc24e7440b2c36677"></span><code class="sig-name descname">IndexHNSW2Level</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level15IndexHNSW2LevelEP5Index6size_tii">
<span id="_CPPv3N5faiss15IndexHNSW2Level15IndexHNSW2LevelEP5Index6size_tii"></span><span id="_CPPv2N5faiss15IndexHNSW2Level15IndexHNSW2LevelEP5Index6size_tii"></span><span id="faiss::IndexHNSW2Level::IndexHNSW2Level__IndexP.s.i.i"></span><span class="target" id="structfaiss_1_1IndexHNSW2Level_1ab9193d66b28fd4aeeb1bf7c7e8933d1c"></span><code class="sig-name descname">IndexHNSW2Level</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>nlist</em>, int <em>m_pq</em>, int <em>M</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level11flip_to_ivfEv">
<span id="_CPPv3N5faiss15IndexHNSW2Level11flip_to_ivfEv"></span><span id="_CPPv2N5faiss15IndexHNSW2Level11flip_to_ivfEv"></span><span id="faiss::IndexHNSW2Level::flip_to_ivf"></span><span class="target" id="structfaiss_1_1IndexHNSW2Level_1a257801d5c05bca5d46442824ed3834f8"></span>void <code class="sig-name descname">flip_to_ivf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss15IndexHNSW2Level6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexHNSW2Level::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexHNSW2Level_1a50a087a17ce5a7a1fbcca0836959b4ec"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>entry point for search </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level3addE5idx_tPKf">
<span id="_CPPv3N5faiss15IndexHNSW2Level3addE5idx_tPKf"></span><span id="_CPPv2N5faiss15IndexHNSW2Level3addE5idx_tPKf"></span><span id="faiss::IndexHNSW2Level::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a04a761ce17d0f9040b3bc8a77bd627d9"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level5trainE5idx_tPKf">
<span id="_CPPv3N5faiss15IndexHNSW2Level5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss15IndexHNSW2Level5trainE5idx_tPKf"></span><span id="faiss::IndexHNSW2Level::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a40bc6d2c67545f95e322c63d68a47140"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the storage if needed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss15IndexHNSW2Level11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level11reconstructE5idx_tPf"></span><span id="faiss::IndexHNSW2Level::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a660e5c8de1ba9c71bf3fe1f3bf0c8812"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level5resetEv">
<span id="_CPPv3N5faiss15IndexHNSW2Level5resetEv"></span><span id="_CPPv2N5faiss15IndexHNSW2Level5resetEv"></span><span id="faiss::IndexHNSW2Level::reset"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad4b9f97d42e2521e01f8b60012985396"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level24shrink_level_0_neighborsEi">
<span id="_CPPv3N5faiss15IndexHNSW2Level24shrink_level_0_neighborsEi"></span><span id="_CPPv2N5faiss15IndexHNSW2Level24shrink_level_0_neighborsEi"></span><span id="faiss::IndexHNSW2Level::shrink_level_0_neighbors__i"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a37f79ff64b8aa13977c1b4dbccf3eec6"></span>void <code class="sig-name descname">shrink_level_0_neighbors</code><span class="sig-paren">(</span>int <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii">
<span id="_CPPv3NK5faiss15IndexHNSW2Level14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="faiss::IndexHNSW2Level::search_level_0__idx_t.floatCP.idx_t.storage_idx_tCP.floatCP.floatP.idx_tP.i.iC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2a98a87b1d348addb09b6ee1fbdd5692"></span>void <code class="sig-name descname">search_level_0</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss15IndexHNSW2Level13storage_idx_tE" title="faiss::IndexHNSW2Level::storage_idx_t">storage_idx_t</a> *<em>nearest</em>, <em class="property">const</em> float *<em>nearest_d</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> *<em>labels</em>, int <em>nprobe</em> = 1, int <em>search_type</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Perform search only on level 0, given the starting points for each vertex.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">search_type</span></code>: 1:perform one search per nprobe, 2: enqueue all entry points </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level26init_level_0_from_knngraphEiPKfPK5idx_t">
<span id="_CPPv3N5faiss15IndexHNSW2Level26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="_CPPv2N5faiss15IndexHNSW2Level26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="faiss::IndexHNSW2Level::init_level_0_from_knngraph__i.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a9a86c58212f3f9cf88394f5297cba525"></span>void <code class="sig-name descname">init_level_0_from_knngraph</code><span class="sig-paren">(</span>int <em>k</em>, <em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t">
<span id="_CPPv3N5faiss15IndexHNSW2Level30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="_CPPv2N5faiss15IndexHNSW2Level30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="faiss::IndexHNSW2Level::init_level_0_from_entry_points__i.storage_idx_tCP.storage_idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ab9c75063090927f8f65d1896b6949af4"></span>void <code class="sig-name descname">init_level_0_from_entry_points</code><span class="sig-paren">(</span>int <em>npt</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss15IndexHNSW2Level13storage_idx_tE" title="faiss::IndexHNSW2Level::storage_idx_t">storage_idx_t</a> *<em>points</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss15IndexHNSW2Level13storage_idx_tE" title="faiss::IndexHNSW2Level::storage_idx_t">storage_idx_t</a> *<em>nearests</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level13reorder_linksEv">
<span id="_CPPv3N5faiss15IndexHNSW2Level13reorder_linksEv"></span><span id="_CPPv2N5faiss15IndexHNSW2Level13reorder_linksEv"></span><span id="faiss::IndexHNSW2Level::reorder_links"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a949f66fe1ed3f6256d0d84cf532fade8"></span>void <code class="sig-name descname">reorder_links</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level15link_singletonsEv">
<span id="_CPPv3N5faiss15IndexHNSW2Level15link_singletonsEv"></span><span id="_CPPv2N5faiss15IndexHNSW2Level15link_singletonsEv"></span><span id="faiss::IndexHNSW2Level::link_singletons"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2c0277b782f0f16ae33e30a1450bd8d3"></span>void <code class="sig-name descname">link_singletons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss15IndexHNSW2Level12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss15IndexHNSW2Level12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexHNSW2Level::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss15IndexHNSW2Level12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexHNSW2Level::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss15IndexHNSW2Level6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexHNSW2Level::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexHNSW2Level10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss15IndexHNSW2Level10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss15IndexHNSW2Level10remove_idsERK10IDSelector"></span><span id="faiss::IndexHNSW2Level::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss15IndexHNSW2Level13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexHNSW2Level::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss15IndexHNSW2Level22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexHNSW2Level::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss15IndexHNSW2Level16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexHNSW2Level::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss15IndexHNSW2Level18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexHNSW2Level::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level21get_distance_computerEv">
<span id="_CPPv3NK5faiss15IndexHNSW2Level21get_distance_computerEv"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level21get_distance_computerEv"></span><span id="faiss::IndexHNSW2Level::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level12sa_code_sizeEv">
<span id="_CPPv3NK5faiss15IndexHNSW2Level12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level12sa_code_sizeEv"></span><span id="faiss::IndexHNSW2Level::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss15IndexHNSW2Level9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexHNSW2Level::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexHNSW2Level9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss15IndexHNSW2Level9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss15IndexHNSW2Level9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexHNSW2Level::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexHNSW2Level9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level4hnswE">
<span id="_CPPv3N5faiss15IndexHNSW2Level4hnswE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level4hnswE"></span><span id="faiss::IndexHNSW2Level::hnsw__HNSW"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a954090e224ed05cdec6f3ccab394c091"></span>HNSW <code class="sig-name descname">hnsw</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level10own_fieldsE">
<span id="_CPPv3N5faiss15IndexHNSW2Level10own_fieldsE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level10own_fieldsE"></span><span id="faiss::IndexHNSW2Level::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a96137d57aafb7275ebba0253d627a820"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level7storageE">
<span id="_CPPv3N5faiss15IndexHNSW2Level7storageE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level7storageE"></span><span id="faiss::IndexHNSW2Level::storage__IndexP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2122830e5b8b02057bde264b74da6f00"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">storage</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level26reconstruct_from_neighborsE">
<span id="_CPPv3N5faiss15IndexHNSW2Level26reconstruct_from_neighborsE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level26reconstruct_from_neighborsE"></span><span id="faiss::IndexHNSW2Level::reconstruct_from_neighbors__ReconstructFromNeighborsP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1aeb9cbfc543b6d9f1cae90a49148aee69"></span><a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighborsE" title="faiss::ReconstructFromNeighbors">ReconstructFromNeighbors</a> *<code class="sig-name descname">reconstruct_from_neighbors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level1dE">
<span id="_CPPv3N5faiss15IndexHNSW2Level1dE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level1dE"></span><span id="faiss::IndexHNSW2Level::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level6ntotalE">
<span id="_CPPv3N5faiss15IndexHNSW2Level6ntotalE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level6ntotalE"></span><span id="faiss::IndexHNSW2Level::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss15IndexHNSW2Level5idx_tE" title="faiss::IndexHNSW2Level::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level7verboseE">
<span id="_CPPv3N5faiss15IndexHNSW2Level7verboseE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level7verboseE"></span><span id="faiss::IndexHNSW2Level::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level10is_trainedE">
<span id="_CPPv3N5faiss15IndexHNSW2Level10is_trainedE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level10is_trainedE"></span><span id="faiss::IndexHNSW2Level::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level11metric_typeE">
<span id="_CPPv3N5faiss15IndexHNSW2Level11metric_typeE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level11metric_typeE"></span><span id="faiss::IndexHNSW2Level::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexHNSW2Level10metric_argE">
<span id="_CPPv3N5faiss15IndexHNSW2Level10metric_argE"></span><span id="_CPPv2N5faiss15IndexHNSW2Level10metric_argE"></span><span id="faiss::IndexHNSW2Level::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss15IndexHNSW2Level10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss13IndexHNSWFlatE">
<span id="_CPPv3N5faiss13IndexHNSWFlatE"></span><span id="_CPPv2N5faiss13IndexHNSWFlatE"></span><span id="faiss::IndexHNSWFlat"></span><span class="target" id="structfaiss_1_1IndexHNSWFlat"></span><em class="property">struct </em><code class="sig-name descname">IndexHNSWFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSWE" title="faiss::IndexHNSW">IndexHNSW</a><br /></dt>
<dd><em>#include &lt;IndexHNSW.h&gt;</em><p>Flat index topped with with a HNSW structure to access elements more efficiently. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss13IndexHNSWFlat13storage_idx_tE">
<span id="_CPPv3N5faiss13IndexHNSWFlat13storage_idx_tE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat13storage_idx_tE"></span><span id="faiss::IndexHNSWFlat::storage_idx_t"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad2da92276e4caf988c696f9a32981021"></span><em class="property">typedef </em>HNSW::storage_idx_t <code class="sig-name descname">storage_idx_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss13IndexHNSWFlat5idx_tE">
<span id="_CPPv3N5faiss13IndexHNSWFlat5idx_tE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss13IndexHNSWFlat11component_tE">
<span id="_CPPv3N5faiss13IndexHNSWFlat11component_tE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss13IndexHNSWFlat10distance_tE">
<span id="_CPPv3N5faiss13IndexHNSWFlat10distance_tE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat13IndexHNSWFlatEv">
<span id="_CPPv3N5faiss13IndexHNSWFlat13IndexHNSWFlatEv"></span><span id="_CPPv2N5faiss13IndexHNSWFlat13IndexHNSWFlatEv"></span><span id="faiss::IndexHNSWFlat::IndexHNSWFlat"></span><span class="target" id="structfaiss_1_1IndexHNSWFlat_1a2d28f8618d90d55839b4b25aa1efe5ce"></span><code class="sig-name descname">IndexHNSWFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat13IndexHNSWFlatEii10MetricType">
<span id="_CPPv3N5faiss13IndexHNSWFlat13IndexHNSWFlatEii10MetricType"></span><span id="_CPPv2N5faiss13IndexHNSWFlat13IndexHNSWFlatEii10MetricType"></span><span id="faiss::IndexHNSWFlat::IndexHNSWFlat__i.i.MetricType"></span><span class="target" id="structfaiss_1_1IndexHNSWFlat_1a3b87e5bddf34dcfc559fa601902050cb"></span><code class="sig-name descname">IndexHNSWFlat</code><span class="sig-paren">(</span>int <em>d</em>, int <em>M</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat3addE5idx_tPKf">
<span id="_CPPv3N5faiss13IndexHNSWFlat3addE5idx_tPKf"></span><span id="_CPPv2N5faiss13IndexHNSWFlat3addE5idx_tPKf"></span><span id="faiss::IndexHNSWFlat::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a04a761ce17d0f9040b3bc8a77bd627d9"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat5trainE5idx_tPKf">
<span id="_CPPv3N5faiss13IndexHNSWFlat5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss13IndexHNSWFlat5trainE5idx_tPKf"></span><span id="faiss::IndexHNSWFlat::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a40bc6d2c67545f95e322c63d68a47140"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the storage if needed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss13IndexHNSWFlat6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexHNSWFlat::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ae0ddf6ab4a54239a25d6277e21e8548e"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>entry point for search </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss13IndexHNSWFlat11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat11reconstructE5idx_tPf"></span><span id="faiss::IndexHNSWFlat::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a660e5c8de1ba9c71bf3fe1f3bf0c8812"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat5resetEv">
<span id="_CPPv3N5faiss13IndexHNSWFlat5resetEv"></span><span id="_CPPv2N5faiss13IndexHNSWFlat5resetEv"></span><span id="faiss::IndexHNSWFlat::reset"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad4b9f97d42e2521e01f8b60012985396"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat24shrink_level_0_neighborsEi">
<span id="_CPPv3N5faiss13IndexHNSWFlat24shrink_level_0_neighborsEi"></span><span id="_CPPv2N5faiss13IndexHNSWFlat24shrink_level_0_neighborsEi"></span><span id="faiss::IndexHNSWFlat::shrink_level_0_neighbors__i"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a37f79ff64b8aa13977c1b4dbccf3eec6"></span>void <code class="sig-name descname">shrink_level_0_neighbors</code><span class="sig-paren">(</span>int <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii">
<span id="_CPPv3NK5faiss13IndexHNSWFlat14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="faiss::IndexHNSWFlat::search_level_0__idx_t.floatCP.idx_t.storage_idx_tCP.floatCP.floatP.idx_tP.i.iC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2a98a87b1d348addb09b6ee1fbdd5692"></span>void <code class="sig-name descname">search_level_0</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss13IndexHNSWFlat13storage_idx_tE" title="faiss::IndexHNSWFlat::storage_idx_t">storage_idx_t</a> *<em>nearest</em>, <em class="property">const</em> float *<em>nearest_d</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> *<em>labels</em>, int <em>nprobe</em> = 1, int <em>search_type</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Perform search only on level 0, given the starting points for each vertex.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">search_type</span></code>: 1:perform one search per nprobe, 2: enqueue all entry points </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat26init_level_0_from_knngraphEiPKfPK5idx_t">
<span id="_CPPv3N5faiss13IndexHNSWFlat26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="_CPPv2N5faiss13IndexHNSWFlat26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="faiss::IndexHNSWFlat::init_level_0_from_knngraph__i.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a9a86c58212f3f9cf88394f5297cba525"></span>void <code class="sig-name descname">init_level_0_from_knngraph</code><span class="sig-paren">(</span>int <em>k</em>, <em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t">
<span id="_CPPv3N5faiss13IndexHNSWFlat30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="_CPPv2N5faiss13IndexHNSWFlat30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="faiss::IndexHNSWFlat::init_level_0_from_entry_points__i.storage_idx_tCP.storage_idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ab9c75063090927f8f65d1896b6949af4"></span>void <code class="sig-name descname">init_level_0_from_entry_points</code><span class="sig-paren">(</span>int <em>npt</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss13IndexHNSWFlat13storage_idx_tE" title="faiss::IndexHNSWFlat::storage_idx_t">storage_idx_t</a> *<em>points</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss13IndexHNSWFlat13storage_idx_tE" title="faiss::IndexHNSWFlat::storage_idx_t">storage_idx_t</a> *<em>nearests</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat13reorder_linksEv">
<span id="_CPPv3N5faiss13IndexHNSWFlat13reorder_linksEv"></span><span id="_CPPv2N5faiss13IndexHNSWFlat13reorder_linksEv"></span><span id="faiss::IndexHNSWFlat::reorder_links"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a949f66fe1ed3f6256d0d84cf532fade8"></span>void <code class="sig-name descname">reorder_links</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat15link_singletonsEv">
<span id="_CPPv3N5faiss13IndexHNSWFlat15link_singletonsEv"></span><span id="_CPPv2N5faiss13IndexHNSWFlat15link_singletonsEv"></span><span id="faiss::IndexHNSWFlat::link_singletons"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2c0277b782f0f16ae33e30a1450bd8d3"></span>void <code class="sig-name descname">link_singletons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss13IndexHNSWFlat12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss13IndexHNSWFlat12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexHNSWFlat::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss13IndexHNSWFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexHNSWFlat::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss13IndexHNSWFlat6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexHNSWFlat::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexHNSWFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss13IndexHNSWFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss13IndexHNSWFlat10remove_idsERK10IDSelector"></span><span id="faiss::IndexHNSWFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss13IndexHNSWFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexHNSWFlat::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss13IndexHNSWFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexHNSWFlat::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss13IndexHNSWFlat16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexHNSWFlat::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss13IndexHNSWFlat18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexHNSWFlat::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat21get_distance_computerEv">
<span id="_CPPv3NK5faiss13IndexHNSWFlat21get_distance_computerEv"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat21get_distance_computerEv"></span><span id="faiss::IndexHNSWFlat::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat12sa_code_sizeEv">
<span id="_CPPv3NK5faiss13IndexHNSWFlat12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat12sa_code_sizeEv"></span><span id="faiss::IndexHNSWFlat::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss13IndexHNSWFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexHNSWFlat::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13IndexHNSWFlat9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss13IndexHNSWFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss13IndexHNSWFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexHNSWFlat::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss13IndexHNSWFlat9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat4hnswE">
<span id="_CPPv3N5faiss13IndexHNSWFlat4hnswE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat4hnswE"></span><span id="faiss::IndexHNSWFlat::hnsw__HNSW"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a954090e224ed05cdec6f3ccab394c091"></span>HNSW <code class="sig-name descname">hnsw</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat10own_fieldsE">
<span id="_CPPv3N5faiss13IndexHNSWFlat10own_fieldsE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat10own_fieldsE"></span><span id="faiss::IndexHNSWFlat::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a96137d57aafb7275ebba0253d627a820"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat7storageE">
<span id="_CPPv3N5faiss13IndexHNSWFlat7storageE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat7storageE"></span><span id="faiss::IndexHNSWFlat::storage__IndexP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2122830e5b8b02057bde264b74da6f00"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">storage</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat26reconstruct_from_neighborsE">
<span id="_CPPv3N5faiss13IndexHNSWFlat26reconstruct_from_neighborsE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat26reconstruct_from_neighborsE"></span><span id="faiss::IndexHNSWFlat::reconstruct_from_neighbors__ReconstructFromNeighborsP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1aeb9cbfc543b6d9f1cae90a49148aee69"></span><a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighborsE" title="faiss::ReconstructFromNeighbors">ReconstructFromNeighbors</a> *<code class="sig-name descname">reconstruct_from_neighbors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat1dE">
<span id="_CPPv3N5faiss13IndexHNSWFlat1dE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat1dE"></span><span id="faiss::IndexHNSWFlat::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat6ntotalE">
<span id="_CPPv3N5faiss13IndexHNSWFlat6ntotalE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat6ntotalE"></span><span id="faiss::IndexHNSWFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss13IndexHNSWFlat5idx_tE" title="faiss::IndexHNSWFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat7verboseE">
<span id="_CPPv3N5faiss13IndexHNSWFlat7verboseE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat7verboseE"></span><span id="faiss::IndexHNSWFlat::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat10is_trainedE">
<span id="_CPPv3N5faiss13IndexHNSWFlat10is_trainedE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat10is_trainedE"></span><span id="faiss::IndexHNSWFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat11metric_typeE">
<span id="_CPPv3N5faiss13IndexHNSWFlat11metric_typeE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat11metric_typeE"></span><span id="faiss::IndexHNSWFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexHNSWFlat10metric_argE">
<span id="_CPPv3N5faiss13IndexHNSWFlat10metric_argE"></span><span id="_CPPv2N5faiss13IndexHNSWFlat10metric_argE"></span><span id="faiss::IndexHNSWFlat::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss13IndexHNSWFlat10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11IndexHNSWPQE">
<span id="_CPPv3N5faiss11IndexHNSWPQE"></span><span id="_CPPv2N5faiss11IndexHNSWPQE"></span><span id="faiss::IndexHNSWPQ"></span><span class="target" id="structfaiss_1_1IndexHNSWPQ"></span><em class="property">struct </em><code class="sig-name descname">IndexHNSWPQ</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSWE" title="faiss::IndexHNSW">IndexHNSW</a><br /></dt>
<dd><em>#include &lt;IndexHNSW.h&gt;</em><p>PQ index topped with with a HNSW structure to access elements more efficiently. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexHNSWPQ13storage_idx_tE">
<span id="_CPPv3N5faiss11IndexHNSWPQ13storage_idx_tE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ13storage_idx_tE"></span><span id="faiss::IndexHNSWPQ::storage_idx_t"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad2da92276e4caf988c696f9a32981021"></span><em class="property">typedef </em>HNSW::storage_idx_t <code class="sig-name descname">storage_idx_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexHNSWPQ5idx_tE">
<span id="_CPPv3N5faiss11IndexHNSWPQ5idx_tE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexHNSWPQ11component_tE">
<span id="_CPPv3N5faiss11IndexHNSWPQ11component_tE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexHNSWPQ10distance_tE">
<span id="_CPPv3N5faiss11IndexHNSWPQ10distance_tE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ11IndexHNSWPQEv">
<span id="_CPPv3N5faiss11IndexHNSWPQ11IndexHNSWPQEv"></span><span id="_CPPv2N5faiss11IndexHNSWPQ11IndexHNSWPQEv"></span><span id="faiss::IndexHNSWPQ::IndexHNSWPQ"></span><span class="target" id="structfaiss_1_1IndexHNSWPQ_1ac8c54c9715e5fa2a44534d23581cf65b"></span><code class="sig-name descname">IndexHNSWPQ</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ11IndexHNSWPQEiii">
<span id="_CPPv3N5faiss11IndexHNSWPQ11IndexHNSWPQEiii"></span><span id="_CPPv2N5faiss11IndexHNSWPQ11IndexHNSWPQEiii"></span><span id="faiss::IndexHNSWPQ::IndexHNSWPQ__i.i.i"></span><span class="target" id="structfaiss_1_1IndexHNSWPQ_1a12e170ee06d954c267e5352b9b050bfd"></span><code class="sig-name descname">IndexHNSWPQ</code><span class="sig-paren">(</span>int <em>d</em>, int <em>pq_m</em>, int <em>M</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ5trainE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexHNSWPQ5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexHNSWPQ5trainE5idx_tPKf"></span><span id="faiss::IndexHNSWPQ::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSWPQ_1ae99b976eeb25717d10055b1786aa011c"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the storage if needed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ3addE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexHNSWPQ3addE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexHNSWPQ3addE5idx_tPKf"></span><span id="faiss::IndexHNSWPQ::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a04a761ce17d0f9040b3bc8a77bd627d9"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss11IndexHNSWPQ6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexHNSWPQ::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ae0ddf6ab4a54239a25d6277e21e8548e"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>entry point for search </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss11IndexHNSWPQ11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ11reconstructE5idx_tPf"></span><span id="faiss::IndexHNSWPQ::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a660e5c8de1ba9c71bf3fe1f3bf0c8812"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ5resetEv">
<span id="_CPPv3N5faiss11IndexHNSWPQ5resetEv"></span><span id="_CPPv2N5faiss11IndexHNSWPQ5resetEv"></span><span id="faiss::IndexHNSWPQ::reset"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad4b9f97d42e2521e01f8b60012985396"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ24shrink_level_0_neighborsEi">
<span id="_CPPv3N5faiss11IndexHNSWPQ24shrink_level_0_neighborsEi"></span><span id="_CPPv2N5faiss11IndexHNSWPQ24shrink_level_0_neighborsEi"></span><span id="faiss::IndexHNSWPQ::shrink_level_0_neighbors__i"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a37f79ff64b8aa13977c1b4dbccf3eec6"></span>void <code class="sig-name descname">shrink_level_0_neighbors</code><span class="sig-paren">(</span>int <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii">
<span id="_CPPv3NK5faiss11IndexHNSWPQ14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="faiss::IndexHNSWPQ::search_level_0__idx_t.floatCP.idx_t.storage_idx_tCP.floatCP.floatP.idx_tP.i.iC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2a98a87b1d348addb09b6ee1fbdd5692"></span>void <code class="sig-name descname">search_level_0</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss11IndexHNSWPQ13storage_idx_tE" title="faiss::IndexHNSWPQ::storage_idx_t">storage_idx_t</a> *<em>nearest</em>, <em class="property">const</em> float *<em>nearest_d</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> *<em>labels</em>, int <em>nprobe</em> = 1, int <em>search_type</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Perform search only on level 0, given the starting points for each vertex.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">search_type</span></code>: 1:perform one search per nprobe, 2: enqueue all entry points </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ26init_level_0_from_knngraphEiPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexHNSWPQ26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexHNSWPQ26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="faiss::IndexHNSWPQ::init_level_0_from_knngraph__i.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a9a86c58212f3f9cf88394f5297cba525"></span>void <code class="sig-name descname">init_level_0_from_knngraph</code><span class="sig-paren">(</span>int <em>k</em>, <em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t">
<span id="_CPPv3N5faiss11IndexHNSWPQ30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="_CPPv2N5faiss11IndexHNSWPQ30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="faiss::IndexHNSWPQ::init_level_0_from_entry_points__i.storage_idx_tCP.storage_idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ab9c75063090927f8f65d1896b6949af4"></span>void <code class="sig-name descname">init_level_0_from_entry_points</code><span class="sig-paren">(</span>int <em>npt</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss11IndexHNSWPQ13storage_idx_tE" title="faiss::IndexHNSWPQ::storage_idx_t">storage_idx_t</a> *<em>points</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss11IndexHNSWPQ13storage_idx_tE" title="faiss::IndexHNSWPQ::storage_idx_t">storage_idx_t</a> *<em>nearests</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ13reorder_linksEv">
<span id="_CPPv3N5faiss11IndexHNSWPQ13reorder_linksEv"></span><span id="_CPPv2N5faiss11IndexHNSWPQ13reorder_linksEv"></span><span id="faiss::IndexHNSWPQ::reorder_links"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a949f66fe1ed3f6256d0d84cf532fade8"></span>void <code class="sig-name descname">reorder_links</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ15link_singletonsEv">
<span id="_CPPv3N5faiss11IndexHNSWPQ15link_singletonsEv"></span><span id="_CPPv2N5faiss11IndexHNSWPQ15link_singletonsEv"></span><span id="faiss::IndexHNSWPQ::link_singletons"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2c0277b782f0f16ae33e30a1450bd8d3"></span>void <code class="sig-name descname">link_singletons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexHNSWPQ12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexHNSWPQ12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexHNSWPQ::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss11IndexHNSWPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexHNSWPQ::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexHNSWPQ6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexHNSWPQ::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWPQ10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11IndexHNSWPQ10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11IndexHNSWPQ10remove_idsERK10IDSelector"></span><span id="faiss::IndexHNSWPQ::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss11IndexHNSWPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexHNSWPQ::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss11IndexHNSWPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexHNSWPQ::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss11IndexHNSWPQ16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexHNSWPQ::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexHNSWPQ18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexHNSWPQ::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ21get_distance_computerEv">
<span id="_CPPv3NK5faiss11IndexHNSWPQ21get_distance_computerEv"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ21get_distance_computerEv"></span><span id="faiss::IndexHNSWPQ::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ12sa_code_sizeEv">
<span id="_CPPv3NK5faiss11IndexHNSWPQ12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ12sa_code_sizeEv"></span><span id="faiss::IndexHNSWPQ::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11IndexHNSWPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexHNSWPQ::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWPQ9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11IndexHNSWPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11IndexHNSWPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexHNSWPQ::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWPQ9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ4hnswE">
<span id="_CPPv3N5faiss11IndexHNSWPQ4hnswE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ4hnswE"></span><span id="faiss::IndexHNSWPQ::hnsw__HNSW"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a954090e224ed05cdec6f3ccab394c091"></span>HNSW <code class="sig-name descname">hnsw</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ10own_fieldsE">
<span id="_CPPv3N5faiss11IndexHNSWPQ10own_fieldsE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ10own_fieldsE"></span><span id="faiss::IndexHNSWPQ::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a96137d57aafb7275ebba0253d627a820"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ7storageE">
<span id="_CPPv3N5faiss11IndexHNSWPQ7storageE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ7storageE"></span><span id="faiss::IndexHNSWPQ::storage__IndexP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2122830e5b8b02057bde264b74da6f00"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">storage</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ26reconstruct_from_neighborsE">
<span id="_CPPv3N5faiss11IndexHNSWPQ26reconstruct_from_neighborsE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ26reconstruct_from_neighborsE"></span><span id="faiss::IndexHNSWPQ::reconstruct_from_neighbors__ReconstructFromNeighborsP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1aeb9cbfc543b6d9f1cae90a49148aee69"></span><a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighborsE" title="faiss::ReconstructFromNeighbors">ReconstructFromNeighbors</a> *<code class="sig-name descname">reconstruct_from_neighbors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ1dE">
<span id="_CPPv3N5faiss11IndexHNSWPQ1dE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ1dE"></span><span id="faiss::IndexHNSWPQ::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ6ntotalE">
<span id="_CPPv3N5faiss11IndexHNSWPQ6ntotalE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ6ntotalE"></span><span id="faiss::IndexHNSWPQ::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWPQ5idx_tE" title="faiss::IndexHNSWPQ::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ7verboseE">
<span id="_CPPv3N5faiss11IndexHNSWPQ7verboseE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ7verboseE"></span><span id="faiss::IndexHNSWPQ::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ10is_trainedE">
<span id="_CPPv3N5faiss11IndexHNSWPQ10is_trainedE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ10is_trainedE"></span><span id="faiss::IndexHNSWPQ::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ11metric_typeE">
<span id="_CPPv3N5faiss11IndexHNSWPQ11metric_typeE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ11metric_typeE"></span><span id="faiss::IndexHNSWPQ::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWPQ10metric_argE">
<span id="_CPPv3N5faiss11IndexHNSWPQ10metric_argE"></span><span id="_CPPv2N5faiss11IndexHNSWPQ10metric_argE"></span><span id="faiss::IndexHNSWPQ::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWPQ10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11IndexHNSWSQE">
<span id="_CPPv3N5faiss11IndexHNSWSQE"></span><span id="_CPPv2N5faiss11IndexHNSWSQE"></span><span id="faiss::IndexHNSWSQ"></span><span class="target" id="structfaiss_1_1IndexHNSWSQ"></span><em class="property">struct </em><code class="sig-name descname">IndexHNSWSQ</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSWE" title="faiss::IndexHNSW">IndexHNSW</a><br /></dt>
<dd><em>#include &lt;IndexHNSW.h&gt;</em><p>SQ index topped with with a HNSW structure to access elements more efficiently. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexHNSWSQ13storage_idx_tE">
<span id="_CPPv3N5faiss11IndexHNSWSQ13storage_idx_tE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ13storage_idx_tE"></span><span id="faiss::IndexHNSWSQ::storage_idx_t"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad2da92276e4caf988c696f9a32981021"></span><em class="property">typedef </em>HNSW::storage_idx_t <code class="sig-name descname">storage_idx_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexHNSWSQ5idx_tE">
<span id="_CPPv3N5faiss11IndexHNSWSQ5idx_tE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexHNSWSQ11component_tE">
<span id="_CPPv3N5faiss11IndexHNSWSQ11component_tE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexHNSWSQ10distance_tE">
<span id="_CPPv3N5faiss11IndexHNSWSQ10distance_tE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ11IndexHNSWSQEv">
<span id="_CPPv3N5faiss11IndexHNSWSQ11IndexHNSWSQEv"></span><span id="_CPPv2N5faiss11IndexHNSWSQ11IndexHNSWSQEv"></span><span id="faiss::IndexHNSWSQ::IndexHNSWSQ"></span><span class="target" id="structfaiss_1_1IndexHNSWSQ_1a16df6aa0bddba05d9d7e8e4b4fc9538f"></span><code class="sig-name descname">IndexHNSWSQ</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ11IndexHNSWSQEiN15ScalarQuantizer13QuantizerTypeEi10MetricType">
<span id="_CPPv3N5faiss11IndexHNSWSQ11IndexHNSWSQEiN15ScalarQuantizer13QuantizerTypeEi10MetricType"></span><span id="_CPPv2N5faiss11IndexHNSWSQ11IndexHNSWSQEiN15ScalarQuantizer13QuantizerTypeEi10MetricType"></span><span id="faiss::IndexHNSWSQ::IndexHNSWSQ__i.ScalarQuantizer::QuantizerType.i.MetricType"></span><span class="target" id="structfaiss_1_1IndexHNSWSQ_1ab52a14e5d65560ed0d8a342bc35a0fc3"></span><code class="sig-name descname">IndexHNSWSQ</code><span class="sig-paren">(</span>int <em>d</em>, ScalarQuantizer::QuantizerType <em>qtype</em>, int <em>M</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ3addE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexHNSWSQ3addE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexHNSWSQ3addE5idx_tPKf"></span><span id="faiss::IndexHNSWSQ::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a04a761ce17d0f9040b3bc8a77bd627d9"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ5trainE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexHNSWSQ5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexHNSWSQ5trainE5idx_tPKf"></span><span id="faiss::IndexHNSWSQ::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a40bc6d2c67545f95e322c63d68a47140"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the storage if needed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss11IndexHNSWSQ6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexHNSWSQ::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ae0ddf6ab4a54239a25d6277e21e8548e"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>entry point for search </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss11IndexHNSWSQ11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ11reconstructE5idx_tPf"></span><span id="faiss::IndexHNSWSQ::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a660e5c8de1ba9c71bf3fe1f3bf0c8812"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ5resetEv">
<span id="_CPPv3N5faiss11IndexHNSWSQ5resetEv"></span><span id="_CPPv2N5faiss11IndexHNSWSQ5resetEv"></span><span id="faiss::IndexHNSWSQ::reset"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ad4b9f97d42e2521e01f8b60012985396"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ24shrink_level_0_neighborsEi">
<span id="_CPPv3N5faiss11IndexHNSWSQ24shrink_level_0_neighborsEi"></span><span id="_CPPv2N5faiss11IndexHNSWSQ24shrink_level_0_neighborsEi"></span><span id="faiss::IndexHNSWSQ::shrink_level_0_neighbors__i"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a37f79ff64b8aa13977c1b4dbccf3eec6"></span>void <code class="sig-name descname">shrink_level_0_neighbors</code><span class="sig-paren">(</span>int <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii">
<span id="_CPPv3NK5faiss11IndexHNSWSQ14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ14search_level_0E5idx_tPKf5idx_tPK13storage_idx_tPKfPfP5idx_tii"></span><span id="faiss::IndexHNSWSQ::search_level_0__idx_t.floatCP.idx_t.storage_idx_tCP.floatCP.floatP.idx_tP.i.iC"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2a98a87b1d348addb09b6ee1fbdd5692"></span>void <code class="sig-name descname">search_level_0</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss11IndexHNSWSQ13storage_idx_tE" title="faiss::IndexHNSWSQ::storage_idx_t">storage_idx_t</a> *<em>nearest</em>, <em class="property">const</em> float *<em>nearest_d</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> *<em>labels</em>, int <em>nprobe</em> = 1, int <em>search_type</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Perform search only on level 0, given the starting points for each vertex.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">search_type</span></code>: 1:perform one search per nprobe, 2: enqueue all entry points </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ26init_level_0_from_knngraphEiPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexHNSWSQ26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexHNSWSQ26init_level_0_from_knngraphEiPKfPK5idx_t"></span><span id="faiss::IndexHNSWSQ::init_level_0_from_knngraph__i.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a9a86c58212f3f9cf88394f5297cba525"></span>void <code class="sig-name descname">init_level_0_from_knngraph</code><span class="sig-paren">(</span>int <em>k</em>, <em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t">
<span id="_CPPv3N5faiss11IndexHNSWSQ30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="_CPPv2N5faiss11IndexHNSWSQ30init_level_0_from_entry_pointsEiPK13storage_idx_tPK13storage_idx_t"></span><span id="faiss::IndexHNSWSQ::init_level_0_from_entry_points__i.storage_idx_tCP.storage_idx_tCP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1ab9c75063090927f8f65d1896b6949af4"></span>void <code class="sig-name descname">init_level_0_from_entry_points</code><span class="sig-paren">(</span>int <em>npt</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss11IndexHNSWSQ13storage_idx_tE" title="faiss::IndexHNSWSQ::storage_idx_t">storage_idx_t</a> *<em>points</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss11IndexHNSWSQ13storage_idx_tE" title="faiss::IndexHNSWSQ::storage_idx_t">storage_idx_t</a> *<em>nearests</em><span class="sig-paren">)</span><br /></dt>
<dd><p>alternative graph building </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ13reorder_linksEv">
<span id="_CPPv3N5faiss11IndexHNSWSQ13reorder_linksEv"></span><span id="_CPPv2N5faiss11IndexHNSWSQ13reorder_linksEv"></span><span id="faiss::IndexHNSWSQ::reorder_links"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a949f66fe1ed3f6256d0d84cf532fade8"></span>void <code class="sig-name descname">reorder_links</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ15link_singletonsEv">
<span id="_CPPv3N5faiss11IndexHNSWSQ15link_singletonsEv"></span><span id="_CPPv2N5faiss11IndexHNSWSQ15link_singletonsEv"></span><span id="faiss::IndexHNSWSQ::link_singletons"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2c0277b782f0f16ae33e30a1450bd8d3"></span>void <code class="sig-name descname">link_singletons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexHNSWSQ12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexHNSWSQ12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexHNSWSQ::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss11IndexHNSWSQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexHNSWSQ::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexHNSWSQ6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexHNSWSQ::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexHNSWSQ10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11IndexHNSWSQ10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11IndexHNSWSQ10remove_idsERK10IDSelector"></span><span id="faiss::IndexHNSWSQ::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss11IndexHNSWSQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexHNSWSQ::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss11IndexHNSWSQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexHNSWSQ::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss11IndexHNSWSQ16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexHNSWSQ::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexHNSWSQ18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexHNSWSQ::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ21get_distance_computerEv">
<span id="_CPPv3NK5faiss11IndexHNSWSQ21get_distance_computerEv"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ21get_distance_computerEv"></span><span id="faiss::IndexHNSWSQ::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ12sa_code_sizeEv">
<span id="_CPPv3NK5faiss11IndexHNSWSQ12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ12sa_code_sizeEv"></span><span id="faiss::IndexHNSWSQ::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11IndexHNSWSQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexHNSWSQ::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexHNSWSQ9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11IndexHNSWSQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11IndexHNSWSQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexHNSWSQ::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexHNSWSQ9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ4hnswE">
<span id="_CPPv3N5faiss11IndexHNSWSQ4hnswE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ4hnswE"></span><span id="faiss::IndexHNSWSQ::hnsw__HNSW"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a954090e224ed05cdec6f3ccab394c091"></span>HNSW <code class="sig-name descname">hnsw</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ10own_fieldsE">
<span id="_CPPv3N5faiss11IndexHNSWSQ10own_fieldsE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ10own_fieldsE"></span><span id="faiss::IndexHNSWSQ::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a96137d57aafb7275ebba0253d627a820"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ7storageE">
<span id="_CPPv3N5faiss11IndexHNSWSQ7storageE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ7storageE"></span><span id="faiss::IndexHNSWSQ::storage__IndexP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1a2122830e5b8b02057bde264b74da6f00"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">storage</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ26reconstruct_from_neighborsE">
<span id="_CPPv3N5faiss11IndexHNSWSQ26reconstruct_from_neighborsE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ26reconstruct_from_neighborsE"></span><span id="faiss::IndexHNSWSQ::reconstruct_from_neighbors__ReconstructFromNeighborsP"></span><span class="target" id="structfaiss_1_1IndexHNSW_1aeb9cbfc543b6d9f1cae90a49148aee69"></span><a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighborsE" title="faiss::ReconstructFromNeighbors">ReconstructFromNeighbors</a> *<code class="sig-name descname">reconstruct_from_neighbors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ1dE">
<span id="_CPPv3N5faiss11IndexHNSWSQ1dE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ1dE"></span><span id="faiss::IndexHNSWSQ::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ6ntotalE">
<span id="_CPPv3N5faiss11IndexHNSWSQ6ntotalE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ6ntotalE"></span><span id="faiss::IndexHNSWSQ::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss11IndexHNSWSQ5idx_tE" title="faiss::IndexHNSWSQ::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ7verboseE">
<span id="_CPPv3N5faiss11IndexHNSWSQ7verboseE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ7verboseE"></span><span id="faiss::IndexHNSWSQ::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ10is_trainedE">
<span id="_CPPv3N5faiss11IndexHNSWSQ10is_trainedE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ10is_trainedE"></span><span id="faiss::IndexHNSWSQ::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ11metric_typeE">
<span id="_CPPv3N5faiss11IndexHNSWSQ11metric_typeE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ11metric_typeE"></span><span id="faiss::IndexHNSWSQ::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexHNSWSQ10metric_argE">
<span id="_CPPv3N5faiss11IndexHNSWSQ10metric_argE"></span><span id="_CPPv2N5faiss11IndexHNSWSQ10metric_argE"></span><span id="faiss::IndexHNSWSQ::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss11IndexHNSWSQ10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I0EN5faiss19IndexIDMap2TemplateE">
<span id="_CPPv3I0EN5faiss19IndexIDMap2TemplateE"></span><span id="_CPPv2I0EN5faiss19IndexIDMap2TemplateE"></span>template&lt;typename <code class="sig-name descname">IndexT</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexIDMap2Template"></span><em class="property">struct </em><code class="sig-name descname">IndexIDMap2Template</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate">IndexIDMapTemplate</a>&lt;<a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss19IndexIDMap2TemplateE" title="faiss::IndexIDMap2Template::IndexT">IndexT</a>&gt;<br /></dt>
<dd><em>#include &lt;MetaIndexes.h&gt;</em><p>same as IndexIDMap but also provides an efficient reconstruction implementation via a 2-way index </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss19IndexIDMap2Template5idx_tE">
<span id="_CPPv3N5faiss19IndexIDMap2Template5idx_tE"></span><span id="_CPPv2N5faiss19IndexIDMap2Template5idx_tE"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1a4920bf4eb91addd483e85fd7c7691615"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss19IndexIDMap2TemplateE" title="faiss::IndexIDMap2Template::IndexT">IndexT</a>::idx_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19IndexIDMap2Template11component_tE">
<span id="_CPPv3N5faiss19IndexIDMap2Template11component_tE"></span><span id="_CPPv2N5faiss19IndexIDMap2Template11component_tE"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1aee4b15cf1872fb69d8a6adf25da3c253"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss19IndexIDMap2TemplateE" title="faiss::IndexIDMap2Template::IndexT">IndexT</a>::component_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19IndexIDMap2Template10distance_tE">
<span id="_CPPv3N5faiss19IndexIDMap2Template10distance_tE"></span><span id="_CPPv2N5faiss19IndexIDMap2Template10distance_tE"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1a33649b40957664a1437c385b0e77ccbe"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss19IndexIDMap2TemplateE" title="faiss::IndexIDMap2Template::IndexT">IndexT</a>::distance_t<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2Template19IndexIDMap2TemplateEP6IndexT">
<span id="_CPPv3N5faiss19IndexIDMap2Template19IndexIDMap2TemplateEP6IndexT"></span><span id="_CPPv2N5faiss19IndexIDMap2Template19IndexIDMap2TemplateEP6IndexT"></span><span id="faiss::IndexIDMap2Template::IndexIDMap2Template__IndexTP"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1a329f106e2ca6b71377083d5709f1b281"></span><code class="sig-name descname">IndexIDMap2Template</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss19IndexIDMap2TemplateE" title="faiss::IndexIDMap2Template::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2Template17construct_rev_mapEv">
<span id="_CPPv3N5faiss19IndexIDMap2Template17construct_rev_mapEv"></span><span id="_CPPv2N5faiss19IndexIDMap2Template17construct_rev_mapEv"></span><span id="faiss::IndexIDMap2Template::construct_rev_map"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1afbd7827eb740d19fb7f48f734cd05dd4"></span>void <code class="sig-name descname">construct_rev_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>make the rev_map from scratch </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2Template12add_with_idsE5idx_tPK11component_tPK5idx_t">
<span id="_CPPv3N5faiss19IndexIDMap2Template12add_with_idsE5idx_tPK11component_tPK5idx_t"></span><span id="_CPPv2N5faiss19IndexIDMap2Template12add_with_idsE5idx_tPK11component_tPK5idx_t"></span><span id="faiss::IndexIDMap2Template::add_with_ids__idx_t.component_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1a751cb1ab67ffa1de83260e7bc72f61fe"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template11component_tE" title="faiss::IndexIDMap2Template::component_t">component_t</a> *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2Template10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss19IndexIDMap2Template10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss19IndexIDMap2Template10remove_idsERK10IDSelector"></span><span id="faiss::IndexIDMap2Template::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1a8bd3808ffe012654687a584f5e553d50"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19IndexIDMap2Template11reconstructE5idx_tP11component_t">
<span id="_CPPv3NK5faiss19IndexIDMap2Template11reconstructE5idx_tP11component_t"></span><span id="_CPPv2NK5faiss19IndexIDMap2Template11reconstructE5idx_tP11component_t"></span><span id="faiss::IndexIDMap2Template::reconstruct__idx_t.component_tPC"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1a2c3380bb909224c37d536316134d348a"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> <em>key</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template11component_tE" title="faiss::IndexIDMap2Template::component_t">component_t</a> *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2TemplateD0Ev">
<span id="_CPPv3N5faiss19IndexIDMap2TemplateD0Ev"></span><span id="_CPPv2N5faiss19IndexIDMap2TemplateD0Ev"></span><span id="faiss::IndexIDMap2Template::~IndexIDMap2Template"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1ab1c1d72f24c58dc8b8cafe03c0a9e7a9"></span><code class="sig-name descname">~IndexIDMap2Template</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2Template19IndexIDMap2TemplateEv">
<span id="_CPPv3N5faiss19IndexIDMap2Template19IndexIDMap2TemplateEv"></span><span id="_CPPv2N5faiss19IndexIDMap2Template19IndexIDMap2TemplateEv"></span><span id="faiss::IndexIDMap2Template::IndexIDMap2Template"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1a99adaac68f041b2c149bdae6d57c805a"></span><code class="sig-name descname">IndexIDMap2Template</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2Template3addE5idx_tPK11component_t">
<span id="_CPPv3N5faiss19IndexIDMap2Template3addE5idx_tPK11component_t"></span><span id="_CPPv2N5faiss19IndexIDMap2Template3addE5idx_tPK11component_t"></span><span id="faiss::IndexIDMap2Template::add__idx_t.component_tCP"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a79498bca09342333e351bb6a4da8984d"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template11component_tE" title="faiss::IndexIDMap2Template::component_t">component_t</a> *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>this will fail. Use add_with_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19IndexIDMap2Template6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t">
<span id="_CPPv3NK5faiss19IndexIDMap2Template6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t"></span><span id="_CPPv2NK5faiss19IndexIDMap2Template6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t"></span><span id="faiss::IndexIDMap2Template::search__idx_t.component_tCP.idx_t.distance_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1aa81597506b85759ce5b5d291a3bc631d"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template11component_tE" title="faiss::IndexIDMap2Template::component_t">component_t</a> *<em>x</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> <em>k</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template10distance_tE" title="faiss::IndexIDMap2Template::distance_t">distance_t</a> *<em>distances</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2Template5trainE5idx_tPK11component_t">
<span id="_CPPv3N5faiss19IndexIDMap2Template5trainE5idx_tPK11component_t"></span><span id="_CPPv2N5faiss19IndexIDMap2Template5trainE5idx_tPK11component_t"></span><span id="faiss::IndexIDMap2Template::train__idx_t.component_tCP"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a6b9a5e978a69c99d93b6b8b2a3324f34"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template11component_tE" title="faiss::IndexIDMap2Template::component_t">component_t</a> *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexIDMap2Template5resetEv">
<span id="_CPPv3N5faiss19IndexIDMap2Template5resetEv"></span><span id="_CPPv2N5faiss19IndexIDMap2Template5resetEv"></span><span id="faiss::IndexIDMap2Template::reset"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a31821431b6a6b960ecb18b8c2ac46372"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19IndexIDMap2Template12range_searchE5idx_tPK11component_t10distance_tP17RangeSearchResult">
<span id="_CPPv3NK5faiss19IndexIDMap2Template12range_searchE5idx_tPK11component_t10distance_tP17RangeSearchResult"></span><span id="_CPPv2NK5faiss19IndexIDMap2Template12range_searchE5idx_tPK11component_t10distance_tP17RangeSearchResult"></span><span id="faiss::IndexIDMap2Template::range_search__idx_t.component_tCP.distance_t.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1aa38b6bb7586c783aa33ab3d00ce8484a"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template11component_tE" title="faiss::IndexIDMap2Template::component_t">component_t</a> *<em>x</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template10distance_tE" title="faiss::IndexIDMap2Template::distance_t">distance_t</a> <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19IndexIDMap2Template7rev_mapE">
<span id="_CPPv3N5faiss19IndexIDMap2Template7rev_mapE"></span><span id="_CPPv2N5faiss19IndexIDMap2Template7rev_mapE"></span><span id="faiss::IndexIDMap2Template::rev_map__std::unordered_map:idx_t.idx_t:"></span><span class="target" id="structfaiss_1_1IndexIDMap2Template_1ae11b9dae4245ace5eb2a28ad6a5fdff9"></span>std::unordered_map&lt;<a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a>&gt; <code class="sig-name descname">rev_map</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19IndexIDMap2Template5indexE">
<span id="_CPPv3N5faiss19IndexIDMap2Template5indexE"></span><span id="_CPPv2N5faiss19IndexIDMap2Template5indexE"></span><span id="faiss::IndexIDMap2Template::index__IndexTP"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a2b6e5fb115db333ad99e25de74864fdf"></span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss19IndexIDMap2TemplateE" title="faiss::IndexIDMap2Template::IndexT">IndexT</a> *<code class="sig-name descname">index</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19IndexIDMap2Template10own_fieldsE">
<span id="_CPPv3N5faiss19IndexIDMap2Template10own_fieldsE"></span><span id="_CPPv2N5faiss19IndexIDMap2Template10own_fieldsE"></span><span id="faiss::IndexIDMap2Template::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a6312303b535755beee7b487c99b07df1"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd><p>! the sub-index </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19IndexIDMap2Template6id_mapE">
<span id="_CPPv3N5faiss19IndexIDMap2Template6id_mapE"></span><span id="_CPPv2N5faiss19IndexIDMap2Template6id_mapE"></span><span id="faiss::IndexIDMap2Template::id_map__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a223985f0cd852b3ae7372506022662e0"></span>std::vector&lt;<a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss19IndexIDMap2Template5idx_tE" title="faiss::IndexIDMap2Template::idx_t">idx_t</a>&gt; <code class="sig-name descname">id_map</code><br /></dt>
<dd><p>! whether pointers are deleted in destructo </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I0EN5faiss18IndexIDMapTemplateE">
<span id="_CPPv3I0EN5faiss18IndexIDMapTemplateE"></span><span id="_CPPv2I0EN5faiss18IndexIDMapTemplateE"></span>template&lt;typename <code class="sig-name descname">IndexT</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexIDMapTemplate"></span><em class="property">struct </em><code class="sig-name descname">IndexIDMapTemplate</code> : <em class="property">public</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate::IndexT">IndexT</a><br /></dt>
<dd><em>#include &lt;MetaIndexes.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> that translates search results to ids </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIDMap2Template.html#structfaiss_1_1IndexIDMap2Template"><span class="std std-ref">faiss::IndexIDMap2Template&lt; IndexT &gt;</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate5idx_tE">
<span id="_CPPv3N5faiss18IndexIDMapTemplate5idx_tE"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate5idx_tE"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a17ec8eb583d40b4e312054ff01861aba"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate::IndexT">IndexT</a>::idx_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate11component_tE">
<span id="_CPPv3N5faiss18IndexIDMapTemplate11component_tE"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate11component_tE"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1ad3e369ada29b7412c33e509f687efb00"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate::IndexT">IndexT</a>::component_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate10distance_tE">
<span id="_CPPv3N5faiss18IndexIDMapTemplate10distance_tE"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate10distance_tE"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a79508a1aa0a0b898e2e975e42f343db7"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate::IndexT">IndexT</a>::distance_t<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate18IndexIDMapTemplateEP6IndexT">
<span id="_CPPv3N5faiss18IndexIDMapTemplate18IndexIDMapTemplateEP6IndexT"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate18IndexIDMapTemplateEP6IndexT"></span><span id="faiss::IndexIDMapTemplate::IndexIDMapTemplate__IndexTP"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a9f07bb23015ebc982e965d4b0d2325ac"></span><code class="sig-name descname">IndexIDMapTemplate</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate12add_with_idsE5idx_tPK11component_tPK5idx_t">
<span id="_CPPv3N5faiss18IndexIDMapTemplate12add_with_idsE5idx_tPK11component_tPK5idx_t"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate12add_with_idsE5idx_tPK11component_tPK5idx_t"></span><span id="faiss::IndexIDMapTemplate::add_with_ids__idx_t.component_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a4cc8ae99154bf436d1cbe70a4205bfcd"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate11component_tE" title="faiss::IndexIDMapTemplate::component_t">component_t</a> *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate3addE5idx_tPK11component_t">
<span id="_CPPv3N5faiss18IndexIDMapTemplate3addE5idx_tPK11component_t"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate3addE5idx_tPK11component_t"></span><span id="faiss::IndexIDMapTemplate::add__idx_t.component_tCP"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a79498bca09342333e351bb6a4da8984d"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate11component_tE" title="faiss::IndexIDMapTemplate::component_t">component_t</a> *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>this will fail. Use add_with_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIDMapTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t">
<span id="_CPPv3NK5faiss18IndexIDMapTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t"></span><span id="_CPPv2NK5faiss18IndexIDMapTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t"></span><span id="faiss::IndexIDMapTemplate::search__idx_t.component_tCP.idx_t.distance_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1aa81597506b85759ce5b5d291a3bc631d"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate11component_tE" title="faiss::IndexIDMapTemplate::component_t">component_t</a> *<em>x</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a> <em>k</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate10distance_tE" title="faiss::IndexIDMapTemplate::distance_t">distance_t</a> *<em>distances</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate5trainE5idx_tPK11component_t">
<span id="_CPPv3N5faiss18IndexIDMapTemplate5trainE5idx_tPK11component_t"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate5trainE5idx_tPK11component_t"></span><span id="faiss::IndexIDMapTemplate::train__idx_t.component_tCP"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a6b9a5e978a69c99d93b6b8b2a3324f34"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate11component_tE" title="faiss::IndexIDMapTemplate::component_t">component_t</a> *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate5resetEv">
<span id="_CPPv3N5faiss18IndexIDMapTemplate5resetEv"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate5resetEv"></span><span id="faiss::IndexIDMapTemplate::reset"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a31821431b6a6b960ecb18b8c2ac46372"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss18IndexIDMapTemplate10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate10remove_idsERK10IDSelector"></span><span id="faiss::IndexIDMapTemplate::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1afd6b245850e0d0d8019772e6a3eda069"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>remove ids adapted to <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">IndexFlat</span></a> </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIDMapTemplate12range_searchE5idx_tPK11component_t10distance_tP17RangeSearchResult">
<span id="_CPPv3NK5faiss18IndexIDMapTemplate12range_searchE5idx_tPK11component_t10distance_tP17RangeSearchResult"></span><span id="_CPPv2NK5faiss18IndexIDMapTemplate12range_searchE5idx_tPK11component_t10distance_tP17RangeSearchResult"></span><span id="faiss::IndexIDMapTemplate::range_search__idx_t.component_tCP.distance_t.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1aa38b6bb7586c783aa33ab3d00ce8484a"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate11component_tE" title="faiss::IndexIDMapTemplate::component_t">component_t</a> *<em>x</em>, <a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate10distance_tE" title="faiss::IndexIDMapTemplate::distance_t">distance_t</a> <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIDMapTemplateD0Ev">
<span id="_CPPv3N5faiss18IndexIDMapTemplateD0Ev"></span><span id="_CPPv2N5faiss18IndexIDMapTemplateD0Ev"></span><span id="faiss::IndexIDMapTemplate::~IndexIDMapTemplate"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a07bd2e93b6d9ad135f2c60acc38e3341"></span><code class="sig-name descname">~IndexIDMapTemplate</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate18IndexIDMapTemplateEv">
<span id="_CPPv3N5faiss18IndexIDMapTemplate18IndexIDMapTemplateEv"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate18IndexIDMapTemplateEv"></span><span id="faiss::IndexIDMapTemplate::IndexIDMapTemplate"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1adcc8e05b7bd4061f05a4fdde86a4c136"></span><code class="sig-name descname">IndexIDMapTemplate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate5indexE">
<span id="_CPPv3N5faiss18IndexIDMapTemplate5indexE"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate5indexE"></span><span id="faiss::IndexIDMapTemplate::index__IndexTP"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a2b6e5fb115db333ad99e25de74864fdf"></span><a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4I0EN5faiss18IndexIDMapTemplateE" title="faiss::IndexIDMapTemplate::IndexT">IndexT</a> *<code class="sig-name descname">index</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate10own_fieldsE">
<span id="_CPPv3N5faiss18IndexIDMapTemplate10own_fieldsE"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate10own_fieldsE"></span><span id="faiss::IndexIDMapTemplate::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a6312303b535755beee7b487c99b07df1"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd><p>! the sub-index </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIDMapTemplate6id_mapE">
<span id="_CPPv3N5faiss18IndexIDMapTemplate6id_mapE"></span><span id="_CPPv2N5faiss18IndexIDMapTemplate6id_mapE"></span><span id="faiss::IndexIDMapTemplate::id_map__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1IndexIDMapTemplate_1a223985f0cd852b3ae7372506022662e0"></span>std::vector&lt;<a class="reference internal" href="../file/MetaIndexes_8h.html#_CPPv4N5faiss18IndexIDMapTemplate5idx_tE" title="faiss::IndexIDMapTemplate::idx_t">idx_t</a>&gt; <code class="sig-name descname">id_map</code><br /></dt>
<dd><p>! whether pointers are deleted in destructo </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss8IndexIVFE">
<span id="_CPPv3N5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss8IndexIVFE"></span><span id="faiss::IndexIVF"></span><span class="target" id="structfaiss_1_1IndexIVF"></span><em class="property">struct </em><code class="sig-name descname">IndexIVF</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss15Level1QuantizerE" title="faiss::Level1Quantizer">Level1Quantizer</a><br /></dt>
<dd><em>#include &lt;IndexIVF.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> based on a inverted file (IVF)</p>
<p>In the inverted file, the quantizer (an <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> instance) provides a quantization index for each vector to be added. The quantization index maps to a list (aka inverted list or posting list), where the id of the vector is stored.</p>
<p>The inverted list object is required only after trainng. If none is set externally, an <a class="reference internal" href="../struct/structfaiss_1_1ArrayInvertedLists.html#structfaiss_1_1ArrayInvertedLists"><span class="std std-ref">ArrayInvertedLists</span></a> is used automatically.</p>
<p>At search time, the vector to be searched is also quantized, and only the list corresponding to the quantization index is searched. This speeds up the search by making it non-exhaustive. This can be relaxed using multi-probe search: a few (nprobe) quantization indices are selected and several inverted lists are visited.</p>
<p>Sub-classes implement a post-filtering of the index that refines the distance estimation from the query to databse vectors. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFFlat.html#structfaiss_1_1IndexIVFFlat"><span class="std std-ref">faiss::IndexIVFFlat</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFPQ.html#structfaiss_1_1IndexIVFPQ"><span class="std std-ref">faiss::IndexIVFPQ</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFPQFastScan.html#structfaiss_1_1IndexIVFPQFastScan"><span class="std std-ref">faiss::IndexIVFPQFastScan</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFScalarQuantizer.html#structfaiss_1_1IndexIVFScalarQuantizer"><span class="std std-ref">faiss::IndexIVFScalarQuantizer</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVFSpectralHash"><span class="std std-ref">faiss::IndexIVFSpectralHash</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss8IndexIVF5idx_tE">
<span id="_CPPv3N5faiss8IndexIVF5idx_tE"></span><span id="_CPPv2N5faiss8IndexIVF5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss8IndexIVF11component_tE">
<span id="_CPPv3N5faiss8IndexIVF11component_tE"></span><span id="_CPPv2N5faiss8IndexIVF11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss8IndexIVF11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss8IndexIVF10distance_tE">
<span id="_CPPv3N5faiss8IndexIVF10distance_tE"></span><span id="_CPPv2N5faiss8IndexIVF10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss8IndexIVF10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF8IndexIVFEP5Index6size_t6size_t6size_t10MetricType">
<span id="_CPPv3N5faiss8IndexIVF8IndexIVFEP5Index6size_t6size_t6size_t10MetricType"></span><span id="_CPPv2N5faiss8IndexIVF8IndexIVFEP5Index6size_t6size_t6size_t10MetricType"></span><span id="faiss::IndexIVF::IndexIVF__IndexP.s.s.s.MetricType"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7077b7e60e250b9a84c49ff38205bbbf"></span><code class="sig-name descname">IndexIVF</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist</em>, size_t <em>code_size</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd><p>The Inverted file takes a quantizer (an <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a>) on input, which implements the function mapping a vector to a list identifier. The pointer is borrowed: the quantizer should not be deleted while the <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a> is in use. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF5resetEv">
<span id="_CPPv3N5faiss8IndexIVF5resetEv"></span><span id="_CPPv2N5faiss8IndexIVF5resetEv"></span><span id="faiss::IndexIVF::reset"></span><span class="target" id="structfaiss_1_1IndexIVF_1a47a3b7665e9d2be41c6d3b2e9144b73f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF5trainE5idx_tPKf">
<span id="_CPPv3N5faiss8IndexIVF5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss8IndexIVF5trainE5idx_tPKf"></span><span id="faiss::IndexIVF::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7a1d5eec194db0977b2318c6ed6a2b86"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF3addE5idx_tPKf">
<span id="_CPPv3N5faiss8IndexIVF3addE5idx_tPKf"></span><span id="_CPPv2N5faiss8IndexIVF3addE5idx_tPKf"></span><span id="faiss::IndexIVF::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a821002a9d3a1a74dc8d6f6072eca4075"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Calls add_with_ids with NULL ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss8IndexIVF12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss8IndexIVF12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexIVF::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a14e75169bddcd0251134821416b060a1"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>default implementation that calls encode_vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb">
<span id="_CPPv3NK5faiss8IndexIVF14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="_CPPv2NK5faiss8IndexIVF14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="faiss::IndexIVF::encode_vectors__idx_t.floatCP.idx_tCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aee623ce0ac64adf360c9447197747e55"></span>void <code class="sig-name descname">encode_vectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>list_nos</em>, uint8_t *<em>codes</em>, bool <em>include_listno</em> = false<span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Encodes a set of vectors as they would appear in the inverted lists</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list_nos</span></code>: inverted list ids as returned by the quantizer (size n). -1s are ignored. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes, size n * code_size </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_listno</span></code>: include the list ids in the code (in this case add ceil(log8(nlist)) to the code size) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF14train_residualE5idx_tPKf">
<span id="_CPPv3N5faiss8IndexIVF14train_residualE5idx_tPKf"></span><span id="_CPPv2N5faiss8IndexIVF14train_residualE5idx_tPKf"></span><span id="faiss::IndexIVF::train_residual__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada8e45a72f1de4fb9116efc867f6a0a8"></span>void <code class="sig-name descname">train_residual</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sub-classes that encode the residuals can train their encoders here does nothing by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss8IndexIVF18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss8IndexIVF18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVF::search_preassigned__idx_t.floatCP.idx_t.idx_tCP.floatCP.floatP.idx_tP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> float *<em>centroid_dis</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. The default implementation uses InvertedListScanners to do the search.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: search stats to be updated (can be null) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss8IndexIVF6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss8IndexIVF6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexIVF::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae2fd47b7d52603659e269aa8f6abb613"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss8IndexIVF12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss8IndexIVF12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexIVF::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5b7b4b3dc5ea40f7076a00c81cc83d66"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss8IndexIVF24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss8IndexIVF24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVF::range_search_preassigned__idx_t.floatCP.float.idx_tCP.floatCP.RangeSearchResultP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae51e8f23f3283feb2f262d791f2f167c"></span>void <code class="sig-name descname">range_search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>coarse_dis</em>, RangeSearchResult *<em>result</em>, bool <em>store_pairs</em> = false, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss8IndexIVF23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss8IndexIVF23get_InvertedListScannerEb"></span><span id="faiss::IndexIVF::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexIVF_1affd8641449d109b3e436a009af50111d"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScannerE" title="faiss::InvertedListScanner">InvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em> = false<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>get a scanner for this index (store_pairs means ignore labels) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss8IndexIVF11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss8IndexIVF11reconstructE5idx_tPf"></span><span id="faiss::IndexIVF::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>reconstruct a vector. Works only if maintain_direct_map is set to 1 or 2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF14update_vectorsEiPK5idx_tPKf">
<span id="_CPPv3N5faiss8IndexIVF14update_vectorsEiPK5idx_tPKf"></span><span id="_CPPv2N5faiss8IndexIVF14update_vectorsEiPK5idx_tPKf"></span><span id="faiss::IndexIVF::update_vectors__i.idx_tCP.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a297563f801130e43485c1818b0e13901"></span>void <code class="sig-name descname">update_vectors</code><span class="sig-paren">(</span>int <em>nv</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>idx</em>, <em class="property">const</em> float *<em>v</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Update a subset of vectors.</p>
<p>The index must have a direct_map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nv</span></code>: nb of vectors to update </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx</span></code>: vector indices to update, size nv </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: vectors of new values, size nv*d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss8IndexIVF13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss8IndexIVF13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexIVF::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7cc286dfbd8bfd43ea4b22173e28231c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss8IndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss8IndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexIVF::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a77aec24920024a09f7661790d9534c10"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF23reconstruct_from_offsetE7int64_t7int64_tPf">
<span id="_CPPv3NK5faiss8IndexIVF23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="_CPPv2NK5faiss8IndexIVF23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="faiss::IndexIVF::reconstruct_from_offset__int64_t.int64_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ab02ee6dbd2a3c6a2144fc4ad8f7afe4d"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span>int64_t <em>list_no</em>, int64_t <em>offset</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a vector given the location in terms of (inv list index + inv list offset) instead of the id.</p>
<p>Useful for reconstructing when the direct_map is not maintained and the inv list offset is computed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a> with <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss8IndexIVF10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss8IndexIVF10remove_idsERK10IDSelector"></span><span id="faiss::IndexIVF::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f4d5e3d38ed2db026780522ffb85b9d"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF26check_compatible_for_mergeERK8IndexIVF">
<span id="_CPPv3NK5faiss8IndexIVF26check_compatible_for_mergeERK8IndexIVF"></span><span id="_CPPv2NK5faiss8IndexIVF26check_compatible_for_mergeERK8IndexIVF"></span><span id="faiss::IndexIVF::check_compatible_for_merge__IndexIVFCRC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a76d85d286f3b58bba42b1d3c73dc9620"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>check that the two indexes are compatible (ie, they are trained in the same way and have the same parameters). Otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF10merge_fromER8IndexIVF5idx_t">
<span id="_CPPv3N5faiss8IndexIVF10merge_fromER8IndexIVF5idx_t"></span><span id="_CPPv2N5faiss8IndexIVF10merge_fromER8IndexIVF5idx_t"></span><span id="faiss::IndexIVF::merge_from__IndexIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa38b33056ccb93cd4a2852eb26227899"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF14copy_subset_toER8IndexIVFi5idx_t5idx_t">
<span id="_CPPv3NK5faiss8IndexIVF14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="_CPPv2NK5faiss8IndexIVF14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="faiss::IndexIVF::copy_subset_to__IndexIVFR.i.idx_t.idx_tC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"></span>void <code class="sig-name descname">copy_subset_to</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, int <em>subset_type</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>a1</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>a2</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>copy a subset of the entries index to the other index</p>
<p>if subset_type == 0: copies ids in [a1, a2) if subset_type == 1: copies ids if id % a1 == a2 if subset_type == 2: copies inverted lists such that a1 elements are left before and a2 elements are after </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVFD0Ev">
<span id="_CPPv3N5faiss8IndexIVFD0Ev"></span><span id="_CPPv2N5faiss8IndexIVFD0Ev"></span><span id="faiss::IndexIVF::~IndexIVF"></span><span class="target" id="structfaiss_1_1IndexIVF_1ade600c4def9726b51f08d4e66263b688"></span><code class="sig-name descname">~IndexIVF</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss8IndexIVF13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss8IndexIVF13get_list_sizeE6size_t"></span><span id="faiss::IndexIVF::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a521b6f7be5cacd0a1707e42ae9dfd018"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF15make_direct_mapEb">
<span id="_CPPv3N5faiss8IndexIVF15make_direct_mapEb"></span><span id="_CPPv2N5faiss8IndexIVF15make_direct_mapEb"></span><span id="faiss::IndexIVF::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1c11ce77f459e2ab3e5d9a4c2263ad89"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss8IndexIVF19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss8IndexIVF19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexIVF::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1a896475b88eff587c434dd796afa55a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss8IndexIVF16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss8IndexIVF16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexIVF::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4eb943aeb7df30d44ad9b665452bfcf7"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><br /></dt>
<dd><p>replace the inverted lists, old one is deallocated if own_invlists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF12sa_code_sizeEv">
<span id="_CPPv3NK5faiss8IndexIVF12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss8IndexIVF12sa_code_sizeEv"></span><span id="faiss::IndexIVF::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss8IndexIVF9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss8IndexIVF9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVF::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a9d28b314ee008589eb41ce2823a088b6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF8IndexIVFEv">
<span id="_CPPv3N5faiss8IndexIVF8IndexIVFEv"></span><span id="_CPPv2N5faiss8IndexIVF8IndexIVFEv"></span><span id="faiss::IndexIVF::IndexIVF"></span><span class="target" id="structfaiss_1_1IndexIVF_1a74c689174e4a82a35512cafdd0878158"></span><code class="sig-name descname">IndexIVF</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss8IndexIVF6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss8IndexIVF6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexIVF::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexIVF6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss8IndexIVF16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss8IndexIVF16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexIVF::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexIVF16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss8IndexIVF18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss8IndexIVF18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexIVF::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexIVF18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF21get_distance_computerEv">
<span id="_CPPv3NK5faiss8IndexIVF21get_distance_computerEv"></span><span id="_CPPv2NK5faiss8IndexIVF21get_distance_computerEv"></span><span id="faiss::IndexIVF::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexIVF21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss8IndexIVF9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss8IndexIVF9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVF::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexIVF9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexIVF8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss8IndexIVF8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss8IndexIVF8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::IndexIVF::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss8IndexIVF16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss8IndexIVF16coarse_code_sizeEv"></span><span id="faiss::IndexIVF::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss8IndexIVF13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss8IndexIVF13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::IndexIVF::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexIVF13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss8IndexIVF13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss8IndexIVF13decode_listnoEPK7uint8_t"></span><span id="faiss::IndexIVF::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF8invlistsE">
<span id="_CPPv3N5faiss8IndexIVF8invlistsE"></span><span id="_CPPv2N5faiss8IndexIVF8invlistsE"></span><span id="faiss::IndexIVF::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa0e8fc5e04cbd8e0dde61f98bc7dd0bc"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF12own_invlistsE">
<span id="_CPPv3N5faiss8IndexIVF12own_invlistsE"></span><span id="_CPPv2N5faiss8IndexIVF12own_invlistsE"></span><span id="faiss::IndexIVF::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5743b18d78fe1b9910d8ff8670f207d7"></span>bool <code class="sig-name descname">own_invlists</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF9code_sizeE">
<span id="_CPPv3N5faiss8IndexIVF9code_sizeE"></span><span id="_CPPv2N5faiss8IndexIVF9code_sizeE"></span><span id="faiss::IndexIVF::code_size__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a46d1aeddb60643c5b3f096147c3e028f"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF6nprobeE">
<span id="_CPPv3N5faiss8IndexIVF6nprobeE"></span><span id="_CPPv2N5faiss8IndexIVF6nprobeE"></span><span id="faiss::IndexIVF::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1affed235eadf27a13d753ee4d33a1dc58"></span>size_t <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF9max_codesE">
<span id="_CPPv3N5faiss8IndexIVF9max_codesE"></span><span id="_CPPv2N5faiss8IndexIVF9max_codesE"></span><span id="faiss::IndexIVF::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f2dd34f66f8770acba74a0a591fa4a8"></span>size_t <code class="sig-name descname">max_codes</code><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF13parallel_modeE">
<span id="_CPPv3N5faiss8IndexIVF13parallel_modeE"></span><span id="_CPPv2N5faiss8IndexIVF13parallel_modeE"></span><span id="faiss::IndexIVF::parallel_mode__i"></span><span class="target" id="structfaiss_1_1IndexIVF_1a244ec2067da495ff1493687e0048ae02"></span>int <code class="sig-name descname">parallel_mode</code><br /></dt>
<dd><p>Parallel mode determines how queries are parallelized with OpenMP</p>
<p>0 (default): split over queries 1: parallelize over inverted lists 2: parallelize over both 3: split over queries with a finer granularity</p>
<p>PARALLEL_MODE_NO_HEAP_INIT: binary or with the previous to prevent the heap to be initialized and finalized </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF26PARALLEL_MODE_NO_HEAP_INITE">
<span id="_CPPv3N5faiss8IndexIVF26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="_CPPv2N5faiss8IndexIVF26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="faiss::IndexIVF::PARALLEL_MODE_NO_HEAP_INIT__iC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa221f301cca11e1ab59d6c12e08a0240"></span><em class="property">const</em> int <code class="sig-name descname">PARALLEL_MODE_NO_HEAP_INIT</code> = 1024<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF10direct_mapE">
<span id="_CPPv3N5faiss8IndexIVF10direct_mapE"></span><span id="_CPPv2N5faiss8IndexIVF10direct_mapE"></span><span id="faiss::IndexIVF::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae1267a1770ef6c8fa111891110e6fa69"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><br /></dt>
<dd><p>optional map that maps back ids to invlist entries. This enables <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF1dE">
<span id="_CPPv3N5faiss8IndexIVF1dE"></span><span id="_CPPv2N5faiss8IndexIVF1dE"></span><span id="faiss::IndexIVF::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss8IndexIVF1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF6ntotalE">
<span id="_CPPv3N5faiss8IndexIVF6ntotalE"></span><span id="_CPPv2N5faiss8IndexIVF6ntotalE"></span><span id="faiss::IndexIVF::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss8IndexIVF5idx_tE" title="faiss::IndexIVF::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss8IndexIVF6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF7verboseE">
<span id="_CPPv3N5faiss8IndexIVF7verboseE"></span><span id="_CPPv2N5faiss8IndexIVF7verboseE"></span><span id="faiss::IndexIVF::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss8IndexIVF7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF10is_trainedE">
<span id="_CPPv3N5faiss8IndexIVF10is_trainedE"></span><span id="_CPPv2N5faiss8IndexIVF10is_trainedE"></span><span id="faiss::IndexIVF::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss8IndexIVF10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF11metric_typeE">
<span id="_CPPv3N5faiss8IndexIVF11metric_typeE"></span><span id="_CPPv2N5faiss8IndexIVF11metric_typeE"></span><span id="faiss::IndexIVF::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss8IndexIVF11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF10metric_argE">
<span id="_CPPv3N5faiss8IndexIVF10metric_argE"></span><span id="_CPPv2N5faiss8IndexIVF10metric_argE"></span><span id="faiss::IndexIVF::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss8IndexIVF10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF9quantizerE">
<span id="_CPPv3N5faiss8IndexIVF9quantizerE"></span><span id="_CPPv2N5faiss8IndexIVF9quantizerE"></span><span id="faiss::IndexIVF::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF5nlistE">
<span id="_CPPv3N5faiss8IndexIVF5nlistE"></span><span id="_CPPv2N5faiss8IndexIVF5nlistE"></span><span id="faiss::IndexIVF::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss8IndexIVF22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss8IndexIVF22quantizer_trains_aloneE"></span><span id="faiss::IndexIVF::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF10own_fieldsE">
<span id="_CPPv3N5faiss8IndexIVF10own_fieldsE"></span><span id="_CPPv2N5faiss8IndexIVF10own_fieldsE"></span><span id="faiss::IndexIVF::own_fields__b"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab688c629cd42122d73517078b87f483d"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF2cpE">
<span id="_CPPv3N5faiss8IndexIVF2cpE"></span><span id="_CPPv2N5faiss8IndexIVF2cpE"></span><span id="faiss::IndexIVF::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexIVF16clustering_indexE">
<span id="_CPPv3N5faiss8IndexIVF16clustering_indexE"></span><span id="_CPPv2N5faiss8IndexIVF16clustering_indexE"></span><span id="faiss::IndexIVF::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss12IndexIVFFlatE">
<span id="_CPPv3N5faiss12IndexIVFFlatE"></span><span id="_CPPv2N5faiss12IndexIVFFlatE"></span><span id="faiss::IndexIVFFlat"></span><span class="target" id="structfaiss_1_1IndexIVFFlat"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a><br /></dt>
<dd><em>#include &lt;IndexIVFFlat.h&gt;</em><p>Inverted file with stored vectors. Here the inverted file pre-selects the vectors to be searched, but they are not otherwise encoded, the code array just contains the raw float entries. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFFlatDedup.html#structfaiss_1_1IndexIVFFlatDedup"><span class="std std-ref">faiss::IndexIVFFlatDedup</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss12IndexIVFFlat5idx_tE">
<span id="_CPPv3N5faiss12IndexIVFFlat5idx_tE"></span><span id="_CPPv2N5faiss12IndexIVFFlat5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss12IndexIVFFlat11component_tE">
<span id="_CPPv3N5faiss12IndexIVFFlat11component_tE"></span><span id="_CPPv2N5faiss12IndexIVFFlat11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss12IndexIVFFlat10distance_tE">
<span id="_CPPv3N5faiss12IndexIVFFlat10distance_tE"></span><span id="_CPPv2N5faiss12IndexIVFFlat10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat12IndexIVFFlatEP5Index6size_t6size_t10MetricType">
<span id="_CPPv3N5faiss12IndexIVFFlat12IndexIVFFlatEP5Index6size_t6size_t10MetricType"></span><span id="_CPPv2N5faiss12IndexIVFFlat12IndexIVFFlatEP5Index6size_t6size_t10MetricType"></span><span id="faiss::IndexIVFFlat::IndexIVFFlat__IndexP.s.s.MetricType"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1ac7188ca1359dee33ccc8ba4233a8c078"></span><code class="sig-name descname">IndexIVFFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist_</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat8add_coreE5idx_tPKfPK7int64_tPK7int64_t">
<span id="_CPPv3N5faiss12IndexIVFFlat8add_coreE5idx_tPKfPK7int64_tPK7int64_t"></span><span id="_CPPv2N5faiss12IndexIVFFlat8add_coreE5idx_tPKfPK7int64_tPK7int64_t"></span><span id="faiss::IndexIVFFlat::add_core__idx_t.floatCP.int64_tCP.int64_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a6b2a0d888235330d9192d267c260f338"></span>void <code class="sig-name descname">add_core</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> int64_t *<em>xids</em>, <em class="property">const</em> int64_t *<em>precomputed_idx</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as add_with_ids, with precomputed coarse quantizer </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss12IndexIVFFlat12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss12IndexIVFFlat12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexIVFFlat::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a05824d67c11ce74a86fc32fbd091fe34"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>implemented for all IndexIVF* classes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb">
<span id="_CPPv3NK5faiss12IndexIVFFlat14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="_CPPv2NK5faiss12IndexIVFFlat14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="faiss::IndexIVFFlat::encode_vectors__idx_t.floatCP.idx_tCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a7dc16a5d92348098da7f50324a98e8e9"></span>void <code class="sig-name descname">encode_vectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>list_nos</em>, uint8_t *<em>codes</em>, bool <em>include_listnos</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Encodes a set of vectors as they would appear in the inverted lists</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list_nos</span></code>: inverted list ids as returned by the quantizer (size n). -1s are ignored. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes, size n * code_size </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_listno</span></code>: include the list ids in the code (in this case add ceil(log8(nlist)) to the code size) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss12IndexIVFFlat23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss12IndexIVFFlat23get_InvertedListScannerEb"></span><span id="faiss::IndexIVFFlat::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a40e775888571dab23eef954651e802d7"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScannerE" title="faiss::InvertedListScanner">InvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get a scanner for this index (store_pairs means ignore labels) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat23reconstruct_from_offsetE7int64_t7int64_tPf">
<span id="_CPPv3NK5faiss12IndexIVFFlat23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="_CPPv2NK5faiss12IndexIVFFlat23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="faiss::IndexIVFFlat::reconstruct_from_offset__int64_t.int64_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a12194f155176f68a779c1a41a1b2c2fb"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span>int64_t <em>list_no</em>, int64_t <em>offset</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a vector given the location in terms of (inv list index + inv list offset) instead of the id.</p>
<p>Useful for reconstructing when the direct_map is not maintained and the inv list offset is computed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a> with <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss12IndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss12IndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFFlat::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a1464960b17488f8ee8ae600c07f7b72c"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat12IndexIVFFlatEv">
<span id="_CPPv3N5faiss12IndexIVFFlat12IndexIVFFlatEv"></span><span id="_CPPv2N5faiss12IndexIVFFlat12IndexIVFFlatEv"></span><span id="faiss::IndexIVFFlat::IndexIVFFlat"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a22b8eebcf0685fc484886913f4296382"></span><code class="sig-name descname">IndexIVFFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat5resetEv">
<span id="_CPPv3N5faiss12IndexIVFFlat5resetEv"></span><span id="_CPPv2N5faiss12IndexIVFFlat5resetEv"></span><span id="faiss::IndexIVFFlat::reset"></span><span class="target" id="structfaiss_1_1IndexIVF_1a47a3b7665e9d2be41c6d3b2e9144b73f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat5resetEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat5trainE5idx_tPKf">
<span id="_CPPv3N5faiss12IndexIVFFlat5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss12IndexIVFFlat5trainE5idx_tPKf"></span><span id="faiss::IndexIVFFlat::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7a1d5eec194db0977b2318c6ed6a2b86"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat3addE5idx_tPKf">
<span id="_CPPv3N5faiss12IndexIVFFlat3addE5idx_tPKf"></span><span id="_CPPv2N5faiss12IndexIVFFlat3addE5idx_tPKf"></span><span id="faiss::IndexIVFFlat::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a821002a9d3a1a74dc8d6f6072eca4075"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat3addE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Calls add_with_ids with NULL ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat14train_residualE5idx_tPKf">
<span id="_CPPv3N5faiss12IndexIVFFlat14train_residualE5idx_tPKf"></span><span id="_CPPv2N5faiss12IndexIVFFlat14train_residualE5idx_tPKf"></span><span id="faiss::IndexIVFFlat::train_residual__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada8e45a72f1de4fb9116efc867f6a0a8"></span>void <code class="sig-name descname">train_residual</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat14train_residualE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Sub-classes that encode the residuals can train their encoders here does nothing by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss12IndexIVFFlat18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss12IndexIVFFlat18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFFlat::search_preassigned__idx_t.floatCP.idx_t.idx_tCP.floatCP.floatP.idx_tP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> float *<em>centroid_dis</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. The default implementation uses InvertedListScanners to do the search.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: search stats to be updated (can be null) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexIVFFlat::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae2fd47b7d52603659e269aa8f6abb613"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat6searchE5idx_tPKf5idx_tPfP5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss12IndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss12IndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexIVFFlat::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5b7b4b3dc5ea40f7076a00c81cc83d66"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss12IndexIVFFlat24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss12IndexIVFFlat24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFFlat::range_search_preassigned__idx_t.floatCP.float.idx_tCP.floatCP.RangeSearchResultP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae51e8f23f3283feb2f262d791f2f167c"></span>void <code class="sig-name descname">range_search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>coarse_dis</em>, RangeSearchResult *<em>result</em>, bool <em>store_pairs</em> = false, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss12IndexIVFFlat11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss12IndexIVFFlat11reconstructE5idx_tPf"></span><span id="faiss::IndexIVFFlat::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reconstruct a vector. Works only if maintain_direct_map is set to 1 or 2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat14update_vectorsEiPK5idx_tPKf">
<span id="_CPPv3N5faiss12IndexIVFFlat14update_vectorsEiPK5idx_tPKf"></span><span id="_CPPv2N5faiss12IndexIVFFlat14update_vectorsEiPK5idx_tPKf"></span><span id="faiss::IndexIVFFlat::update_vectors__i.idx_tCP.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a297563f801130e43485c1818b0e13901"></span>void <code class="sig-name descname">update_vectors</code><span class="sig-paren">(</span>int <em>nv</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>idx</em>, <em class="property">const</em> float *<em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat14update_vectorsEiPK5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Update a subset of vectors.</p>
<p>The index must have a direct_map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nv</span></code>: nb of vectors to update </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx</span></code>: vector indices to update, size nv </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: vectors of new values, size nv*d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss12IndexIVFFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss12IndexIVFFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexIVFFlat::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7cc286dfbd8bfd43ea4b22173e28231c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss12IndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss12IndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexIVFFlat::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a77aec24920024a09f7661790d9534c10"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss12IndexIVFFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss12IndexIVFFlat10remove_idsERK10IDSelector"></span><span id="faiss::IndexIVFFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f4d5e3d38ed2db026780522ffb85b9d"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat26check_compatible_for_mergeERK8IndexIVF">
<span id="_CPPv3NK5faiss12IndexIVFFlat26check_compatible_for_mergeERK8IndexIVF"></span><span id="_CPPv2NK5faiss12IndexIVFFlat26check_compatible_for_mergeERK8IndexIVF"></span><span id="faiss::IndexIVFFlat::check_compatible_for_merge__IndexIVFCRC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a76d85d286f3b58bba42b1d3c73dc9620"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat26check_compatible_for_mergeERK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>check that the two indexes are compatible (ie, they are trained in the same way and have the same parameters). Otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat10merge_fromER8IndexIVF5idx_t">
<span id="_CPPv3N5faiss12IndexIVFFlat10merge_fromER8IndexIVF5idx_t"></span><span id="_CPPv2N5faiss12IndexIVFFlat10merge_fromER8IndexIVF5idx_t"></span><span id="faiss::IndexIVFFlat::merge_from__IndexIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa38b33056ccb93cd4a2852eb26227899"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat10merge_fromER8IndexIVF5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat14copy_subset_toER8IndexIVFi5idx_t5idx_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="faiss::IndexIVFFlat::copy_subset_to__IndexIVFR.i.idx_t.idx_tC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"></span>void <code class="sig-name descname">copy_subset_to</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, int <em>subset_type</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>a1</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>a2</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat14copy_subset_toER8IndexIVFi5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>copy a subset of the entries index to the other index</p>
<p>if subset_type == 0: copies ids in [a1, a2) if subset_type == 1: copies ids if id % a1 == a2 if subset_type == 2: copies inverted lists such that a1 elements are left before and a2 elements are after </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat13get_list_sizeE6size_t"></span><span id="faiss::IndexIVFFlat::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a521b6f7be5cacd0a1707e42ae9dfd018"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat13get_list_sizeE6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat15make_direct_mapEb">
<span id="_CPPv3N5faiss12IndexIVFFlat15make_direct_mapEb"></span><span id="_CPPv2N5faiss12IndexIVFFlat15make_direct_mapEb"></span><span id="faiss::IndexIVFFlat::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1c11ce77f459e2ab3e5d9a4c2263ad89"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat15make_direct_mapEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss12IndexIVFFlat19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss12IndexIVFFlat19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexIVFFlat::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1a896475b88eff587c434dd796afa55a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat19set_direct_map_typeEN9DirectMap4TypeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss12IndexIVFFlat16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss12IndexIVFFlat16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexIVFFlat::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4eb943aeb7df30d44ad9b665452bfcf7"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat16replace_invlistsEP13InvertedListsb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>replace the inverted lists, old one is deallocated if own_invlists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat12sa_code_sizeEv">
<span id="_CPPv3NK5faiss12IndexIVFFlat12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss12IndexIVFFlat12sa_code_sizeEv"></span><span id="faiss::IndexIVFFlat::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFFlat::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a9d28b314ee008589eb41ce2823a088b6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexIVFFlat::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexIVFFlat::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexIVFFlat::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat21get_distance_computerEv">
<span id="_CPPv3NK5faiss12IndexIVFFlat21get_distance_computerEv"></span><span id="_CPPv2NK5faiss12IndexIVFFlat21get_distance_computerEv"></span><span id="faiss::IndexIVFFlat::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexIVFFlat8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss12IndexIVFFlat8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss12IndexIVFFlat8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::IndexIVFFlat::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat8train_q1E6size_tPKfb10MetricType" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss12IndexIVFFlat16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss12IndexIVFFlat16coarse_code_sizeEv"></span><span id="faiss::IndexIVFFlat::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat16coarse_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::IndexIVFFlat::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat13encode_listnoEN5Index5idx_tEP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexIVFFlat13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss12IndexIVFFlat13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss12IndexIVFFlat13decode_listnoEPK7uint8_t"></span><span id="faiss::IndexIVFFlat::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexIVFFlat13decode_listnoEPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat8invlistsE">
<span id="_CPPv3N5faiss12IndexIVFFlat8invlistsE"></span><span id="_CPPv2N5faiss12IndexIVFFlat8invlistsE"></span><span id="faiss::IndexIVFFlat::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa0e8fc5e04cbd8e0dde61f98bc7dd0bc"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat8invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat12own_invlistsE">
<span id="_CPPv3N5faiss12IndexIVFFlat12own_invlistsE"></span><span id="_CPPv2N5faiss12IndexIVFFlat12own_invlistsE"></span><span id="faiss::IndexIVFFlat::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5743b18d78fe1b9910d8ff8670f207d7"></span>bool <code class="sig-name descname">own_invlists</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat12own_invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat9code_sizeE">
<span id="_CPPv3N5faiss12IndexIVFFlat9code_sizeE"></span><span id="_CPPv2N5faiss12IndexIVFFlat9code_sizeE"></span><span id="faiss::IndexIVFFlat::code_size__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a46d1aeddb60643c5b3f096147c3e028f"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat6nprobeE">
<span id="_CPPv3N5faiss12IndexIVFFlat6nprobeE"></span><span id="_CPPv2N5faiss12IndexIVFFlat6nprobeE"></span><span id="faiss::IndexIVFFlat::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1affed235eadf27a13d753ee4d33a1dc58"></span>size_t <code class="sig-name descname">nprobe</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat6nprobeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat9max_codesE">
<span id="_CPPv3N5faiss12IndexIVFFlat9max_codesE"></span><span id="_CPPv2N5faiss12IndexIVFFlat9max_codesE"></span><span id="faiss::IndexIVFFlat::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f2dd34f66f8770acba74a0a591fa4a8"></span>size_t <code class="sig-name descname">max_codes</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat9max_codesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat13parallel_modeE">
<span id="_CPPv3N5faiss12IndexIVFFlat13parallel_modeE"></span><span id="_CPPv2N5faiss12IndexIVFFlat13parallel_modeE"></span><span id="faiss::IndexIVFFlat::parallel_mode__i"></span><span class="target" id="structfaiss_1_1IndexIVF_1a244ec2067da495ff1493687e0048ae02"></span>int <code class="sig-name descname">parallel_mode</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat13parallel_modeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Parallel mode determines how queries are parallelized with OpenMP</p>
<p>0 (default): split over queries 1: parallelize over inverted lists 2: parallelize over both 3: split over queries with a finer granularity</p>
<p>PARALLEL_MODE_NO_HEAP_INIT: binary or with the previous to prevent the heap to be initialized and finalized </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat26PARALLEL_MODE_NO_HEAP_INITE">
<span id="_CPPv3N5faiss12IndexIVFFlat26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="_CPPv2N5faiss12IndexIVFFlat26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="faiss::IndexIVFFlat::PARALLEL_MODE_NO_HEAP_INIT__iC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa221f301cca11e1ab59d6c12e08a0240"></span><em class="property">const</em> int <code class="sig-name descname">PARALLEL_MODE_NO_HEAP_INIT</code> = 1024<a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat26PARALLEL_MODE_NO_HEAP_INITE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat10direct_mapE">
<span id="_CPPv3N5faiss12IndexIVFFlat10direct_mapE"></span><span id="_CPPv2N5faiss12IndexIVFFlat10direct_mapE"></span><span id="faiss::IndexIVFFlat::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae1267a1770ef6c8fa111891110e6fa69"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat10direct_mapE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>optional map that maps back ids to invlist entries. This enables <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat1dE">
<span id="_CPPv3N5faiss12IndexIVFFlat1dE"></span><span id="_CPPv2N5faiss12IndexIVFFlat1dE"></span><span id="faiss::IndexIVFFlat::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat6ntotalE">
<span id="_CPPv3N5faiss12IndexIVFFlat6ntotalE"></span><span id="_CPPv2N5faiss12IndexIVFFlat6ntotalE"></span><span id="faiss::IndexIVFFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss12IndexIVFFlat5idx_tE" title="faiss::IndexIVFFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat7verboseE">
<span id="_CPPv3N5faiss12IndexIVFFlat7verboseE"></span><span id="_CPPv2N5faiss12IndexIVFFlat7verboseE"></span><span id="faiss::IndexIVFFlat::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat10is_trainedE">
<span id="_CPPv3N5faiss12IndexIVFFlat10is_trainedE"></span><span id="_CPPv2N5faiss12IndexIVFFlat10is_trainedE"></span><span id="faiss::IndexIVFFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat11metric_typeE">
<span id="_CPPv3N5faiss12IndexIVFFlat11metric_typeE"></span><span id="_CPPv2N5faiss12IndexIVFFlat11metric_typeE"></span><span id="faiss::IndexIVFFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat10metric_argE">
<span id="_CPPv3N5faiss12IndexIVFFlat10metric_argE"></span><span id="_CPPv2N5faiss12IndexIVFFlat10metric_argE"></span><span id="faiss::IndexIVFFlat::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat9quantizerE">
<span id="_CPPv3N5faiss12IndexIVFFlat9quantizerE"></span><span id="_CPPv2N5faiss12IndexIVFFlat9quantizerE"></span><span id="faiss::IndexIVFFlat::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat9quantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat5nlistE">
<span id="_CPPv3N5faiss12IndexIVFFlat5nlistE"></span><span id="_CPPv2N5faiss12IndexIVFFlat5nlistE"></span><span id="faiss::IndexIVFFlat::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss12IndexIVFFlat22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss12IndexIVFFlat22quantizer_trains_aloneE"></span><span id="faiss::IndexIVFFlat::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat22quantizer_trains_aloneE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat10own_fieldsE">
<span id="_CPPv3N5faiss12IndexIVFFlat10own_fieldsE"></span><span id="_CPPv2N5faiss12IndexIVFFlat10own_fieldsE"></span><span id="faiss::IndexIVFFlat::own_fields__b"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab688c629cd42122d73517078b87f483d"></span>bool <code class="sig-name descname">own_fields</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat10own_fieldsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat2cpE">
<span id="_CPPv3N5faiss12IndexIVFFlat2cpE"></span><span id="_CPPv2N5faiss12IndexIVFFlat2cpE"></span><span id="faiss::IndexIVFFlat::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat2cpE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexIVFFlat16clustering_indexE">
<span id="_CPPv3N5faiss12IndexIVFFlat16clustering_indexE"></span><span id="_CPPv2N5faiss12IndexIVFFlat16clustering_indexE"></span><span id="faiss::IndexIVFFlat::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><a class="headerlink" href="#_CPPv4N5faiss12IndexIVFFlat16clustering_indexE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedupE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedupE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedupE"></span><span id="faiss::IndexIVFFlatDedup"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFFlatDedup</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFFlat_8h.html#_CPPv4N5faiss12IndexIVFFlatE" title="faiss::IndexIVFFlat">IndexIVFFlat</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup5idx_tE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup11component_tE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup11component_tE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup10distance_tE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup10distance_tE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup17IndexIVFFlatDedupEP5Index6size_t6size_t10MetricType">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup17IndexIVFFlatDedupEP5Index6size_t6size_t10MetricType"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup17IndexIVFFlatDedupEP5Index6size_t6size_t10MetricType"></span><span id="faiss::IndexIVFFlatDedup::IndexIVFFlatDedup__IndexP.s.s.MetricType"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1aab77538457b98393a68aa7dfd07e4f55"></span><code class="sig-name descname">IndexIVFFlatDedup</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist_</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup5trainE5idx_tPKf">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup5trainE5idx_tPKf"></span><span id="faiss::IndexIVFFlatDedup::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1a24002a8c3f12aa2784833c14b13b427e"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>also dedups the training set </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexIVFFlatDedup::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1a4e27cfca56590371e0984d8f16b2b68d"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>implemented for all IndexIVF* classes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFFlatDedup::search_preassigned__idx_t.floatCP.idx_t.idx_tCP.floatCP.floatP.idx_tP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1a9eea401290ff9f9181483c9062195f6f"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> float *<em>centroid_dis</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. The default implementation uses InvertedListScanners to do the search.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: search stats to be updated (can be null) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup10remove_idsERK10IDSelector"></span><span id="faiss::IndexIVFFlatDedup::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1a528e3ac6d5b1c10954dfbdb6779d69bf"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexIVFFlatDedup::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1acb4f1350039546f5001c5fc36ac0fb2d"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>not implemented </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup14update_vectorsEiPK5idx_tPKf">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup14update_vectorsEiPK5idx_tPKf"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup14update_vectorsEiPK5idx_tPKf"></span><span id="faiss::IndexIVFFlatDedup::update_vectors__i.idx_tCP.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1adaff16e3cca3d987233f9a07277563c1"></span>void <code class="sig-name descname">update_vectors</code><span class="sig-paren">(</span>int <em>nv</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>idx</em>, <em class="property">const</em> float *<em>v</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>not implemented </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup23reconstruct_from_offsetE7int64_t7int64_tPf">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="faiss::IndexIVFFlatDedup::reconstruct_from_offset__int64_t.int64_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1a8e60db84c02836ea5c786678171b55cf"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span>int64_t <em>list_no</em>, int64_t <em>offset</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>not implemented </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup17IndexIVFFlatDedupEv">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup17IndexIVFFlatDedupEv"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup17IndexIVFFlatDedupEv"></span><span id="faiss::IndexIVFFlatDedup::IndexIVFFlatDedup"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1ab2735ca85a27161c7cabf8eb2620c20d"></span><code class="sig-name descname">IndexIVFFlatDedup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup8add_coreE5idx_tPKfPK7int64_tPK7int64_t">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup8add_coreE5idx_tPKfPK7int64_tPK7int64_t"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup8add_coreE5idx_tPKfPK7int64_tPK7int64_t"></span><span id="faiss::IndexIVFFlatDedup::add_core__idx_t.floatCP.int64_tCP.int64_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a6b2a0d888235330d9192d267c260f338"></span>void <code class="sig-name descname">add_core</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> int64_t *<em>xids</em>, <em class="property">const</em> int64_t *<em>precomputed_idx</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as add_with_ids, with precomputed coarse quantizer </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="faiss::IndexIVFFlatDedup::encode_vectors__idx_t.floatCP.idx_tCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a7dc16a5d92348098da7f50324a98e8e9"></span>void <code class="sig-name descname">encode_vectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>list_nos</em>, uint8_t *<em>codes</em>, bool <em>include_listnos</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Encodes a set of vectors as they would appear in the inverted lists</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list_nos</span></code>: inverted list ids as returned by the quantizer (size n). -1s are ignored. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes, size n * code_size </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_listno</span></code>: include the list ids in the code (in this case add ceil(log8(nlist)) to the code size) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup23get_InvertedListScannerEb"></span><span id="faiss::IndexIVFFlatDedup::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a40e775888571dab23eef954651e802d7"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScannerE" title="faiss::InvertedListScanner">InvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get a scanner for this index (store_pairs means ignore labels) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFFlatDedup::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFFlat_1a1464960b17488f8ee8ae600c07f7b72c"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup5resetEv">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup5resetEv"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup5resetEv"></span><span id="faiss::IndexIVFFlatDedup::reset"></span><span class="target" id="structfaiss_1_1IndexIVF_1a47a3b7665e9d2be41c6d3b2e9144b73f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup5resetEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup3addE5idx_tPKf">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup3addE5idx_tPKf"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup3addE5idx_tPKf"></span><span id="faiss::IndexIVFFlatDedup::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a821002a9d3a1a74dc8d6f6072eca4075"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup3addE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Calls add_with_ids with NULL ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup14train_residualE5idx_tPKf">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup14train_residualE5idx_tPKf"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup14train_residualE5idx_tPKf"></span><span id="faiss::IndexIVFFlatDedup::train_residual__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada8e45a72f1de4fb9116efc867f6a0a8"></span>void <code class="sig-name descname">train_residual</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup14train_residualE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Sub-classes that encode the residuals can train their encoders here does nothing by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexIVFFlatDedup::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae2fd47b7d52603659e269aa8f6abb613"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup6searchE5idx_tPKf5idx_tPfP5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFFlatDedup::range_search_preassigned__idx_t.floatCP.float.idx_tCP.floatCP.RangeSearchResultP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae51e8f23f3283feb2f262d791f2f167c"></span>void <code class="sig-name descname">range_search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>coarse_dis</em>, RangeSearchResult *<em>result</em>, bool <em>store_pairs</em> = false, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup11reconstructE5idx_tPf"></span><span id="faiss::IndexIVFFlatDedup::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reconstruct a vector. Works only if maintain_direct_map is set to 1 or 2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexIVFFlatDedup::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7cc286dfbd8bfd43ea4b22173e28231c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexIVFFlatDedup::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a77aec24920024a09f7661790d9534c10"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup26check_compatible_for_mergeERK8IndexIVF">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup26check_compatible_for_mergeERK8IndexIVF"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup26check_compatible_for_mergeERK8IndexIVF"></span><span id="faiss::IndexIVFFlatDedup::check_compatible_for_merge__IndexIVFCRC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a76d85d286f3b58bba42b1d3c73dc9620"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup26check_compatible_for_mergeERK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>check that the two indexes are compatible (ie, they are trained in the same way and have the same parameters). Otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup10merge_fromER8IndexIVF5idx_t">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup10merge_fromER8IndexIVF5idx_t"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup10merge_fromER8IndexIVF5idx_t"></span><span id="faiss::IndexIVFFlatDedup::merge_from__IndexIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa38b33056ccb93cd4a2852eb26227899"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup10merge_fromER8IndexIVF5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup14copy_subset_toER8IndexIVFi5idx_t5idx_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="faiss::IndexIVFFlatDedup::copy_subset_to__IndexIVFR.i.idx_t.idx_tC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"></span>void <code class="sig-name descname">copy_subset_to</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, int <em>subset_type</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>a1</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>a2</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup14copy_subset_toER8IndexIVFi5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>copy a subset of the entries index to the other index</p>
<p>if subset_type == 0: copies ids in [a1, a2) if subset_type == 1: copies ids if id % a1 == a2 if subset_type == 2: copies inverted lists such that a1 elements are left before and a2 elements are after </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup13get_list_sizeE6size_t"></span><span id="faiss::IndexIVFFlatDedup::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a521b6f7be5cacd0a1707e42ae9dfd018"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup13get_list_sizeE6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup15make_direct_mapEb">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup15make_direct_mapEb"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup15make_direct_mapEb"></span><span id="faiss::IndexIVFFlatDedup::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1c11ce77f459e2ab3e5d9a4c2263ad89"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup15make_direct_mapEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexIVFFlatDedup::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1a896475b88eff587c434dd796afa55a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup19set_direct_map_typeEN9DirectMap4TypeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexIVFFlatDedup::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4eb943aeb7df30d44ad9b665452bfcf7"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup16replace_invlistsEP13InvertedListsb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>replace the inverted lists, old one is deallocated if own_invlists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup12sa_code_sizeEv">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup12sa_code_sizeEv"></span><span id="faiss::IndexIVFFlatDedup::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFFlatDedup::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a9d28b314ee008589eb41ce2823a088b6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexIVFFlatDedup::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexIVFFlatDedup::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexIVFFlatDedup::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup21get_distance_computerEv">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup21get_distance_computerEv"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup21get_distance_computerEv"></span><span id="faiss::IndexIVFFlatDedup::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::IndexIVFFlatDedup::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup8train_q1E6size_tPKfb10MetricType" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup16coarse_code_sizeEv"></span><span id="faiss::IndexIVFFlatDedup::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup16coarse_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::IndexIVFFlatDedup::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup13encode_listnoEN5Index5idx_tEP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexIVFFlatDedup13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss17IndexIVFFlatDedup13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss17IndexIVFFlatDedup13decode_listnoEPK7uint8_t"></span><span id="faiss::IndexIVFFlatDedup::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexIVFFlatDedup13decode_listnoEPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup9instancesE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup9instancesE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup9instancesE"></span><span id="faiss::IndexIVFFlatDedup::instances__std::unordered_multimap:idx_t.idx_t:"></span><span class="target" id="structfaiss_1_1IndexIVFFlatDedup_1a1ff220494d504dd806e5daf290ec0e7a"></span>std::unordered_multimap&lt;<a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a>, <a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a>&gt; <code class="sig-name descname">instances</code><br /></dt>
<dd><p>Maps ids stored in the index to the ids of vectors that are the same. When a vector is unique, it does not appear in the instances map </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup8invlistsE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup8invlistsE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup8invlistsE"></span><span id="faiss::IndexIVFFlatDedup::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa0e8fc5e04cbd8e0dde61f98bc7dd0bc"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup8invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup12own_invlistsE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup12own_invlistsE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup12own_invlistsE"></span><span id="faiss::IndexIVFFlatDedup::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5743b18d78fe1b9910d8ff8670f207d7"></span>bool <code class="sig-name descname">own_invlists</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup12own_invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup9code_sizeE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup9code_sizeE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup9code_sizeE"></span><span id="faiss::IndexIVFFlatDedup::code_size__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a46d1aeddb60643c5b3f096147c3e028f"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup6nprobeE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup6nprobeE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup6nprobeE"></span><span id="faiss::IndexIVFFlatDedup::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1affed235eadf27a13d753ee4d33a1dc58"></span>size_t <code class="sig-name descname">nprobe</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup6nprobeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup9max_codesE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup9max_codesE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup9max_codesE"></span><span id="faiss::IndexIVFFlatDedup::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f2dd34f66f8770acba74a0a591fa4a8"></span>size_t <code class="sig-name descname">max_codes</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup9max_codesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup13parallel_modeE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup13parallel_modeE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup13parallel_modeE"></span><span id="faiss::IndexIVFFlatDedup::parallel_mode__i"></span><span class="target" id="structfaiss_1_1IndexIVF_1a244ec2067da495ff1493687e0048ae02"></span>int <code class="sig-name descname">parallel_mode</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup13parallel_modeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Parallel mode determines how queries are parallelized with OpenMP</p>
<p>0 (default): split over queries 1: parallelize over inverted lists 2: parallelize over both 3: split over queries with a finer granularity</p>
<p>PARALLEL_MODE_NO_HEAP_INIT: binary or with the previous to prevent the heap to be initialized and finalized </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup26PARALLEL_MODE_NO_HEAP_INITE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="faiss::IndexIVFFlatDedup::PARALLEL_MODE_NO_HEAP_INIT__iC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa221f301cca11e1ab59d6c12e08a0240"></span><em class="property">const</em> int <code class="sig-name descname">PARALLEL_MODE_NO_HEAP_INIT</code> = 1024<a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup26PARALLEL_MODE_NO_HEAP_INITE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup10direct_mapE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup10direct_mapE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup10direct_mapE"></span><span id="faiss::IndexIVFFlatDedup::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae1267a1770ef6c8fa111891110e6fa69"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup10direct_mapE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>optional map that maps back ids to invlist entries. This enables <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup1dE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup1dE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup1dE"></span><span id="faiss::IndexIVFFlatDedup::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup6ntotalE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup6ntotalE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup6ntotalE"></span><span id="faiss::IndexIVFFlatDedup::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss17IndexIVFFlatDedup5idx_tE" title="faiss::IndexIVFFlatDedup::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup7verboseE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup7verboseE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup7verboseE"></span><span id="faiss::IndexIVFFlatDedup::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup10is_trainedE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup10is_trainedE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup10is_trainedE"></span><span id="faiss::IndexIVFFlatDedup::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup11metric_typeE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup11metric_typeE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup11metric_typeE"></span><span id="faiss::IndexIVFFlatDedup::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup10metric_argE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup10metric_argE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup10metric_argE"></span><span id="faiss::IndexIVFFlatDedup::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup9quantizerE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup9quantizerE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup9quantizerE"></span><span id="faiss::IndexIVFFlatDedup::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup9quantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup5nlistE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup5nlistE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup5nlistE"></span><span id="faiss::IndexIVFFlatDedup::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup22quantizer_trains_aloneE"></span><span id="faiss::IndexIVFFlatDedup::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup22quantizer_trains_aloneE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup10own_fieldsE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup10own_fieldsE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup10own_fieldsE"></span><span id="faiss::IndexIVFFlatDedup::own_fields__b"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab688c629cd42122d73517078b87f483d"></span>bool <code class="sig-name descname">own_fields</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup10own_fieldsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup2cpE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup2cpE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup2cpE"></span><span id="faiss::IndexIVFFlatDedup::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup2cpE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexIVFFlatDedup16clustering_indexE">
<span id="_CPPv3N5faiss17IndexIVFFlatDedup16clustering_indexE"></span><span id="_CPPv2N5faiss17IndexIVFFlatDedup16clustering_indexE"></span><span id="faiss::IndexIVFFlatDedup::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><a class="headerlink" href="#_CPPv4N5faiss17IndexIVFFlatDedup16clustering_indexE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss10IndexIVFPQE">
<span id="_CPPv3N5faiss10IndexIVFPQE"></span><span id="_CPPv2N5faiss10IndexIVFPQE"></span><span id="faiss::IndexIVFPQ"></span><span class="target" id="structfaiss_1_1IndexIVFPQ"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFPQ</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a><br /></dt>
<dd><em>#include &lt;IndexIVFPQ.h&gt;</em><p>Inverted file with Product Quantizer encoding. Each residual vector is encoded as a product quantizer code. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFPQR.html#structfaiss_1_1IndexIVFPQR"><span class="std std-ref">faiss::IndexIVFPQR</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss10IndexIVFPQ5idx_tE">
<span id="_CPPv3N5faiss10IndexIVFPQ5idx_tE"></span><span id="_CPPv2N5faiss10IndexIVFPQ5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss10IndexIVFPQ11component_tE">
<span id="_CPPv3N5faiss10IndexIVFPQ11component_tE"></span><span id="_CPPv2N5faiss10IndexIVFPQ11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss10IndexIVFPQ10distance_tE">
<span id="_CPPv3N5faiss10IndexIVFPQ10distance_tE"></span><span id="_CPPv2N5faiss10IndexIVFPQ10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ10IndexIVFPQEP5Index6size_t6size_t6size_t6size_t10MetricType">
<span id="_CPPv3N5faiss10IndexIVFPQ10IndexIVFPQEP5Index6size_t6size_t6size_t6size_t10MetricType"></span><span id="_CPPv2N5faiss10IndexIVFPQ10IndexIVFPQEP5Index6size_t6size_t6size_t6size_t10MetricType"></span><span id="faiss::IndexIVFPQ::IndexIVFPQ__IndexP.s.s.s.s.MetricType"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a95ed93fe628eedff1dab2885f608e2d6"></span><code class="sig-name descname">IndexIVFPQ</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist</em>, size_t <em>M</em>, size_t <em>nbits_per_idx</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss10IndexIVFPQ12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss10IndexIVFPQ12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexIVFPQ::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1af843bf751bf287e31fb77abb83bcf55a"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>xids</em> = nullptr<span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>default implementation that calls encode_vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb">
<span id="_CPPv3NK5faiss10IndexIVFPQ14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="_CPPv2NK5faiss10IndexIVFPQ14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="faiss::IndexIVFPQ::encode_vectors__idx_t.floatCP.idx_tCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a6350ed3e2b070ad01b37dff14dc2fe2a"></span>void <code class="sig-name descname">encode_vectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>list_nos</em>, uint8_t *<em>codes</em>, bool <em>include_listnos</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Encodes a set of vectors as they would appear in the inverted lists</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list_nos</span></code>: inverted list ids as returned by the quantizer (size n). -1s are ignored. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes, size n * code_size </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_listno</span></code>: include the list ids in the code (in this case add ceil(log8(nlist)) to the code size) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss10IndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss10IndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFPQ::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1adb7494c07ce7812226ad41c8b6dca992"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ10add_core_oE5idx_tPKfPK5idx_tPfPK5idx_t">
<span id="_CPPv3N5faiss10IndexIVFPQ10add_core_oE5idx_tPKfPK5idx_tPfPK5idx_t"></span><span id="_CPPv2N5faiss10IndexIVFPQ10add_core_oE5idx_tPKfPK5idx_tPfPK5idx_t"></span><span id="faiss::IndexIVFPQ::add_core_o__idx_t.floatCP.idx_tCP.floatP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a8f3ee1073d04464acdc4ce12ea3440eb"></span>void <code class="sig-name descname">add_core_o</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>xids</em>, float *<em>residuals_2</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>precomputed_idx</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>same as add_core, also:<ul class="simple">
<li><p>output 2nd level residuals if residuals_2 != NULL</p></li>
<li><p>use precomputed list numbers if precomputed_idx != NULL </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ14train_residualE5idx_tPKf">
<span id="_CPPv3N5faiss10IndexIVFPQ14train_residualE5idx_tPKf"></span><span id="_CPPv2N5faiss10IndexIVFPQ14train_residualE5idx_tPKf"></span><span id="faiss::IndexIVFPQ::train_residual__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1af6565a5d8bab7be3df19c50d235bd662"></span>void <code class="sig-name descname">train_residual</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>trains the product quantizer </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ16train_residual_oE5idx_tPKfPf">
<span id="_CPPv3N5faiss10IndexIVFPQ16train_residual_oE5idx_tPKfPf"></span><span id="_CPPv2N5faiss10IndexIVFPQ16train_residual_oE5idx_tPKfPf"></span><span id="faiss::IndexIVFPQ::train_residual_o__idx_t.floatCP.floatP"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a4e06f04853dcb424dc393de5f641e917"></span>void <code class="sig-name descname">train_residual_o</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>residuals_2</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as train_residual, also output 2nd level residuals </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ23reconstruct_from_offsetE7int64_t7int64_tPf">
<span id="_CPPv3NK5faiss10IndexIVFPQ23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="_CPPv2NK5faiss10IndexIVFPQ23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="faiss::IndexIVFPQ::reconstruct_from_offset__int64_t.int64_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1ab9ec78723d3fbc9834018f697e0cbe95"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span>int64_t <em>list_no</em>, int64_t <em>offset</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a vector given the location in terms of (inv list index + inv list offset) instead of the id.</p>
<p>Useful for reconstructing when the direct_map is not maintained and the inv list offset is computed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a> with <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ15find_duplicatesEP5idx_tP6size_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ15find_duplicatesEP5idx_tP6size_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ15find_duplicatesEP5idx_tP6size_t"></span><span id="faiss::IndexIVFPQ::find_duplicates__idx_tP.sPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a0d29813956d053b5262132edcc1cf527"></span>size_t <code class="sig-name descname">find_duplicates</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>ids</em>, size_t *<em>lims</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Find exact duplicates in the dataset.</p>
<p>the duplicates are returned in pre-allocated arrays (see the max sizes).</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>n number of groups found </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lims</span></code>: limits between groups of duplicates (max size ntotal / 2 + 1) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ids</span></code>: ids[lims[i]] : ids[lims[i+1]-1] is a group of duplicates (max size ntotal) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ6encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ6encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ6encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFPQ::encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1aaf34e32cb715cf716d17db18679fb1ab"></span>void <code class="sig-name descname">encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>key</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ15encode_multipleE6size_tP5idx_tPKfP7uint8_tb">
<span id="_CPPv3NK5faiss10IndexIVFPQ15encode_multipleE6size_tP5idx_tPKfP7uint8_tb"></span><span id="_CPPv2NK5faiss10IndexIVFPQ15encode_multipleE6size_tP5idx_tPKfP7uint8_tb"></span><span id="faiss::IndexIVFPQ::encode_multiple__s.idx_tP.floatCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a5c52e3a7cf6d5c13b54395f8c646587c"></span>void <code class="sig-name descname">encode_multiple</code><span class="sig-paren">(</span>size_t <em>n</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>codes</em>, bool <em>compute_keys</em> = false<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Encode multiple vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb vectors to encode </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: posting list ids for those vectors (size n) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: vectors (size n * d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes (size n * code_size) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute_keys</span></code>: if false, assume keys are precomputed, otherwise compute them </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ15decode_multipleE6size_tPK5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss10IndexIVFPQ15decode_multipleE6size_tPK5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss10IndexIVFPQ15decode_multipleE6size_tPK5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFPQ::decode_multiple__s.idx_tCP.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1ad074686c530454b0138f30a488078236"></span>void <code class="sig-name descname">decode_multiple</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> uint8_t *<em>xcodes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>inverse of encode_multiple </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss10IndexIVFPQ23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss10IndexIVFPQ23get_InvertedListScannerEb"></span><span id="faiss::IndexIVFPQ::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a2e872f50fd1e1e89b2c3049fd24e2430"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScannerE" title="faiss::InvertedListScanner">InvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get a scanner for this index (store_pairs means ignore labels) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ16precompute_tableEv">
<span id="_CPPv3N5faiss10IndexIVFPQ16precompute_tableEv"></span><span id="_CPPv2N5faiss10IndexIVFPQ16precompute_tableEv"></span><span id="faiss::IndexIVFPQ::precompute_table"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1ad99c215aeaf92e995cb97f4044c4d267"></span>void <code class="sig-name descname">precompute_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>build precomputed table </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ10IndexIVFPQEv">
<span id="_CPPv3N5faiss10IndexIVFPQ10IndexIVFPQEv"></span><span id="_CPPv2N5faiss10IndexIVFPQ10IndexIVFPQEv"></span><span id="faiss::IndexIVFPQ::IndexIVFPQ"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a4821a0d1daec7a39abdc5d3e5762c7af"></span><code class="sig-name descname">IndexIVFPQ</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ5resetEv">
<span id="_CPPv3N5faiss10IndexIVFPQ5resetEv"></span><span id="_CPPv2N5faiss10IndexIVFPQ5resetEv"></span><span id="faiss::IndexIVFPQ::reset"></span><span class="target" id="structfaiss_1_1IndexIVF_1a47a3b7665e9d2be41c6d3b2e9144b73f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ5resetEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ5trainE5idx_tPKf">
<span id="_CPPv3N5faiss10IndexIVFPQ5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss10IndexIVFPQ5trainE5idx_tPKf"></span><span id="faiss::IndexIVFPQ::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7a1d5eec194db0977b2318c6ed6a2b86"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ3addE5idx_tPKf">
<span id="_CPPv3N5faiss10IndexIVFPQ3addE5idx_tPKf"></span><span id="_CPPv2N5faiss10IndexIVFPQ3addE5idx_tPKf"></span><span id="faiss::IndexIVFPQ::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a821002a9d3a1a74dc8d6f6072eca4075"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ3addE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Calls add_with_ids with NULL ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss10IndexIVFPQ18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss10IndexIVFPQ18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFPQ::search_preassigned__idx_t.floatCP.idx_t.idx_tCP.floatCP.floatP.idx_tP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> float *<em>centroid_dis</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. The default implementation uses InvertedListScanners to do the search.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: search stats to be updated (can be null) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexIVFPQ::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae2fd47b7d52603659e269aa8f6abb613"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ6searchE5idx_tPKf5idx_tPfP5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss10IndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss10IndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexIVFPQ::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5b7b4b3dc5ea40f7076a00c81cc83d66"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss10IndexIVFPQ24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss10IndexIVFPQ24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFPQ::range_search_preassigned__idx_t.floatCP.float.idx_tCP.floatCP.RangeSearchResultP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae51e8f23f3283feb2f262d791f2f167c"></span>void <code class="sig-name descname">range_search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>coarse_dis</em>, RangeSearchResult *<em>result</em>, bool <em>store_pairs</em> = false, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss10IndexIVFPQ11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss10IndexIVFPQ11reconstructE5idx_tPf"></span><span id="faiss::IndexIVFPQ::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reconstruct a vector. Works only if maintain_direct_map is set to 1 or 2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ14update_vectorsEiPK5idx_tPKf">
<span id="_CPPv3N5faiss10IndexIVFPQ14update_vectorsEiPK5idx_tPKf"></span><span id="_CPPv2N5faiss10IndexIVFPQ14update_vectorsEiPK5idx_tPKf"></span><span id="faiss::IndexIVFPQ::update_vectors__i.idx_tCP.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a297563f801130e43485c1818b0e13901"></span>void <code class="sig-name descname">update_vectors</code><span class="sig-paren">(</span>int <em>nv</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>idx</em>, <em class="property">const</em> float *<em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ14update_vectorsEiPK5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Update a subset of vectors.</p>
<p>The index must have a direct_map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nv</span></code>: nb of vectors to update </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx</span></code>: vector indices to update, size nv </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: vectors of new values, size nv*d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss10IndexIVFPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss10IndexIVFPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexIVFPQ::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7cc286dfbd8bfd43ea4b22173e28231c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss10IndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss10IndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexIVFPQ::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a77aec24920024a09f7661790d9534c10"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss10IndexIVFPQ10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss10IndexIVFPQ10remove_idsERK10IDSelector"></span><span id="faiss::IndexIVFPQ::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f4d5e3d38ed2db026780522ffb85b9d"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ26check_compatible_for_mergeERK8IndexIVF">
<span id="_CPPv3NK5faiss10IndexIVFPQ26check_compatible_for_mergeERK8IndexIVF"></span><span id="_CPPv2NK5faiss10IndexIVFPQ26check_compatible_for_mergeERK8IndexIVF"></span><span id="faiss::IndexIVFPQ::check_compatible_for_merge__IndexIVFCRC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a76d85d286f3b58bba42b1d3c73dc9620"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ26check_compatible_for_mergeERK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>check that the two indexes are compatible (ie, they are trained in the same way and have the same parameters). Otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ10merge_fromER8IndexIVF5idx_t">
<span id="_CPPv3N5faiss10IndexIVFPQ10merge_fromER8IndexIVF5idx_t"></span><span id="_CPPv2N5faiss10IndexIVFPQ10merge_fromER8IndexIVF5idx_t"></span><span id="faiss::IndexIVFPQ::merge_from__IndexIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa38b33056ccb93cd4a2852eb26227899"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ10merge_fromER8IndexIVF5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ14copy_subset_toER8IndexIVFi5idx_t5idx_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="faiss::IndexIVFPQ::copy_subset_to__IndexIVFR.i.idx_t.idx_tC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"></span>void <code class="sig-name descname">copy_subset_to</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, int <em>subset_type</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>a1</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>a2</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ14copy_subset_toER8IndexIVFi5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>copy a subset of the entries index to the other index</p>
<p>if subset_type == 0: copies ids in [a1, a2) if subset_type == 1: copies ids if id % a1 == a2 if subset_type == 2: copies inverted lists such that a1 elements are left before and a2 elements are after </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ13get_list_sizeE6size_t"></span><span id="faiss::IndexIVFPQ::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a521b6f7be5cacd0a1707e42ae9dfd018"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ13get_list_sizeE6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ15make_direct_mapEb">
<span id="_CPPv3N5faiss10IndexIVFPQ15make_direct_mapEb"></span><span id="_CPPv2N5faiss10IndexIVFPQ15make_direct_mapEb"></span><span id="faiss::IndexIVFPQ::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1c11ce77f459e2ab3e5d9a4c2263ad89"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ15make_direct_mapEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss10IndexIVFPQ19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss10IndexIVFPQ19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexIVFPQ::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1a896475b88eff587c434dd796afa55a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ19set_direct_map_typeEN9DirectMap4TypeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss10IndexIVFPQ16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss10IndexIVFPQ16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexIVFPQ::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4eb943aeb7df30d44ad9b665452bfcf7"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ16replace_invlistsEP13InvertedListsb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>replace the inverted lists, old one is deallocated if own_invlists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ12sa_code_sizeEv">
<span id="_CPPv3NK5faiss10IndexIVFPQ12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss10IndexIVFPQ12sa_code_sizeEv"></span><span id="faiss::IndexIVFPQ::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFPQ::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a9d28b314ee008589eb41ce2823a088b6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexIVFPQ::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexIVFPQ::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexIVFPQ::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ21get_distance_computerEv">
<span id="_CPPv3NK5faiss10IndexIVFPQ21get_distance_computerEv"></span><span id="_CPPv2NK5faiss10IndexIVFPQ21get_distance_computerEv"></span><span id="faiss::IndexIVFPQ::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10IndexIVFPQ8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss10IndexIVFPQ8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss10IndexIVFPQ8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::IndexIVFPQ::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ8train_q1E6size_tPKfb10MetricType" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss10IndexIVFPQ16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss10IndexIVFPQ16coarse_code_sizeEv"></span><span id="faiss::IndexIVFPQ::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ16coarse_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::IndexIVFPQ::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ13encode_listnoEN5Index5idx_tEP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10IndexIVFPQ13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss10IndexIVFPQ13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss10IndexIVFPQ13decode_listnoEPK7uint8_t"></span><span id="faiss::IndexIVFPQ::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss10IndexIVFPQ13decode_listnoEPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ11by_residualE">
<span id="_CPPv3N5faiss10IndexIVFPQ11by_residualE"></span><span id="_CPPv2N5faiss10IndexIVFPQ11by_residualE"></span><span id="faiss::IndexIVFPQ::by_residual__b"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1afd13b471df293ae5a6e895704c69a4c3"></span>bool <code class="sig-name descname">by_residual</code><br /></dt>
<dd><p>Encode residual or plain vector? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ2pqE">
<span id="_CPPv3N5faiss10IndexIVFPQ2pqE"></span><span id="_CPPv2N5faiss10IndexIVFPQ2pqE"></span><span id="faiss::IndexIVFPQ::pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a007303be116c8da65b6d058e3fc77d16"></span>ProductQuantizer <code class="sig-name descname">pq</code><br /></dt>
<dd><p>produces the codes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ22do_polysemous_trainingE">
<span id="_CPPv3N5faiss10IndexIVFPQ22do_polysemous_trainingE"></span><span id="_CPPv2N5faiss10IndexIVFPQ22do_polysemous_trainingE"></span><span id="faiss::IndexIVFPQ::do_polysemous_training__b"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a9d5373633df7a9bec4de69400b9adeed"></span>bool <code class="sig-name descname">do_polysemous_training</code><br /></dt>
<dd><p>reorder PQ centroids after training? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ19polysemous_trainingE">
<span id="_CPPv3N5faiss10IndexIVFPQ19polysemous_trainingE"></span><span id="_CPPv2N5faiss10IndexIVFPQ19polysemous_trainingE"></span><span id="faiss::IndexIVFPQ::polysemous_training__PolysemousTrainingP"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a2b14cbb5acb3fc28a4df8fde3f5567cd"></span>PolysemousTraining *<code class="sig-name descname">polysemous_training</code><br /></dt>
<dd><p>if NULL, use default </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ20scan_table_thresholdE">
<span id="_CPPv3N5faiss10IndexIVFPQ20scan_table_thresholdE"></span><span id="_CPPv2N5faiss10IndexIVFPQ20scan_table_thresholdE"></span><span id="faiss::IndexIVFPQ::scan_table_threshold__s"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a7430fc4fa030c96497abced3b68358d4"></span>size_t <code class="sig-name descname">scan_table_threshold</code><br /></dt>
<dd><p>use table computation or on-the-fly? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ13polysemous_htE">
<span id="_CPPv3N5faiss10IndexIVFPQ13polysemous_htE"></span><span id="_CPPv2N5faiss10IndexIVFPQ13polysemous_htE"></span><span id="faiss::IndexIVFPQ::polysemous_ht__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a3093a0a3e128eafce6e0583b75e9662e"></span>int <code class="sig-name descname">polysemous_ht</code><br /></dt>
<dd><p>Hamming thresh for polysemous filtering. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ21use_precomputed_tableE">
<span id="_CPPv3N5faiss10IndexIVFPQ21use_precomputed_tableE"></span><span id="_CPPv2N5faiss10IndexIVFPQ21use_precomputed_tableE"></span><span id="faiss::IndexIVFPQ::use_precomputed_table__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a1c66ff073c18a1edbe8444c24d870583"></span>int <code class="sig-name descname">use_precomputed_table</code><br /></dt>
<dd><p>Precompute table that speed up query preprocessing at some memory cost (used only for by_residual with L2 metric) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ17precomputed_tableE">
<span id="_CPPv3N5faiss10IndexIVFPQ17precomputed_tableE"></span><span id="_CPPv2N5faiss10IndexIVFPQ17precomputed_tableE"></span><span id="faiss::IndexIVFPQ::precomputed_table__AlignedTable:float:"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a1b6a77049a9f79844afa9f461611e43d"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;float&gt; <code class="sig-name descname">precomputed_table</code><br /></dt>
<dd><p>if use_precompute_table size nlist * pq.M * pq.ksub </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ8invlistsE">
<span id="_CPPv3N5faiss10IndexIVFPQ8invlistsE"></span><span id="_CPPv2N5faiss10IndexIVFPQ8invlistsE"></span><span id="faiss::IndexIVFPQ::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa0e8fc5e04cbd8e0dde61f98bc7dd0bc"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ8invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ12own_invlistsE">
<span id="_CPPv3N5faiss10IndexIVFPQ12own_invlistsE"></span><span id="_CPPv2N5faiss10IndexIVFPQ12own_invlistsE"></span><span id="faiss::IndexIVFPQ::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5743b18d78fe1b9910d8ff8670f207d7"></span>bool <code class="sig-name descname">own_invlists</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ12own_invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ9code_sizeE">
<span id="_CPPv3N5faiss10IndexIVFPQ9code_sizeE"></span><span id="_CPPv2N5faiss10IndexIVFPQ9code_sizeE"></span><span id="faiss::IndexIVFPQ::code_size__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a46d1aeddb60643c5b3f096147c3e028f"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ6nprobeE">
<span id="_CPPv3N5faiss10IndexIVFPQ6nprobeE"></span><span id="_CPPv2N5faiss10IndexIVFPQ6nprobeE"></span><span id="faiss::IndexIVFPQ::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1affed235eadf27a13d753ee4d33a1dc58"></span>size_t <code class="sig-name descname">nprobe</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ6nprobeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ9max_codesE">
<span id="_CPPv3N5faiss10IndexIVFPQ9max_codesE"></span><span id="_CPPv2N5faiss10IndexIVFPQ9max_codesE"></span><span id="faiss::IndexIVFPQ::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f2dd34f66f8770acba74a0a591fa4a8"></span>size_t <code class="sig-name descname">max_codes</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ9max_codesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ13parallel_modeE">
<span id="_CPPv3N5faiss10IndexIVFPQ13parallel_modeE"></span><span id="_CPPv2N5faiss10IndexIVFPQ13parallel_modeE"></span><span id="faiss::IndexIVFPQ::parallel_mode__i"></span><span class="target" id="structfaiss_1_1IndexIVF_1a244ec2067da495ff1493687e0048ae02"></span>int <code class="sig-name descname">parallel_mode</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ13parallel_modeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Parallel mode determines how queries are parallelized with OpenMP</p>
<p>0 (default): split over queries 1: parallelize over inverted lists 2: parallelize over both 3: split over queries with a finer granularity</p>
<p>PARALLEL_MODE_NO_HEAP_INIT: binary or with the previous to prevent the heap to be initialized and finalized </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ26PARALLEL_MODE_NO_HEAP_INITE">
<span id="_CPPv3N5faiss10IndexIVFPQ26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="_CPPv2N5faiss10IndexIVFPQ26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="faiss::IndexIVFPQ::PARALLEL_MODE_NO_HEAP_INIT__iC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa221f301cca11e1ab59d6c12e08a0240"></span><em class="property">const</em> int <code class="sig-name descname">PARALLEL_MODE_NO_HEAP_INIT</code> = 1024<a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ26PARALLEL_MODE_NO_HEAP_INITE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ10direct_mapE">
<span id="_CPPv3N5faiss10IndexIVFPQ10direct_mapE"></span><span id="_CPPv2N5faiss10IndexIVFPQ10direct_mapE"></span><span id="faiss::IndexIVFPQ::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae1267a1770ef6c8fa111891110e6fa69"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ10direct_mapE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>optional map that maps back ids to invlist entries. This enables <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ1dE">
<span id="_CPPv3N5faiss10IndexIVFPQ1dE"></span><span id="_CPPv2N5faiss10IndexIVFPQ1dE"></span><span id="faiss::IndexIVFPQ::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ6ntotalE">
<span id="_CPPv3N5faiss10IndexIVFPQ6ntotalE"></span><span id="_CPPv2N5faiss10IndexIVFPQ6ntotalE"></span><span id="faiss::IndexIVFPQ::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss10IndexIVFPQ5idx_tE" title="faiss::IndexIVFPQ::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ7verboseE">
<span id="_CPPv3N5faiss10IndexIVFPQ7verboseE"></span><span id="_CPPv2N5faiss10IndexIVFPQ7verboseE"></span><span id="faiss::IndexIVFPQ::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ10is_trainedE">
<span id="_CPPv3N5faiss10IndexIVFPQ10is_trainedE"></span><span id="_CPPv2N5faiss10IndexIVFPQ10is_trainedE"></span><span id="faiss::IndexIVFPQ::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ11metric_typeE">
<span id="_CPPv3N5faiss10IndexIVFPQ11metric_typeE"></span><span id="_CPPv2N5faiss10IndexIVFPQ11metric_typeE"></span><span id="faiss::IndexIVFPQ::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ10metric_argE">
<span id="_CPPv3N5faiss10IndexIVFPQ10metric_argE"></span><span id="_CPPv2N5faiss10IndexIVFPQ10metric_argE"></span><span id="faiss::IndexIVFPQ::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ9quantizerE">
<span id="_CPPv3N5faiss10IndexIVFPQ9quantizerE"></span><span id="_CPPv2N5faiss10IndexIVFPQ9quantizerE"></span><span id="faiss::IndexIVFPQ::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ9quantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ5nlistE">
<span id="_CPPv3N5faiss10IndexIVFPQ5nlistE"></span><span id="_CPPv2N5faiss10IndexIVFPQ5nlistE"></span><span id="faiss::IndexIVFPQ::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss10IndexIVFPQ22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss10IndexIVFPQ22quantizer_trains_aloneE"></span><span id="faiss::IndexIVFPQ::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ22quantizer_trains_aloneE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ10own_fieldsE">
<span id="_CPPv3N5faiss10IndexIVFPQ10own_fieldsE"></span><span id="_CPPv2N5faiss10IndexIVFPQ10own_fieldsE"></span><span id="faiss::IndexIVFPQ::own_fields__b"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab688c629cd42122d73517078b87f483d"></span>bool <code class="sig-name descname">own_fields</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ10own_fieldsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ2cpE">
<span id="_CPPv3N5faiss10IndexIVFPQ2cpE"></span><span id="_CPPv2N5faiss10IndexIVFPQ2cpE"></span><span id="faiss::IndexIVFPQ::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ2cpE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10IndexIVFPQ16clustering_indexE">
<span id="_CPPv3N5faiss10IndexIVFPQ16clustering_indexE"></span><span id="_CPPv2N5faiss10IndexIVFPQ16clustering_indexE"></span><span id="faiss::IndexIVFPQ::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><a class="headerlink" href="#_CPPv4N5faiss10IndexIVFPQ16clustering_indexE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScanE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScanE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScanE"></span><span id="faiss::IndexIVFPQFastScan"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFPQFastScan</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a><br /></dt>
<dd><em>#include &lt;IndexIVFPQFastScan.h&gt;</em><p>Fast scan version of IVFPQ. Works for 4-bit PQ for now.</p>
<p>The codes in the inverted lists are not stored sequentially but grouped in blocks of size bbs. This makes it possible to very quickly compute distances with SIMD instructions.</p>
<p>Implementations (implem): 0: auto-select implementation (default) 1: origâs search, re-implemented 2: origâs search, re-ordered by invlist 10: optimizer int16 search, collect results in heap, no qbs 11: idem, collect results in reservoir 12: optimizer int16 search, collect results in heap, uses qbs 13: idem, collect results in reservoir </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan5idx_tE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan11component_tE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan11component_tE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan10distance_tE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan10distance_tE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanEP5Index6size_t6size_t6size_t6size_t10MetricTypei">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanEP5Index6size_t6size_t6size_t6size_t10MetricTypei"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanEP5Index6size_t6size_t6size_t6size_t10MetricTypei"></span><span id="faiss::IndexIVFPQFastScan::IndexIVFPQFastScan__IndexP.s.s.s.s.MetricType.i"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1ab8777083c6b029e116367387cd370c81"></span><code class="sig-name descname">IndexIVFPQFastScan</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist</em>, size_t <em>M</em>, size_t <em>nbits_per_idx</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a>, int <em>bbs</em> = 32<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanEv">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanEv"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanEv"></span><span id="faiss::IndexIVFPQFastScan::IndexIVFPQFastScan"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a20cad56251854fe70420dcacd4e7faba"></span><code class="sig-name descname">IndexIVFPQFastScan</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanERK10IndexIVFPQi">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanERK10IndexIVFPQi"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan18IndexIVFPQFastScanERK10IndexIVFPQi"></span><span id="faiss::IndexIVFPQFastScan::IndexIVFPQFastScan__IndexIVFPQCR.i"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a8debc8d0dffd4d8c4a99c8a01f878470"></span><code class="sig-name descname">IndexIVFPQFastScan</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a> &amp;<em>orig</em>, int <em>bbs</em> = 32<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan14train_residualE5idx_tPKf">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan14train_residualE5idx_tPKf"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan14train_residualE5idx_tPKf"></span><span id="faiss::IndexIVFPQFastScan::train_residual__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a4c8313fa8187a3a7ffdf54ac03e9260d"></span>void <code class="sig-name descname">train_residual</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Sub-classes that encode the residuals can train their encoders here does nothing by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan16precompute_tableEv">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan16precompute_tableEv"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan16precompute_tableEv"></span><span id="faiss::IndexIVFPQFastScan::precompute_table"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a6654ef6db78fbf4c9c2904921820dded"></span>void <code class="sig-name descname">precompute_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>build precomputed table, possibly updating use_precomputed_table </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="faiss::IndexIVFPQFastScan::encode_vectors__idx_t.floatCP.idx_tCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a292a50353235864f6d9c5020ad7a5d0b"></span>void <code class="sig-name descname">encode_vectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>list_nos</em>, uint8_t *<em>codes</em>, bool <em>include_listno</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as the regular IVFPQ encoder. The codes are not reorganized by blocks a that point </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexIVFPQFastScan::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1ad31c3b30cd8dce05a5e12a0414fb9862"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>default implementation that calls encode_vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexIVFPQFastScan::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1acb808b612840614e391801e62ddecc97"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan11compute_LUTE6size_tPKfPK5idx_tPKfR12AlignedTableIfER12AlignedTableIfE">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan11compute_LUTE6size_tPKfPK5idx_tPKfR12AlignedTableIfER12AlignedTableIfE"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan11compute_LUTE6size_tPKfPK5idx_tPKfR12AlignedTableIfER12AlignedTableIfE"></span><span id="faiss::IndexIVFPQFastScan::compute_LUT__s.floatCP.idx_tCP.floatCP.AlignedTable:float:R.AlignedTable:float:RC"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a23159b141fbb0cd4503ee8c2106b1120"></span>void <code class="sig-name descname">compute_LUT</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>coarse_ids</em>, <em class="property">const</em> float *<em>coarse_dis</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;float&gt; &amp;<em>dis_tables</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;float&gt; &amp;<em>biases</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan17compute_LUT_uint8E6size_tPKfPK5idx_tPKfR12AlignedTableI7uint8_tER12AlignedTableI8uint16_tEPf">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan17compute_LUT_uint8E6size_tPKfPK5idx_tPKfR12AlignedTableI7uint8_tER12AlignedTableI8uint16_tEPf"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan17compute_LUT_uint8E6size_tPKfPK5idx_tPKfR12AlignedTableI7uint8_tER12AlignedTableI8uint16_tEPf"></span><span id="faiss::IndexIVFPQFastScan::compute_LUT_uint8__s.floatCP.idx_tCP.floatCP.AlignedTable:uint8_t:R.AlignedTable:uint16_t:R.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1ad078b4b0f911d4c2a38c5d821d155cd1"></span>void <code class="sig-name descname">compute_LUT_uint8</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>coarse_ids</em>, <em class="property">const</em> float *<em>coarse_dis</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;uint8_t&gt; &amp;<em>dis_tables</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;uint16_t&gt; &amp;<em>biases</em>, float *<em>normalizers</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I_bENK5faiss18IndexIVFPQFastScan22search_dispatch_implemEv5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3I_bENK5faiss18IndexIVFPQFastScan22search_dispatch_implemE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2I_bENK5faiss18IndexIVFPQFastScan22search_dispatch_implemE5idx_tPKf5idx_tPfP5idx_t"></span>template&lt;bool <code class="sig-name descname">is_max</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1ae53030127a1d05a0ddc21f997db21309"></span>void <code class="sig-name descname">search_dispatch_implem</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0ENK5faiss18IndexIVFPQFastScan15search_implem_1Ev5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3I0ENK5faiss18IndexIVFPQFastScan15search_implem_1E5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2I0ENK5faiss18IndexIVFPQFastScan15search_implem_1E5idx_tPKf5idx_tPfP5idx_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a015e8815df3c806b5c88476d06c3bdae"></span>void <code class="sig-name descname">search_implem_1</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0ENK5faiss18IndexIVFPQFastScan15search_implem_2Ev5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3I0ENK5faiss18IndexIVFPQFastScan15search_implem_2E5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2I0ENK5faiss18IndexIVFPQFastScan15search_implem_2E5idx_tPKf5idx_tPfP5idx_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a6304c3cb3db62334b396c018aafdabcb"></span>void <code class="sig-name descname">search_implem_2</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0ENK5faiss18IndexIVFPQFastScan16search_implem_10Ev5idx_tPKf5idx_tPfP5idx_tiP6size_tP6size_t">
<span id="_CPPv3I0ENK5faiss18IndexIVFPQFastScan16search_implem_10E5idx_tPKf5idx_tPfP5idx_tiP6size_tP6size_t"></span><span id="_CPPv2I0ENK5faiss18IndexIVFPQFastScan16search_implem_10E5idx_tPKf5idx_tPfP5idx_tiP6size_tP6size_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a935c2925accb3f3a479f13c53111670f"></span>void <code class="sig-name descname">search_implem_10</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em>, int <em>impl</em>, size_t *<em>ndis_out</em>, size_t *<em>nlist_out</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0ENK5faiss18IndexIVFPQFastScan16search_implem_12Ev5idx_tPKf5idx_tPfP5idx_tiP6size_tP6size_t">
<span id="_CPPv3I0ENK5faiss18IndexIVFPQFastScan16search_implem_12E5idx_tPKf5idx_tPfP5idx_tiP6size_tP6size_t"></span><span id="_CPPv2I0ENK5faiss18IndexIVFPQFastScan16search_implem_12E5idx_tPKf5idx_tPfP5idx_tiP6size_tP6size_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a3d3c90e9f4014fb867412f86616235ec"></span>void <code class="sig-name descname">search_implem_12</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em>, int <em>impl</em>, size_t *<em>ndis_out</em>, size_t *<em>nlist_out</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan5resetEv">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan5resetEv"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan5resetEv"></span><span id="faiss::IndexIVFPQFastScan::reset"></span><span class="target" id="structfaiss_1_1IndexIVF_1a47a3b7665e9d2be41c6d3b2e9144b73f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan5resetEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan5trainE5idx_tPKf">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan5trainE5idx_tPKf"></span><span id="faiss::IndexIVFPQFastScan::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7a1d5eec194db0977b2318c6ed6a2b86"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan3addE5idx_tPKf">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan3addE5idx_tPKf"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan3addE5idx_tPKf"></span><span id="faiss::IndexIVFPQFastScan::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a821002a9d3a1a74dc8d6f6072eca4075"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan3addE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Calls add_with_ids with NULL ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFPQFastScan::search_preassigned__idx_t.floatCP.idx_t.idx_tCP.floatCP.floatP.idx_tP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> float *<em>centroid_dis</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. The default implementation uses InvertedListScanners to do the search.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: search stats to be updated (can be null) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexIVFPQFastScan::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5b7b4b3dc5ea40f7076a00c81cc83d66"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFPQFastScan::range_search_preassigned__idx_t.floatCP.float.idx_tCP.floatCP.RangeSearchResultP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae51e8f23f3283feb2f262d791f2f167c"></span>void <code class="sig-name descname">range_search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>coarse_dis</em>, RangeSearchResult *<em>result</em>, bool <em>store_pairs</em> = false, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan23get_InvertedListScannerEb"></span><span id="faiss::IndexIVFPQFastScan::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexIVF_1affd8641449d109b3e436a009af50111d"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScannerE" title="faiss::InvertedListScanner">InvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em> = false<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan23get_InvertedListScannerEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>get a scanner for this index (store_pairs means ignore labels) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan11reconstructE5idx_tPf"></span><span id="faiss::IndexIVFPQFastScan::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reconstruct a vector. Works only if maintain_direct_map is set to 1 or 2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan14update_vectorsEiPK5idx_tPKf">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan14update_vectorsEiPK5idx_tPKf"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan14update_vectorsEiPK5idx_tPKf"></span><span id="faiss::IndexIVFPQFastScan::update_vectors__i.idx_tCP.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a297563f801130e43485c1818b0e13901"></span>void <code class="sig-name descname">update_vectors</code><span class="sig-paren">(</span>int <em>nv</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>idx</em>, <em class="property">const</em> float *<em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan14update_vectorsEiPK5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Update a subset of vectors.</p>
<p>The index must have a direct_map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nv</span></code>: nb of vectors to update </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx</span></code>: vector indices to update, size nv </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: vectors of new values, size nv*d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexIVFPQFastScan::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7cc286dfbd8bfd43ea4b22173e28231c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexIVFPQFastScan::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a77aec24920024a09f7661790d9534c10"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan23reconstruct_from_offsetE7int64_t7int64_tPf">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="faiss::IndexIVFPQFastScan::reconstruct_from_offset__int64_t.int64_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ab02ee6dbd2a3c6a2144fc4ad8f7afe4d"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span>int64_t <em>list_no</em>, int64_t <em>offset</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan23reconstruct_from_offsetE7int64_t7int64_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a vector given the location in terms of (inv list index + inv list offset) instead of the id.</p>
<p>Useful for reconstructing when the direct_map is not maintained and the inv list offset is computed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a> with <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan10remove_idsERK10IDSelector"></span><span id="faiss::IndexIVFPQFastScan::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f4d5e3d38ed2db026780522ffb85b9d"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan26check_compatible_for_mergeERK8IndexIVF">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan26check_compatible_for_mergeERK8IndexIVF"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan26check_compatible_for_mergeERK8IndexIVF"></span><span id="faiss::IndexIVFPQFastScan::check_compatible_for_merge__IndexIVFCRC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a76d85d286f3b58bba42b1d3c73dc9620"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan26check_compatible_for_mergeERK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>check that the two indexes are compatible (ie, they are trained in the same way and have the same parameters). Otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan10merge_fromER8IndexIVF5idx_t">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan10merge_fromER8IndexIVF5idx_t"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan10merge_fromER8IndexIVF5idx_t"></span><span id="faiss::IndexIVFPQFastScan::merge_from__IndexIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa38b33056ccb93cd4a2852eb26227899"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan10merge_fromER8IndexIVF5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan14copy_subset_toER8IndexIVFi5idx_t5idx_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="faiss::IndexIVFPQFastScan::copy_subset_to__IndexIVFR.i.idx_t.idx_tC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"></span>void <code class="sig-name descname">copy_subset_to</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, int <em>subset_type</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>a1</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>a2</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan14copy_subset_toER8IndexIVFi5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>copy a subset of the entries index to the other index</p>
<p>if subset_type == 0: copies ids in [a1, a2) if subset_type == 1: copies ids if id % a1 == a2 if subset_type == 2: copies inverted lists such that a1 elements are left before and a2 elements are after </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan13get_list_sizeE6size_t"></span><span id="faiss::IndexIVFPQFastScan::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a521b6f7be5cacd0a1707e42ae9dfd018"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan13get_list_sizeE6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan15make_direct_mapEb">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan15make_direct_mapEb"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan15make_direct_mapEb"></span><span id="faiss::IndexIVFPQFastScan::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1c11ce77f459e2ab3e5d9a4c2263ad89"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan15make_direct_mapEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexIVFPQFastScan::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1a896475b88eff587c434dd796afa55a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan19set_direct_map_typeEN9DirectMap4TypeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexIVFPQFastScan::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4eb943aeb7df30d44ad9b665452bfcf7"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan16replace_invlistsEP13InvertedListsb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>replace the inverted lists, old one is deallocated if own_invlists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan12sa_code_sizeEv">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan12sa_code_sizeEv"></span><span id="faiss::IndexIVFPQFastScan::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFPQFastScan::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a9d28b314ee008589eb41ce2823a088b6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexIVFPQFastScan::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexIVFPQFastScan::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexIVFPQFastScan::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan21get_distance_computerEv">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan21get_distance_computerEv"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan21get_distance_computerEv"></span><span id="faiss::IndexIVFPQFastScan::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFPQFastScan::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::IndexIVFPQFastScan::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan8train_q1E6size_tPKfb10MetricType" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan16coarse_code_sizeEv"></span><span id="faiss::IndexIVFPQFastScan::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan16coarse_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::IndexIVFPQFastScan::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan13encode_listnoEN5Index5idx_tEP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18IndexIVFPQFastScan13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss18IndexIVFPQFastScan13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss18IndexIVFPQFastScan13decode_listnoEPK7uint8_t"></span><span id="faiss::IndexIVFPQFastScan::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss18IndexIVFPQFastScan13decode_listnoEPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan11by_residualE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan11by_residualE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan11by_residualE"></span><span id="faiss::IndexIVFPQFastScan::by_residual__b"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a00afd534152e6c5b3879c78599c69eb1"></span>bool <code class="sig-name descname">by_residual</code><br /></dt>
<dd><p>Encode residual or plain vector? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan2pqE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan2pqE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan2pqE"></span><span id="faiss::IndexIVFPQFastScan::pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a2ee24b9bdc286a5abf9f12d4e46c5f08"></span>ProductQuantizer <code class="sig-name descname">pq</code><br /></dt>
<dd><p>produces the codes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan3bbsE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan3bbsE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan3bbsE"></span><span id="faiss::IndexIVFPQFastScan::bbs__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a08fc3ebd92b06caf97fa484ac5d0237e"></span>int <code class="sig-name descname">bbs</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan2M2E">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan2M2E"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan2M2E"></span><span id="faiss::IndexIVFPQFastScan::M2__s"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1aa48fec3c45cff41db6b8d4a12bd69e57"></span>size_t <code class="sig-name descname">M2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan21use_precomputed_tableE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan21use_precomputed_tableE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan21use_precomputed_tableE"></span><span id="faiss::IndexIVFPQFastScan::use_precomputed_table__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a96f7143d8976025dcc5cf271cb7c4ea8"></span>int <code class="sig-name descname">use_precomputed_table</code> = 0<br /></dt>
<dd><p>precomputed tables management </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan17precomputed_tableE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan17precomputed_tableE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan17precomputed_tableE"></span><span id="faiss::IndexIVFPQFastScan::precomputed_table__AlignedTable:float:"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a79ea5d1fa5cd3562cde744aa34402a8a"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;float&gt; <code class="sig-name descname">precomputed_table</code><br /></dt>
<dd><p>if use_precompute_table size (nlist, pq.M, pq.ksub) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan6implemE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan6implemE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan6implemE"></span><span id="faiss::IndexIVFPQFastScan::implem__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a423a424080719744a7bd758ca1dcb798"></span>int <code class="sig-name descname">implem</code> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan4skipE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan4skipE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan4skipE"></span><span id="faiss::IndexIVFPQFastScan::skip__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a1ba8f14b69df54f918ba8d572c55d57e"></span>int <code class="sig-name descname">skip</code> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan3qbsE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan3qbsE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan3qbsE"></span><span id="faiss::IndexIVFPQFastScan::qbs__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1ab03025a38ce77ccb6610b6ae86f7de0d"></span>int <code class="sig-name descname">qbs</code> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan4qbs2E">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan4qbs2E"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan4qbs2E"></span><span id="faiss::IndexIVFPQFastScan::qbs2__s"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a38f651fe26a82d76ab5847b40a063140"></span>size_t <code class="sig-name descname">qbs2</code> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan13orig_invlistsE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan13orig_invlistsE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan13orig_invlistsE"></span><span id="faiss::IndexIVFPQFastScan::orig_invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVFPQFastScan_1a898ee17e2f8b1e79de2b47b629def3c8"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">orig_invlists</code> = nullptr<br /></dt>
<dd><p>origâs inverted lists (for debugging) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan8invlistsE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan8invlistsE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan8invlistsE"></span><span id="faiss::IndexIVFPQFastScan::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa0e8fc5e04cbd8e0dde61f98bc7dd0bc"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan8invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan12own_invlistsE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan12own_invlistsE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan12own_invlistsE"></span><span id="faiss::IndexIVFPQFastScan::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5743b18d78fe1b9910d8ff8670f207d7"></span>bool <code class="sig-name descname">own_invlists</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan12own_invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan9code_sizeE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan9code_sizeE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan9code_sizeE"></span><span id="faiss::IndexIVFPQFastScan::code_size__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a46d1aeddb60643c5b3f096147c3e028f"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan6nprobeE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan6nprobeE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan6nprobeE"></span><span id="faiss::IndexIVFPQFastScan::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1affed235eadf27a13d753ee4d33a1dc58"></span>size_t <code class="sig-name descname">nprobe</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan6nprobeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan9max_codesE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan9max_codesE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan9max_codesE"></span><span id="faiss::IndexIVFPQFastScan::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f2dd34f66f8770acba74a0a591fa4a8"></span>size_t <code class="sig-name descname">max_codes</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan9max_codesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan13parallel_modeE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan13parallel_modeE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan13parallel_modeE"></span><span id="faiss::IndexIVFPQFastScan::parallel_mode__i"></span><span class="target" id="structfaiss_1_1IndexIVF_1a244ec2067da495ff1493687e0048ae02"></span>int <code class="sig-name descname">parallel_mode</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan13parallel_modeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Parallel mode determines how queries are parallelized with OpenMP</p>
<p>0 (default): split over queries 1: parallelize over inverted lists 2: parallelize over both 3: split over queries with a finer granularity</p>
<p>PARALLEL_MODE_NO_HEAP_INIT: binary or with the previous to prevent the heap to be initialized and finalized </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan26PARALLEL_MODE_NO_HEAP_INITE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="faiss::IndexIVFPQFastScan::PARALLEL_MODE_NO_HEAP_INIT__iC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa221f301cca11e1ab59d6c12e08a0240"></span><em class="property">const</em> int <code class="sig-name descname">PARALLEL_MODE_NO_HEAP_INIT</code> = 1024<a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan26PARALLEL_MODE_NO_HEAP_INITE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan10direct_mapE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan10direct_mapE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan10direct_mapE"></span><span id="faiss::IndexIVFPQFastScan::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae1267a1770ef6c8fa111891110e6fa69"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan10direct_mapE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>optional map that maps back ids to invlist entries. This enables <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan1dE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan1dE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan1dE"></span><span id="faiss::IndexIVFPQFastScan::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan6ntotalE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan6ntotalE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan6ntotalE"></span><span id="faiss::IndexIVFPQFastScan::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss18IndexIVFPQFastScan5idx_tE" title="faiss::IndexIVFPQFastScan::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan7verboseE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan7verboseE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan7verboseE"></span><span id="faiss::IndexIVFPQFastScan::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan10is_trainedE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan10is_trainedE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan10is_trainedE"></span><span id="faiss::IndexIVFPQFastScan::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan11metric_typeE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan11metric_typeE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan11metric_typeE"></span><span id="faiss::IndexIVFPQFastScan::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan10metric_argE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan10metric_argE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan10metric_argE"></span><span id="faiss::IndexIVFPQFastScan::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan9quantizerE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan9quantizerE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan9quantizerE"></span><span id="faiss::IndexIVFPQFastScan::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan9quantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan5nlistE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan5nlistE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan5nlistE"></span><span id="faiss::IndexIVFPQFastScan::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan22quantizer_trains_aloneE"></span><span id="faiss::IndexIVFPQFastScan::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan22quantizer_trains_aloneE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan10own_fieldsE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan10own_fieldsE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan10own_fieldsE"></span><span id="faiss::IndexIVFPQFastScan::own_fields__b"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab688c629cd42122d73517078b87f483d"></span>bool <code class="sig-name descname">own_fields</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan10own_fieldsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan2cpE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan2cpE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan2cpE"></span><span id="faiss::IndexIVFPQFastScan::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan2cpE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18IndexIVFPQFastScan16clustering_indexE">
<span id="_CPPv3N5faiss18IndexIVFPQFastScan16clustering_indexE"></span><span id="_CPPv2N5faiss18IndexIVFPQFastScan16clustering_indexE"></span><span id="faiss::IndexIVFPQFastScan::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><a class="headerlink" href="#_CPPv4N5faiss18IndexIVFPQFastScan16clustering_indexE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11IndexIVFPQRE">
<span id="_CPPv3N5faiss11IndexIVFPQRE"></span><span id="_CPPv2N5faiss11IndexIVFPQRE"></span><span id="faiss::IndexIVFPQR"></span><span class="target" id="structfaiss_1_1IndexIVFPQR"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFPQR</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a><br /></dt>
<dd><em>#include &lt;IndexIVFPQR.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> with an additional level of PQ refinement </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexIVFPQR5idx_tE">
<span id="_CPPv3N5faiss11IndexIVFPQR5idx_tE"></span><span id="_CPPv2N5faiss11IndexIVFPQR5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexIVFPQR11component_tE">
<span id="_CPPv3N5faiss11IndexIVFPQR11component_tE"></span><span id="_CPPv2N5faiss11IndexIVFPQR11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexIVFPQR10distance_tE">
<span id="_CPPv3N5faiss11IndexIVFPQR10distance_tE"></span><span id="_CPPv2N5faiss11IndexIVFPQR10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR11IndexIVFPQREP5Index6size_t6size_t6size_t6size_t6size_t6size_t">
<span id="_CPPv3N5faiss11IndexIVFPQR11IndexIVFPQREP5Index6size_t6size_t6size_t6size_t6size_t6size_t"></span><span id="_CPPv2N5faiss11IndexIVFPQR11IndexIVFPQREP5Index6size_t6size_t6size_t6size_t6size_t6size_t"></span><span id="faiss::IndexIVFPQR::IndexIVFPQR__IndexP.s.s.s.s.s.s"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1aa465b697b8ca9aa5970ad92ac246580a"></span><code class="sig-name descname">IndexIVFPQR</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist</em>, size_t <em>M</em>, size_t <em>nbits_per_idx</em>, size_t <em>M_refine</em>, size_t <em>nbits_per_idx_refine</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR5resetEv">
<span id="_CPPv3N5faiss11IndexIVFPQR5resetEv"></span><span id="_CPPv2N5faiss11IndexIVFPQR5resetEv"></span><span id="faiss::IndexIVFPQR::reset"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1ae0e979a014a9defe2254e9543657b075"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11IndexIVFPQR10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11IndexIVFPQR10remove_idsERK10IDSelector"></span><span id="faiss::IndexIVFPQR::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1aabe4bb3b249f15af977c954f36e81147"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR14train_residualE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexIVFPQR14train_residualE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexIVFPQR14train_residualE5idx_tPKf"></span><span id="faiss::IndexIVFPQR::train_residual__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a68ed7cae5bec89fcdcb6a1d2addbd5a8"></span>void <code class="sig-name descname">train_residual</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>trains the two product quantizers </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexIVFPQR12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexIVFPQR12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexIVFPQR::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1ae526b4722b470a33643d40ef30cf27f7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>default implementation that calls encode_vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR8add_coreE5idx_tPKfPK5idx_tPK5idx_t">
<span id="_CPPv3N5faiss11IndexIVFPQR8add_coreE5idx_tPKfPK5idx_tPK5idx_t"></span><span id="_CPPv2N5faiss11IndexIVFPQR8add_coreE5idx_tPKfPK5idx_tPK5idx_t"></span><span id="faiss::IndexIVFPQR::add_core__idx_t.floatCP.idx_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a98fb389c786bb1fb6db47af13659082c"></span>void <code class="sig-name descname">add_core</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>xids</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>precomputed_idx</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>same as add_with_ids, but optionally use the precomputed list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR23reconstruct_from_offsetE7int64_t7int64_tPf">
<span id="_CPPv3NK5faiss11IndexIVFPQR23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="_CPPv2NK5faiss11IndexIVFPQR23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="faiss::IndexIVFPQR::reconstruct_from_offset__int64_t.int64_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a66645a61eb106f718fb5c8a7bac1f070"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span>int64_t <em>list_no</em>, int64_t <em>offset</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a vector given the location in terms of (inv list index + inv list offset) instead of the id.</p>
<p>Useful for reconstructing when the direct_map is not maintained and the inv list offset is computed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFPQR.html#structfaiss_1_1IndexIVFPQR_1a681e937fcfd9bd93cac5f9eff9d6021a"><span class="std std-ref">search_preassigned()</span></a> with <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR10merge_fromER8IndexIVF5idx_t">
<span id="_CPPv3N5faiss11IndexIVFPQR10merge_fromER8IndexIVF5idx_t"></span><span id="_CPPv2N5faiss11IndexIVFPQR10merge_fromER8IndexIVF5idx_t"></span><span id="faiss::IndexIVFPQR::merge_from__IndexIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a31a1fec2a88b410ea96ce5be7d527be9"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss11IndexIVFPQR18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss11IndexIVFPQR18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFPQR::search_preassigned__idx_t.floatCP.idx_t.idx_tCP.floatCP.floatP.idx_tP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a681e937fcfd9bd93cac5f9eff9d6021a"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> float *<em>centroid_dis</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. The default implementation uses InvertedListScanners to do the search.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: search stats to be updated (can be null) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR11IndexIVFPQREv">
<span id="_CPPv3N5faiss11IndexIVFPQR11IndexIVFPQREv"></span><span id="_CPPv2N5faiss11IndexIVFPQR11IndexIVFPQREv"></span><span id="faiss::IndexIVFPQR::IndexIVFPQR"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a5ddb847015b10835c2f879238535fa45"></span><code class="sig-name descname">IndexIVFPQR</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb">
<span id="_CPPv3NK5faiss11IndexIVFPQR14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="_CPPv2NK5faiss11IndexIVFPQR14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="faiss::IndexIVFPQR::encode_vectors__idx_t.floatCP.idx_tCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a6350ed3e2b070ad01b37dff14dc2fe2a"></span>void <code class="sig-name descname">encode_vectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>list_nos</em>, uint8_t *<em>codes</em>, bool <em>include_listnos</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Encodes a set of vectors as they would appear in the inverted lists</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list_nos</span></code>: inverted list ids as returned by the quantizer (size n). -1s are ignored. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes, size n * code_size </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_listno</span></code>: include the list ids in the code (in this case add ceil(log8(nlist)) to the code size) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11IndexIVFPQR9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11IndexIVFPQR9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFPQR::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1adb7494c07ce7812226ad41c8b6dca992"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR10add_core_oE5idx_tPKfPK5idx_tPfPK5idx_t">
<span id="_CPPv3N5faiss11IndexIVFPQR10add_core_oE5idx_tPKfPK5idx_tPfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexIVFPQR10add_core_oE5idx_tPKfPK5idx_tPfPK5idx_t"></span><span id="faiss::IndexIVFPQR::add_core_o__idx_t.floatCP.idx_tCP.floatP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a8f3ee1073d04464acdc4ce12ea3440eb"></span>void <code class="sig-name descname">add_core_o</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>xids</em>, float *<em>residuals_2</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>precomputed_idx</em> = nullptr<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR10add_core_oE5idx_tPKfPK5idx_tPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>same as add_core, also:<ul class="simple">
<li><p>output 2nd level residuals if residuals_2 != NULL</p></li>
<li><p>use precomputed list numbers if precomputed_idx != NULL </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR16train_residual_oE5idx_tPKfPf">
<span id="_CPPv3N5faiss11IndexIVFPQR16train_residual_oE5idx_tPKfPf"></span><span id="_CPPv2N5faiss11IndexIVFPQR16train_residual_oE5idx_tPKfPf"></span><span id="faiss::IndexIVFPQR::train_residual_o__idx_t.floatCP.floatP"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a4e06f04853dcb424dc393de5f641e917"></span>void <code class="sig-name descname">train_residual_o</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>residuals_2</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR16train_residual_oE5idx_tPKfPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>same as train_residual, also output 2nd level residuals </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR15find_duplicatesEP5idx_tP6size_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR15find_duplicatesEP5idx_tP6size_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR15find_duplicatesEP5idx_tP6size_t"></span><span id="faiss::IndexIVFPQR::find_duplicates__idx_tP.sPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a0d29813956d053b5262132edcc1cf527"></span>size_t <code class="sig-name descname">find_duplicates</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>ids</em>, size_t *<em>lims</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR15find_duplicatesEP5idx_tP6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Find exact duplicates in the dataset.</p>
<p>the duplicates are returned in pre-allocated arrays (see the max sizes).</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>n number of groups found </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lims</span></code>: limits between groups of duplicates (max size ntotal / 2 + 1) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ids</span></code>: ids[lims[i]] : ids[lims[i+1]-1] is a group of duplicates (max size ntotal) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR6encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR6encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR6encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFPQR::encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1aaf34e32cb715cf716d17db18679fb1ab"></span>void <code class="sig-name descname">encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>key</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR6encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR15encode_multipleE6size_tP5idx_tPKfP7uint8_tb">
<span id="_CPPv3NK5faiss11IndexIVFPQR15encode_multipleE6size_tP5idx_tPKfP7uint8_tb"></span><span id="_CPPv2NK5faiss11IndexIVFPQR15encode_multipleE6size_tP5idx_tPKfP7uint8_tb"></span><span id="faiss::IndexIVFPQR::encode_multiple__s.idx_tP.floatCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a5c52e3a7cf6d5c13b54395f8c646587c"></span>void <code class="sig-name descname">encode_multiple</code><span class="sig-paren">(</span>size_t <em>n</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>codes</em>, bool <em>compute_keys</em> = false<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR15encode_multipleE6size_tP5idx_tPKfP7uint8_tb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Encode multiple vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb vectors to encode </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: posting list ids for those vectors (size n) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: vectors (size n * d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes (size n * code_size) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute_keys</span></code>: if false, assume keys are precomputed, otherwise compute them </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR15decode_multipleE6size_tPK5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11IndexIVFPQR15decode_multipleE6size_tPK5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11IndexIVFPQR15decode_multipleE6size_tPK5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFPQR::decode_multiple__s.idx_tCP.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1ad074686c530454b0138f30a488078236"></span>void <code class="sig-name descname">decode_multiple</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> uint8_t *<em>xcodes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR15decode_multipleE6size_tPK5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>inverse of encode_multiple </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss11IndexIVFPQR23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss11IndexIVFPQR23get_InvertedListScannerEb"></span><span id="faiss::IndexIVFPQR::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a2e872f50fd1e1e89b2c3049fd24e2430"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScannerE" title="faiss::InvertedListScanner">InvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR23get_InvertedListScannerEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>get a scanner for this index (store_pairs means ignore labels) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR16precompute_tableEv">
<span id="_CPPv3N5faiss11IndexIVFPQR16precompute_tableEv"></span><span id="_CPPv2N5faiss11IndexIVFPQR16precompute_tableEv"></span><span id="faiss::IndexIVFPQR::precompute_table"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1ad99c215aeaf92e995cb97f4044c4d267"></span>void <code class="sig-name descname">precompute_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR16precompute_tableEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>build precomputed table </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR5trainE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexIVFPQR5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexIVFPQR5trainE5idx_tPKf"></span><span id="faiss::IndexIVFPQR::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7a1d5eec194db0977b2318c6ed6a2b86"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR3addE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexIVFPQR3addE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexIVFPQR3addE5idx_tPKf"></span><span id="faiss::IndexIVFPQR::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a821002a9d3a1a74dc8d6f6072eca4075"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR3addE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Calls add_with_ids with NULL ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexIVFPQR::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae2fd47b7d52603659e269aa8f6abb613"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR6searchE5idx_tPKf5idx_tPfP5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss11IndexIVFPQR12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11IndexIVFPQR12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexIVFPQR::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5b7b4b3dc5ea40f7076a00c81cc83d66"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss11IndexIVFPQR24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss11IndexIVFPQR24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFPQR::range_search_preassigned__idx_t.floatCP.float.idx_tCP.floatCP.RangeSearchResultP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae51e8f23f3283feb2f262d791f2f167c"></span>void <code class="sig-name descname">range_search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>coarse_dis</em>, RangeSearchResult *<em>result</em>, bool <em>store_pairs</em> = false, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss11IndexIVFPQR11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexIVFPQR11reconstructE5idx_tPf"></span><span id="faiss::IndexIVFPQR::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reconstruct a vector. Works only if maintain_direct_map is set to 1 or 2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR14update_vectorsEiPK5idx_tPKf">
<span id="_CPPv3N5faiss11IndexIVFPQR14update_vectorsEiPK5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexIVFPQR14update_vectorsEiPK5idx_tPKf"></span><span id="faiss::IndexIVFPQR::update_vectors__i.idx_tCP.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a297563f801130e43485c1818b0e13901"></span>void <code class="sig-name descname">update_vectors</code><span class="sig-paren">(</span>int <em>nv</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>idx</em>, <em class="property">const</em> float *<em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR14update_vectorsEiPK5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Update a subset of vectors.</p>
<p>The index must have a direct_map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nv</span></code>: nb of vectors to update </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx</span></code>: vector indices to update, size nv </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: vectors of new values, size nv*d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss11IndexIVFPQR13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexIVFPQR13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexIVFPQR::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7cc286dfbd8bfd43ea4b22173e28231c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss11IndexIVFPQR22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexIVFPQR22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexIVFPQR::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a77aec24920024a09f7661790d9534c10"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR26check_compatible_for_mergeERK8IndexIVF">
<span id="_CPPv3NK5faiss11IndexIVFPQR26check_compatible_for_mergeERK8IndexIVF"></span><span id="_CPPv2NK5faiss11IndexIVFPQR26check_compatible_for_mergeERK8IndexIVF"></span><span id="faiss::IndexIVFPQR::check_compatible_for_merge__IndexIVFCRC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a76d85d286f3b58bba42b1d3c73dc9620"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR26check_compatible_for_mergeERK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>check that the two indexes are compatible (ie, they are trained in the same way and have the same parameters). Otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR14copy_subset_toER8IndexIVFi5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="faiss::IndexIVFPQR::copy_subset_to__IndexIVFR.i.idx_t.idx_tC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"></span>void <code class="sig-name descname">copy_subset_to</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, int <em>subset_type</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>a1</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>a2</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR14copy_subset_toER8IndexIVFi5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>copy a subset of the entries index to the other index</p>
<p>if subset_type == 0: copies ids in [a1, a2) if subset_type == 1: copies ids if id % a1 == a2 if subset_type == 2: copies inverted lists such that a1 elements are left before and a2 elements are after </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR13get_list_sizeE6size_t"></span><span id="faiss::IndexIVFPQR::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a521b6f7be5cacd0a1707e42ae9dfd018"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR13get_list_sizeE6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR15make_direct_mapEb">
<span id="_CPPv3N5faiss11IndexIVFPQR15make_direct_mapEb"></span><span id="_CPPv2N5faiss11IndexIVFPQR15make_direct_mapEb"></span><span id="faiss::IndexIVFPQR::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1c11ce77f459e2ab3e5d9a4c2263ad89"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR15make_direct_mapEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss11IndexIVFPQR19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss11IndexIVFPQR19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexIVFPQR::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1a896475b88eff587c434dd796afa55a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR19set_direct_map_typeEN9DirectMap4TypeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss11IndexIVFPQR16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss11IndexIVFPQR16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexIVFPQR::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4eb943aeb7df30d44ad9b665452bfcf7"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR16replace_invlistsEP13InvertedListsb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>replace the inverted lists, old one is deallocated if own_invlists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR12sa_code_sizeEv">
<span id="_CPPv3NK5faiss11IndexIVFPQR12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss11IndexIVFPQR12sa_code_sizeEv"></span><span id="faiss::IndexIVFPQR::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFPQR::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a9d28b314ee008589eb41ce2823a088b6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexIVFPQR::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexIVFPQR::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexIVFPQR::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR21get_distance_computerEv">
<span id="_CPPv3NK5faiss11IndexIVFPQR21get_distance_computerEv"></span><span id="_CPPv2NK5faiss11IndexIVFPQR21get_distance_computerEv"></span><span id="faiss::IndexIVFPQR::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexIVFPQR8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss11IndexIVFPQR8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss11IndexIVFPQR8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::IndexIVFPQR::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR8train_q1E6size_tPKfb10MetricType" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss11IndexIVFPQR16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss11IndexIVFPQR16coarse_code_sizeEv"></span><span id="faiss::IndexIVFPQR::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR16coarse_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::IndexIVFPQR::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR13encode_listnoEN5Index5idx_tEP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexIVFPQR13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss11IndexIVFPQR13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss11IndexIVFPQR13decode_listnoEPK7uint8_t"></span><span id="faiss::IndexIVFPQR::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexIVFPQR13decode_listnoEPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR9refine_pqE">
<span id="_CPPv3N5faiss11IndexIVFPQR9refine_pqE"></span><span id="_CPPv2N5faiss11IndexIVFPQR9refine_pqE"></span><span id="faiss::IndexIVFPQR::refine_pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a4a80540e7cdfb3e43712ffb93e083a7c"></span>ProductQuantizer <code class="sig-name descname">refine_pq</code><br /></dt>
<dd><p>3rd level quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR12refine_codesE">
<span id="_CPPv3N5faiss11IndexIVFPQR12refine_codesE"></span><span id="_CPPv2N5faiss11IndexIVFPQR12refine_codesE"></span><span id="faiss::IndexIVFPQR::refine_codes__std::vector:uint8_t:"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a588bd0b733c8db18eaeb7bc287afd16e"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">refine_codes</code><br /></dt>
<dd><p>corresponding codes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR8k_factorE">
<span id="_CPPv3N5faiss11IndexIVFPQR8k_factorE"></span><span id="_CPPv2N5faiss11IndexIVFPQR8k_factorE"></span><span id="faiss::IndexIVFPQR::k_factor__float"></span><span class="target" id="structfaiss_1_1IndexIVFPQR_1a0b02a4151ceacc070352f8b15cc0ee0b"></span>float <code class="sig-name descname">k_factor</code><br /></dt>
<dd><p>factor between k requested in search and the k requested from the IVFPQ </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR11by_residualE">
<span id="_CPPv3N5faiss11IndexIVFPQR11by_residualE"></span><span id="_CPPv2N5faiss11IndexIVFPQR11by_residualE"></span><span id="faiss::IndexIVFPQR::by_residual__b"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1afd13b471df293ae5a6e895704c69a4c3"></span>bool <code class="sig-name descname">by_residual</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR11by_residualE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Encode residual or plain vector? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR2pqE">
<span id="_CPPv3N5faiss11IndexIVFPQR2pqE"></span><span id="_CPPv2N5faiss11IndexIVFPQR2pqE"></span><span id="faiss::IndexIVFPQR::pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a007303be116c8da65b6d058e3fc77d16"></span>ProductQuantizer <code class="sig-name descname">pq</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR2pqE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>produces the codes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR22do_polysemous_trainingE">
<span id="_CPPv3N5faiss11IndexIVFPQR22do_polysemous_trainingE"></span><span id="_CPPv2N5faiss11IndexIVFPQR22do_polysemous_trainingE"></span><span id="faiss::IndexIVFPQR::do_polysemous_training__b"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a9d5373633df7a9bec4de69400b9adeed"></span>bool <code class="sig-name descname">do_polysemous_training</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR22do_polysemous_trainingE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reorder PQ centroids after training? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR19polysemous_trainingE">
<span id="_CPPv3N5faiss11IndexIVFPQR19polysemous_trainingE"></span><span id="_CPPv2N5faiss11IndexIVFPQR19polysemous_trainingE"></span><span id="faiss::IndexIVFPQR::polysemous_training__PolysemousTrainingP"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a2b14cbb5acb3fc28a4df8fde3f5567cd"></span>PolysemousTraining *<code class="sig-name descname">polysemous_training</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR19polysemous_trainingE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>if NULL, use default </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR20scan_table_thresholdE">
<span id="_CPPv3N5faiss11IndexIVFPQR20scan_table_thresholdE"></span><span id="_CPPv2N5faiss11IndexIVFPQR20scan_table_thresholdE"></span><span id="faiss::IndexIVFPQR::scan_table_threshold__s"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a7430fc4fa030c96497abced3b68358d4"></span>size_t <code class="sig-name descname">scan_table_threshold</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR20scan_table_thresholdE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>use table computation or on-the-fly? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR13polysemous_htE">
<span id="_CPPv3N5faiss11IndexIVFPQR13polysemous_htE"></span><span id="_CPPv2N5faiss11IndexIVFPQR13polysemous_htE"></span><span id="faiss::IndexIVFPQR::polysemous_ht__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a3093a0a3e128eafce6e0583b75e9662e"></span>int <code class="sig-name descname">polysemous_ht</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR13polysemous_htE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Hamming thresh for polysemous filtering. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR21use_precomputed_tableE">
<span id="_CPPv3N5faiss11IndexIVFPQR21use_precomputed_tableE"></span><span id="_CPPv2N5faiss11IndexIVFPQR21use_precomputed_tableE"></span><span id="faiss::IndexIVFPQR::use_precomputed_table__i"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a1c66ff073c18a1edbe8444c24d870583"></span>int <code class="sig-name descname">use_precomputed_table</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR21use_precomputed_tableE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Precompute table that speed up query preprocessing at some memory cost (used only for by_residual with L2 metric) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR17precomputed_tableE">
<span id="_CPPv3N5faiss11IndexIVFPQR17precomputed_tableE"></span><span id="_CPPv2N5faiss11IndexIVFPQR17precomputed_tableE"></span><span id="faiss::IndexIVFPQR::precomputed_table__AlignedTable:float:"></span><span class="target" id="structfaiss_1_1IndexIVFPQ_1a1b6a77049a9f79844afa9f461611e43d"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;float&gt; <code class="sig-name descname">precomputed_table</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR17precomputed_tableE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>if use_precompute_table size nlist * pq.M * pq.ksub </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR8invlistsE">
<span id="_CPPv3N5faiss11IndexIVFPQR8invlistsE"></span><span id="_CPPv2N5faiss11IndexIVFPQR8invlistsE"></span><span id="faiss::IndexIVFPQR::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa0e8fc5e04cbd8e0dde61f98bc7dd0bc"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR8invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR12own_invlistsE">
<span id="_CPPv3N5faiss11IndexIVFPQR12own_invlistsE"></span><span id="_CPPv2N5faiss11IndexIVFPQR12own_invlistsE"></span><span id="faiss::IndexIVFPQR::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5743b18d78fe1b9910d8ff8670f207d7"></span>bool <code class="sig-name descname">own_invlists</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR12own_invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR9code_sizeE">
<span id="_CPPv3N5faiss11IndexIVFPQR9code_sizeE"></span><span id="_CPPv2N5faiss11IndexIVFPQR9code_sizeE"></span><span id="faiss::IndexIVFPQR::code_size__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a46d1aeddb60643c5b3f096147c3e028f"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR6nprobeE">
<span id="_CPPv3N5faiss11IndexIVFPQR6nprobeE"></span><span id="_CPPv2N5faiss11IndexIVFPQR6nprobeE"></span><span id="faiss::IndexIVFPQR::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1affed235eadf27a13d753ee4d33a1dc58"></span>size_t <code class="sig-name descname">nprobe</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR6nprobeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR9max_codesE">
<span id="_CPPv3N5faiss11IndexIVFPQR9max_codesE"></span><span id="_CPPv2N5faiss11IndexIVFPQR9max_codesE"></span><span id="faiss::IndexIVFPQR::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f2dd34f66f8770acba74a0a591fa4a8"></span>size_t <code class="sig-name descname">max_codes</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR9max_codesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR13parallel_modeE">
<span id="_CPPv3N5faiss11IndexIVFPQR13parallel_modeE"></span><span id="_CPPv2N5faiss11IndexIVFPQR13parallel_modeE"></span><span id="faiss::IndexIVFPQR::parallel_mode__i"></span><span class="target" id="structfaiss_1_1IndexIVF_1a244ec2067da495ff1493687e0048ae02"></span>int <code class="sig-name descname">parallel_mode</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR13parallel_modeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Parallel mode determines how queries are parallelized with OpenMP</p>
<p>0 (default): split over queries 1: parallelize over inverted lists 2: parallelize over both 3: split over queries with a finer granularity</p>
<p>PARALLEL_MODE_NO_HEAP_INIT: binary or with the previous to prevent the heap to be initialized and finalized </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR26PARALLEL_MODE_NO_HEAP_INITE">
<span id="_CPPv3N5faiss11IndexIVFPQR26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="_CPPv2N5faiss11IndexIVFPQR26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="faiss::IndexIVFPQR::PARALLEL_MODE_NO_HEAP_INIT__iC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa221f301cca11e1ab59d6c12e08a0240"></span><em class="property">const</em> int <code class="sig-name descname">PARALLEL_MODE_NO_HEAP_INIT</code> = 1024<a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR26PARALLEL_MODE_NO_HEAP_INITE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR10direct_mapE">
<span id="_CPPv3N5faiss11IndexIVFPQR10direct_mapE"></span><span id="_CPPv2N5faiss11IndexIVFPQR10direct_mapE"></span><span id="faiss::IndexIVFPQR::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae1267a1770ef6c8fa111891110e6fa69"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR10direct_mapE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>optional map that maps back ids to invlist entries. This enables <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR1dE">
<span id="_CPPv3N5faiss11IndexIVFPQR1dE"></span><span id="_CPPv2N5faiss11IndexIVFPQR1dE"></span><span id="faiss::IndexIVFPQR::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR6ntotalE">
<span id="_CPPv3N5faiss11IndexIVFPQR6ntotalE"></span><span id="_CPPv2N5faiss11IndexIVFPQR6ntotalE"></span><span id="faiss::IndexIVFPQR::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss11IndexIVFPQR5idx_tE" title="faiss::IndexIVFPQR::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR7verboseE">
<span id="_CPPv3N5faiss11IndexIVFPQR7verboseE"></span><span id="_CPPv2N5faiss11IndexIVFPQR7verboseE"></span><span id="faiss::IndexIVFPQR::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR10is_trainedE">
<span id="_CPPv3N5faiss11IndexIVFPQR10is_trainedE"></span><span id="_CPPv2N5faiss11IndexIVFPQR10is_trainedE"></span><span id="faiss::IndexIVFPQR::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR11metric_typeE">
<span id="_CPPv3N5faiss11IndexIVFPQR11metric_typeE"></span><span id="_CPPv2N5faiss11IndexIVFPQR11metric_typeE"></span><span id="faiss::IndexIVFPQR::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR10metric_argE">
<span id="_CPPv3N5faiss11IndexIVFPQR10metric_argE"></span><span id="_CPPv2N5faiss11IndexIVFPQR10metric_argE"></span><span id="faiss::IndexIVFPQR::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR9quantizerE">
<span id="_CPPv3N5faiss11IndexIVFPQR9quantizerE"></span><span id="_CPPv2N5faiss11IndexIVFPQR9quantizerE"></span><span id="faiss::IndexIVFPQR::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR9quantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR5nlistE">
<span id="_CPPv3N5faiss11IndexIVFPQR5nlistE"></span><span id="_CPPv2N5faiss11IndexIVFPQR5nlistE"></span><span id="faiss::IndexIVFPQR::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss11IndexIVFPQR22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss11IndexIVFPQR22quantizer_trains_aloneE"></span><span id="faiss::IndexIVFPQR::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR22quantizer_trains_aloneE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR10own_fieldsE">
<span id="_CPPv3N5faiss11IndexIVFPQR10own_fieldsE"></span><span id="_CPPv2N5faiss11IndexIVFPQR10own_fieldsE"></span><span id="faiss::IndexIVFPQR::own_fields__b"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab688c629cd42122d73517078b87f483d"></span>bool <code class="sig-name descname">own_fields</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR10own_fieldsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR2cpE">
<span id="_CPPv3N5faiss11IndexIVFPQR2cpE"></span><span id="_CPPv2N5faiss11IndexIVFPQR2cpE"></span><span id="faiss::IndexIVFPQR::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR2cpE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexIVFPQR16clustering_indexE">
<span id="_CPPv3N5faiss11IndexIVFPQR16clustering_indexE"></span><span id="_CPPv2N5faiss11IndexIVFPQR16clustering_indexE"></span><span id="faiss::IndexIVFPQR::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><a class="headerlink" href="#_CPPv4N5faiss11IndexIVFPQR16clustering_indexE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15IndexIVFPQStatsE">
<span id="_CPPv3N5faiss15IndexIVFPQStatsE"></span><span id="_CPPv2N5faiss15IndexIVFPQStatsE"></span><span id="faiss::IndexIVFPQStats"></span><span class="target" id="structfaiss_1_1IndexIVFPQStats"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFPQStats</code><br /></dt>
<dd><em>#include &lt;IndexIVFPQ.h&gt;</em><p>statistics are robust to internal threading, but not if <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">IndexIVFPQ::search_preassigned</span></a> is called by multiple threads </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexIVFPQStats15IndexIVFPQStatsEv">
<span id="_CPPv3N5faiss15IndexIVFPQStats15IndexIVFPQStatsEv"></span><span id="_CPPv2N5faiss15IndexIVFPQStats15IndexIVFPQStatsEv"></span><span id="faiss::IndexIVFPQStats::IndexIVFPQStats"></span><span class="target" id="structfaiss_1_1IndexIVFPQStats_1aded5c391a06a3ccb0b519433faf6cc30"></span><code class="sig-name descname">IndexIVFPQStats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexIVFPQStats5resetEv">
<span id="_CPPv3N5faiss15IndexIVFPQStats5resetEv"></span><span id="_CPPv2N5faiss15IndexIVFPQStats5resetEv"></span><span id="faiss::IndexIVFPQStats::reset"></span><span class="target" id="structfaiss_1_1IndexIVFPQStats_1a84959a8cb7c2a75ca5a32dd73beaaee3"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexIVFPQStats7nrefineE">
<span id="_CPPv3N5faiss15IndexIVFPQStats7nrefineE"></span><span id="_CPPv2N5faiss15IndexIVFPQStats7nrefineE"></span><span id="faiss::IndexIVFPQStats::nrefine__s"></span><span class="target" id="structfaiss_1_1IndexIVFPQStats_1a85d2d75d38483d9929383448e4e8cb33"></span>size_t <code class="sig-name descname">nrefine</code><br /></dt>
<dd><p>nb of refines (IVFPQR) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexIVFPQStats14n_hamming_passE">
<span id="_CPPv3N5faiss15IndexIVFPQStats14n_hamming_passE"></span><span id="_CPPv2N5faiss15IndexIVFPQStats14n_hamming_passE"></span><span id="faiss::IndexIVFPQStats::n_hamming_pass__s"></span><span class="target" id="structfaiss_1_1IndexIVFPQStats_1ae531123f47fc777db3e4d95789bfd6c6"></span>size_t <code class="sig-name descname">n_hamming_pass</code><br /></dt>
<dd><p>nb of passed Hamming distance tests (for polysemous) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexIVFPQStats13search_cyclesE">
<span id="_CPPv3N5faiss15IndexIVFPQStats13search_cyclesE"></span><span id="_CPPv2N5faiss15IndexIVFPQStats13search_cyclesE"></span><span id="faiss::IndexIVFPQStats::search_cycles__s"></span><span class="target" id="structfaiss_1_1IndexIVFPQStats_1a6b1fc7a99f1a4eb7d916dc36a7712140"></span>size_t <code class="sig-name descname">search_cycles</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexIVFPQStats13refine_cyclesE">
<span id="_CPPv3N5faiss15IndexIVFPQStats13refine_cyclesE"></span><span id="_CPPv2N5faiss15IndexIVFPQStats13refine_cyclesE"></span><span id="faiss::IndexIVFPQStats::refine_cycles__s"></span><span class="target" id="structfaiss_1_1IndexIVFPQStats_1a893c0045f56cccbfb73e42a716903fa0"></span>size_t <code class="sig-name descname">refine_cycles</code><br /></dt>
<dd><p>only for IVFPQR </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizerE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizerE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizerE"></span><span id="faiss::IndexIVFScalarQuantizer"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFScalarQuantizer</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a><br /></dt>
<dd><em>#include &lt;IndexScalarQuantizer.h&gt;</em><p>An IVF implementation where the components of the residuals are encoded with a scalar quantizer. All distance computations are asymmetric, so the encoded vectors are decoded and approximate distances are computed. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer5idx_tE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer11component_tE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer11component_tE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer10distance_tE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer10distance_tE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer23IndexIVFScalarQuantizerEP5Index6size_t6size_tN15ScalarQuantizer13QuantizerTypeE10MetricTypeb">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer23IndexIVFScalarQuantizerEP5Index6size_t6size_tN15ScalarQuantizer13QuantizerTypeE10MetricTypeb"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer23IndexIVFScalarQuantizerEP5Index6size_t6size_tN15ScalarQuantizer13QuantizerTypeE10MetricTypeb"></span><span id="faiss::IndexIVFScalarQuantizer::IndexIVFScalarQuantizer__IndexP.s.s.ScalarQuantizer::QuantizerType.MetricType.b"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1ad75d6b8c365344a0018f50f571371cb7"></span><code class="sig-name descname">IndexIVFScalarQuantizer</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist</em>, ScalarQuantizer::QuantizerType <em>qtype</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a>, bool <em>encode_residual</em> = true<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer23IndexIVFScalarQuantizerEv">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer23IndexIVFScalarQuantizerEv"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer23IndexIVFScalarQuantizerEv"></span><span id="faiss::IndexIVFScalarQuantizer::IndexIVFScalarQuantizer"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1ae94354a4979cb783cedc135529b46b03"></span><code class="sig-name descname">IndexIVFScalarQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer14train_residualE5idx_tPKf">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer14train_residualE5idx_tPKf"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer14train_residualE5idx_tPKf"></span><span id="faiss::IndexIVFScalarQuantizer::train_residual__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1ac05d7fbfed59c85d1cf8ae526d279744"></span>void <code class="sig-name descname">train_residual</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Sub-classes that encode the residuals can train their encoders here does nothing by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="faiss::IndexIVFScalarQuantizer::encode_vectors__idx_t.floatCP.idx_tCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1a53cc3b76de05e373198e0169cbe11a91"></span>void <code class="sig-name descname">encode_vectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>list_nos</em>, uint8_t *<em>codes</em>, bool <em>include_listnos</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Encodes a set of vectors as they would appear in the inverted lists</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list_nos</span></code>: inverted list ids as returned by the quantizer (size n). -1s are ignored. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes, size n * code_size </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_listno</span></code>: include the list ids in the code (in this case add ceil(log8(nlist)) to the code size) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexIVFScalarQuantizer::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1ae7b17fd2d485fa5a953203b88ceb180f"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>default implementation that calls encode_vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer23get_InvertedListScannerEb"></span><span id="faiss::IndexIVFScalarQuantizer::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1adc7ebf30f428bff86a5e265447ce32ec"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScannerE" title="faiss::InvertedListScanner">InvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get a scanner for this index (store_pairs means ignore labels) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer23reconstruct_from_offsetE7int64_t7int64_tPf">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="faiss::IndexIVFScalarQuantizer::reconstruct_from_offset__int64_t.int64_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1abc33d7d6a5f67719f3ee76b3b12d1f77"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span>int64_t <em>list_no</em>, int64_t <em>offset</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a vector given the location in terms of (inv list index + inv list offset) instead of the id.</p>
<p>Useful for reconstructing when the direct_map is not maintained and the inv list offset is computed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a> with <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFScalarQuantizer::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1ae10ad1a5c025337984277a68f4da4338"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer5resetEv">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer5resetEv"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer5resetEv"></span><span id="faiss::IndexIVFScalarQuantizer::reset"></span><span class="target" id="structfaiss_1_1IndexIVF_1a47a3b7665e9d2be41c6d3b2e9144b73f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5resetEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer5trainE5idx_tPKf">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer5trainE5idx_tPKf"></span><span id="faiss::IndexIVFScalarQuantizer::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7a1d5eec194db0977b2318c6ed6a2b86"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer3addE5idx_tPKf">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer3addE5idx_tPKf"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer3addE5idx_tPKf"></span><span id="faiss::IndexIVFScalarQuantizer::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a821002a9d3a1a74dc8d6f6072eca4075"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer3addE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Calls add_with_ids with NULL ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFScalarQuantizer::search_preassigned__idx_t.floatCP.idx_t.idx_tCP.floatCP.floatP.idx_tP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> float *<em>centroid_dis</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. The default implementation uses InvertedListScanners to do the search.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: search stats to be updated (can be null) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexIVFScalarQuantizer::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae2fd47b7d52603659e269aa8f6abb613"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexIVFScalarQuantizer::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5b7b4b3dc5ea40f7076a00c81cc83d66"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFScalarQuantizer::range_search_preassigned__idx_t.floatCP.float.idx_tCP.floatCP.RangeSearchResultP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae51e8f23f3283feb2f262d791f2f167c"></span>void <code class="sig-name descname">range_search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>coarse_dis</em>, RangeSearchResult *<em>result</em>, bool <em>store_pairs</em> = false, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer11reconstructE5idx_tPf"></span><span id="faiss::IndexIVFScalarQuantizer::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reconstruct a vector. Works only if maintain_direct_map is set to 1 or 2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer14update_vectorsEiPK5idx_tPKf">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer14update_vectorsEiPK5idx_tPKf"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer14update_vectorsEiPK5idx_tPKf"></span><span id="faiss::IndexIVFScalarQuantizer::update_vectors__i.idx_tCP.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a297563f801130e43485c1818b0e13901"></span>void <code class="sig-name descname">update_vectors</code><span class="sig-paren">(</span>int <em>nv</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>idx</em>, <em class="property">const</em> float *<em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer14update_vectorsEiPK5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Update a subset of vectors.</p>
<p>The index must have a direct_map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nv</span></code>: nb of vectors to update </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx</span></code>: vector indices to update, size nv </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: vectors of new values, size nv*d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexIVFScalarQuantizer::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7cc286dfbd8bfd43ea4b22173e28231c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexIVFScalarQuantizer::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a77aec24920024a09f7661790d9534c10"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer10remove_idsERK10IDSelector"></span><span id="faiss::IndexIVFScalarQuantizer::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f4d5e3d38ed2db026780522ffb85b9d"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer26check_compatible_for_mergeERK8IndexIVF">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer26check_compatible_for_mergeERK8IndexIVF"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer26check_compatible_for_mergeERK8IndexIVF"></span><span id="faiss::IndexIVFScalarQuantizer::check_compatible_for_merge__IndexIVFCRC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a76d85d286f3b58bba42b1d3c73dc9620"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer26check_compatible_for_mergeERK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>check that the two indexes are compatible (ie, they are trained in the same way and have the same parameters). Otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer10merge_fromER8IndexIVF5idx_t">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer10merge_fromER8IndexIVF5idx_t"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer10merge_fromER8IndexIVF5idx_t"></span><span id="faiss::IndexIVFScalarQuantizer::merge_from__IndexIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa38b33056ccb93cd4a2852eb26227899"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer10merge_fromER8IndexIVF5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer14copy_subset_toER8IndexIVFi5idx_t5idx_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="faiss::IndexIVFScalarQuantizer::copy_subset_to__IndexIVFR.i.idx_t.idx_tC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"></span>void <code class="sig-name descname">copy_subset_to</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, int <em>subset_type</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>a1</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>a2</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer14copy_subset_toER8IndexIVFi5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>copy a subset of the entries index to the other index</p>
<p>if subset_type == 0: copies ids in [a1, a2) if subset_type == 1: copies ids if id % a1 == a2 if subset_type == 2: copies inverted lists such that a1 elements are left before and a2 elements are after </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer13get_list_sizeE6size_t"></span><span id="faiss::IndexIVFScalarQuantizer::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a521b6f7be5cacd0a1707e42ae9dfd018"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer13get_list_sizeE6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer15make_direct_mapEb">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer15make_direct_mapEb"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer15make_direct_mapEb"></span><span id="faiss::IndexIVFScalarQuantizer::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1c11ce77f459e2ab3e5d9a4c2263ad89"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer15make_direct_mapEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexIVFScalarQuantizer::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1a896475b88eff587c434dd796afa55a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer19set_direct_map_typeEN9DirectMap4TypeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexIVFScalarQuantizer::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4eb943aeb7df30d44ad9b665452bfcf7"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer16replace_invlistsEP13InvertedListsb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>replace the inverted lists, old one is deallocated if own_invlists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer12sa_code_sizeEv">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer12sa_code_sizeEv"></span><span id="faiss::IndexIVFScalarQuantizer::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFScalarQuantizer::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a9d28b314ee008589eb41ce2823a088b6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexIVFScalarQuantizer::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexIVFScalarQuantizer::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexIVFScalarQuantizer::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer21get_distance_computerEv">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer21get_distance_computerEv"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer21get_distance_computerEv"></span><span id="faiss::IndexIVFScalarQuantizer::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::IndexIVFScalarQuantizer::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer8train_q1E6size_tPKfb10MetricType" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer16coarse_code_sizeEv"></span><span id="faiss::IndexIVFScalarQuantizer::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer16coarse_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::IndexIVFScalarQuantizer::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer13encode_listnoEN5Index5idx_tEP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss23IndexIVFScalarQuantizer13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss23IndexIVFScalarQuantizer13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss23IndexIVFScalarQuantizer13decode_listnoEPK7uint8_t"></span><span id="faiss::IndexIVFScalarQuantizer::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss23IndexIVFScalarQuantizer13decode_listnoEPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer2sqE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer2sqE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer2sqE"></span><span id="faiss::IndexIVFScalarQuantizer::sq__ScalarQuantizer"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1a9270ceca43cc0972a653993f1f7042d7"></span>ScalarQuantizer <code class="sig-name descname">sq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer11by_residualE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer11by_residualE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer11by_residualE"></span><span id="faiss::IndexIVFScalarQuantizer::by_residual__b"></span><span class="target" id="structfaiss_1_1IndexIVFScalarQuantizer_1a1a66a57e41a23e0df2349d4cac060d4a"></span>bool <code class="sig-name descname">by_residual</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer8invlistsE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer8invlistsE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer8invlistsE"></span><span id="faiss::IndexIVFScalarQuantizer::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa0e8fc5e04cbd8e0dde61f98bc7dd0bc"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer8invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer12own_invlistsE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer12own_invlistsE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer12own_invlistsE"></span><span id="faiss::IndexIVFScalarQuantizer::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5743b18d78fe1b9910d8ff8670f207d7"></span>bool <code class="sig-name descname">own_invlists</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer12own_invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer9code_sizeE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer9code_sizeE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer9code_sizeE"></span><span id="faiss::IndexIVFScalarQuantizer::code_size__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a46d1aeddb60643c5b3f096147c3e028f"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer6nprobeE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer6nprobeE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer6nprobeE"></span><span id="faiss::IndexIVFScalarQuantizer::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1affed235eadf27a13d753ee4d33a1dc58"></span>size_t <code class="sig-name descname">nprobe</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer6nprobeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer9max_codesE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer9max_codesE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer9max_codesE"></span><span id="faiss::IndexIVFScalarQuantizer::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f2dd34f66f8770acba74a0a591fa4a8"></span>size_t <code class="sig-name descname">max_codes</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer9max_codesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer13parallel_modeE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer13parallel_modeE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer13parallel_modeE"></span><span id="faiss::IndexIVFScalarQuantizer::parallel_mode__i"></span><span class="target" id="structfaiss_1_1IndexIVF_1a244ec2067da495ff1493687e0048ae02"></span>int <code class="sig-name descname">parallel_mode</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer13parallel_modeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Parallel mode determines how queries are parallelized with OpenMP</p>
<p>0 (default): split over queries 1: parallelize over inverted lists 2: parallelize over both 3: split over queries with a finer granularity</p>
<p>PARALLEL_MODE_NO_HEAP_INIT: binary or with the previous to prevent the heap to be initialized and finalized </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer26PARALLEL_MODE_NO_HEAP_INITE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="faiss::IndexIVFScalarQuantizer::PARALLEL_MODE_NO_HEAP_INIT__iC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa221f301cca11e1ab59d6c12e08a0240"></span><em class="property">const</em> int <code class="sig-name descname">PARALLEL_MODE_NO_HEAP_INIT</code> = 1024<a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer26PARALLEL_MODE_NO_HEAP_INITE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer10direct_mapE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer10direct_mapE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer10direct_mapE"></span><span id="faiss::IndexIVFScalarQuantizer::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae1267a1770ef6c8fa111891110e6fa69"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer10direct_mapE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>optional map that maps back ids to invlist entries. This enables <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer1dE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer1dE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer1dE"></span><span id="faiss::IndexIVFScalarQuantizer::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer6ntotalE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer6ntotalE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer6ntotalE"></span><span id="faiss::IndexIVFScalarQuantizer::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5idx_tE" title="faiss::IndexIVFScalarQuantizer::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer7verboseE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer7verboseE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer7verboseE"></span><span id="faiss::IndexIVFScalarQuantizer::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer10is_trainedE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer10is_trainedE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer10is_trainedE"></span><span id="faiss::IndexIVFScalarQuantizer::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer11metric_typeE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer11metric_typeE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer11metric_typeE"></span><span id="faiss::IndexIVFScalarQuantizer::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer10metric_argE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer10metric_argE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer10metric_argE"></span><span id="faiss::IndexIVFScalarQuantizer::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer9quantizerE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer9quantizerE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer9quantizerE"></span><span id="faiss::IndexIVFScalarQuantizer::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer9quantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer5nlistE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer5nlistE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer5nlistE"></span><span id="faiss::IndexIVFScalarQuantizer::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer22quantizer_trains_aloneE"></span><span id="faiss::IndexIVFScalarQuantizer::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer22quantizer_trains_aloneE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer10own_fieldsE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer10own_fieldsE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer10own_fieldsE"></span><span id="faiss::IndexIVFScalarQuantizer::own_fields__b"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab688c629cd42122d73517078b87f483d"></span>bool <code class="sig-name descname">own_fields</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer10own_fieldsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer2cpE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer2cpE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer2cpE"></span><span id="faiss::IndexIVFScalarQuantizer::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer2cpE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss23IndexIVFScalarQuantizer16clustering_indexE">
<span id="_CPPv3N5faiss23IndexIVFScalarQuantizer16clustering_indexE"></span><span id="_CPPv2N5faiss23IndexIVFScalarQuantizer16clustering_indexE"></span><span id="faiss::IndexIVFScalarQuantizer::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><a class="headerlink" href="#_CPPv4N5faiss23IndexIVFScalarQuantizer16clustering_indexE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHashE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHashE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHashE"></span><span id="faiss::IndexIVFSpectralHash"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFSpectralHash</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a><br /></dt>
<dd><em>#include &lt;IndexIVFSpectralHash.h&gt;</em><p>Inverted list that stores binary codes of size nbit. Before the binary conversion, the dimension of the vectors is transformed from dim d into dim nbit by vt (a random rotation by default).</p>
<p>Each coordinate is subtracted from a value determined by threshold_type, and split into intervals of size period. Half of the interval is a 0 bit, the other half a 1. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash13ThresholdTypeE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash13ThresholdTypeE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash13ThresholdTypeE"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1ab1fcef4721c51d66cbca92c45fba12a4"></span><em class="property">enum </em><code class="sig-name descname">ThresholdType</code><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash13ThresholdType13Thresh_globalE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash13ThresholdType13Thresh_globalE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash13ThresholdType13Thresh_globalE"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1ab1fcef4721c51d66cbca92c45fba12a4a3ab3b703718e6b04ca23c425c5b6a8ab"></span><em class="property">enumerator </em><code class="sig-name descname">Thresh_global</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash13ThresholdType15Thresh_centroidE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash13ThresholdType15Thresh_centroidE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash13ThresholdType15Thresh_centroidE"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1ab1fcef4721c51d66cbca92c45fba12a4a35dfb9020885c920fa002d1831359fee"></span><em class="property">enumerator </em><code class="sig-name descname">Thresh_centroid</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash13ThresholdType20Thresh_centroid_halfE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash13ThresholdType20Thresh_centroid_halfE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash13ThresholdType20Thresh_centroid_halfE"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1ab1fcef4721c51d66cbca92c45fba12a4ad2ed8067dc6d12e1b4e97aac55b654fb"></span><em class="property">enumerator </em><code class="sig-name descname">Thresh_centroid_half</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash13ThresholdType13Thresh_medianE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash13ThresholdType13Thresh_medianE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash13ThresholdType13Thresh_medianE"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1ab1fcef4721c51d66cbca92c45fba12a4afb2205224f67828bf1447a7753d4b451"></span><em class="property">enumerator </em><code class="sig-name descname">Thresh_median</code><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash5idx_tE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash11component_tE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash11component_tE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash10distance_tE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash10distance_tE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash20IndexIVFSpectralHashEP5Index6size_t6size_tif">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash20IndexIVFSpectralHashEP5Index6size_t6size_tif"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash20IndexIVFSpectralHashEP5Index6size_t6size_tif"></span><span id="faiss::IndexIVFSpectralHash::IndexIVFSpectralHash__IndexP.s.s.i.float"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1ae0f985d0c43ed103eb95638c1a51877c"></span><code class="sig-name descname">IndexIVFSpectralHash</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>d</em>, size_t <em>nlist</em>, int <em>nbit</em>, float <em>period</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash20IndexIVFSpectralHashEv">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash20IndexIVFSpectralHashEv"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash20IndexIVFSpectralHashEv"></span><span id="faiss::IndexIVFSpectralHash::IndexIVFSpectralHash"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1a7a3c17923349a96cf6e330624539d51a"></span><code class="sig-name descname">IndexIVFSpectralHash</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash14train_residualE5idx_tPKf">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash14train_residualE5idx_tPKf"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash14train_residualE5idx_tPKf"></span><span id="faiss::IndexIVFSpectralHash::train_residual__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1a47c66c0610e9e7e42e584f5560791707"></span>void <code class="sig-name descname">train_residual</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Sub-classes that encode the residuals can train their encoders here does nothing by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash14encode_vectorsE5idx_tPKfPK5idx_tP7uint8_tb"></span><span id="faiss::IndexIVFSpectralHash::encode_vectors__idx_t.floatCP.idx_tCP.uint8_tP.bC"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1aecae74e51701e356d64788404814bb46"></span>void <code class="sig-name descname">encode_vectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>list_nos</em>, uint8_t *<em>codes</em>, bool <em>include_listnos</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Encodes a set of vectors as they would appear in the inverted lists</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list_nos</span></code>: inverted list ids as returned by the quantizer (size n). -1s are ignored. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: output codes, size n * code_size </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">include_listno</span></code>: include the list ids in the code (in this case add ceil(log8(nlist)) to the code size) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash23get_InvertedListScannerEb">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash23get_InvertedListScannerEb"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash23get_InvertedListScannerEb"></span><span id="faiss::IndexIVFSpectralHash::get_InvertedListScanner__bC"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1ac4068ed995795b111ac89b81599d65a0"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScannerE" title="faiss::InvertedListScanner">InvertedListScanner</a> *<code class="sig-name descname">get_InvertedListScanner</code><span class="sig-paren">(</span>bool <em>store_pairs</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get a scanner for this index (store_pairs means ignore labels) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHashD0Ev">
<span id="_CPPv3N5faiss20IndexIVFSpectralHashD0Ev"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHashD0Ev"></span><span id="faiss::IndexIVFSpectralHash::~IndexIVFSpectralHash"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1a336f814b40bccbce9f2e0ea8b9a0bcf3"></span><code class="sig-name descname">~IndexIVFSpectralHash</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash5resetEv">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash5resetEv"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash5resetEv"></span><span id="faiss::IndexIVFSpectralHash::reset"></span><span class="target" id="structfaiss_1_1IndexIVF_1a47a3b7665e9d2be41c6d3b2e9144b73f"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash5resetEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash5trainE5idx_tPKf">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash5trainE5idx_tPKf"></span><span id="faiss::IndexIVFSpectralHash::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7a1d5eec194db0977b2318c6ed6a2b86"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash5trainE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash3addE5idx_tPKf">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash3addE5idx_tPKf"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash3addE5idx_tPKf"></span><span id="faiss::IndexIVFSpectralHash::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a821002a9d3a1a74dc8d6f6072eca4075"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash3addE5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Calls add_with_ids with NULL ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexIVFSpectralHash::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a14e75169bddcd0251134821416b060a1"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>default implementation that calls encode_vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFSpectralHash::search_preassigned__idx_t.floatCP.idx_t.idx_tCP.floatCP.floatP.idx_tP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"></span>void <code class="sig-name descname">search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>k</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>assign</em>, <em class="property">const</em> float *<em>centroid_dis</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>labels</em>, bool <em>store_pairs</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash18search_preassignedE5idx_tPKf5idx_tPK5idx_tPKfPfP5idx_tbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>search a set of vectors, that are pre-quantized by the IVF quantizer. Fill in the corresponding heaps with the query results. The default implementation uses InvertedListScanners to do the search.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of vectors to query </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vectors, size nx * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">assign</span></code>: coarse quantization indices, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">centroid_dis</span></code>: distances to coarse centroids, size nx * nprobe </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code>: output distances, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels, size n * k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">store_pairs</span></code>: store inv list index + inv list offset instead in upper/lower 32 bit of result, instead of ids (used for reranking). </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: used to override the objectâs search parameters </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stats</span></code>: search stats to be updated (can be null) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexIVFSpectralHash::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae2fd47b7d52603659e269aa8f6abb613"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash6searchE5idx_tPKf5idx_tPfP5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>assign the vectors, then call search_preassign </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexIVFSpectralHash::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5b7b4b3dc5ea40f7076a00c81cc83d66"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats"></span><span id="faiss::IndexIVFSpectralHash::range_search_preassigned__idx_t.floatCP.float.idx_tCP.floatCP.RangeSearchResultP.b.IVFSearchParametersCP.IndexIVFStatsPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae51e8f23f3283feb2f262d791f2f167c"></span>void <code class="sig-name descname">range_search_preassigned</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>nx</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>keys</em>, <em class="property">const</em> float *<em>coarse_dis</em>, RangeSearchResult *<em>result</em>, bool <em>store_pairs</em> = false, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em> = nullptr, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> *<em>stats</em> = nullptr<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash24range_search_preassignedE5idx_tPKffPK5idx_tPKfP17RangeSearchResultbPK19IVFSearchParametersP13IndexIVFStats" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash11reconstructE5idx_tPf"></span><span id="faiss::IndexIVFSpectralHash::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reconstruct a vector. Works only if maintain_direct_map is set to 1 or 2 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash14update_vectorsEiPK5idx_tPKf">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash14update_vectorsEiPK5idx_tPKf"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash14update_vectorsEiPK5idx_tPKf"></span><span id="faiss::IndexIVFSpectralHash::update_vectors__i.idx_tCP.floatCP"></span><span class="target" id="structfaiss_1_1IndexIVF_1a297563f801130e43485c1818b0e13901"></span>void <code class="sig-name descname">update_vectors</code><span class="sig-paren">(</span>int <em>nv</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>idx</em>, <em class="property">const</em> float *<em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash14update_vectorsEiPK5idx_tPKf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Update a subset of vectors.</p>
<p>The index must have a direct_map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">nv</span></code>: nb of vectors to update </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">idx</span></code>: vector indices to update, size nv </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: vectors of new values, size nv*d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexIVFSpectralHash::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7cc286dfbd8bfd43ea4b22173e28231c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a subset of the indexed vectors.</p>
<p>Overrides default implementation to bypass <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> which requires direct_map to be maintained.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i0</span></code>: first vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ni</span></code>: nb of vectors to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: output array of reconstructed vectors, size ni * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexIVFSpectralHash::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a77aec24920024a09f7661790d9534c10"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>Overrides default implementation to avoid having to maintain direct_map and instead fetch the code offsets through the <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> flag in <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a>.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash23reconstruct_from_offsetE7int64_t7int64_tPf">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash23reconstruct_from_offsetE7int64_t7int64_tPf"></span><span id="faiss::IndexIVFSpectralHash::reconstruct_from_offset__int64_t.int64_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ab02ee6dbd2a3c6a2144fc4ad8f7afe4d"></span>void <code class="sig-name descname">reconstruct_from_offset</code><span class="sig-paren">(</span>int64_t <em>list_no</em>, int64_t <em>offset</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash23reconstruct_from_offsetE7int64_t7int64_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a vector given the location in terms of (inv list index + inv list offset) instead of the id.</p>
<p>Useful for reconstructing when the direct_map is not maintained and the inv list offset is computed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a4185d97542d16576ca0eff6e90bae1a6"><span class="std std-ref">search_preassigned()</span></a> with <code class="docutils literal notranslate"><span class="pre">store_pairs</span></code> set. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash10remove_idsERK10IDSelector"></span><span id="faiss::IndexIVFSpectralHash::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f4d5e3d38ed2db026780522ffb85b9d"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Dataset manipulation functions. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash26check_compatible_for_mergeERK8IndexIVF">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash26check_compatible_for_mergeERK8IndexIVF"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash26check_compatible_for_mergeERK8IndexIVF"></span><span id="faiss::IndexIVFSpectralHash::check_compatible_for_merge__IndexIVFCRC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a76d85d286f3b58bba42b1d3c73dc9620"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash26check_compatible_for_mergeERK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>check that the two indexes are compatible (ie, they are trained in the same way and have the same parameters). Otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash10merge_fromER8IndexIVF5idx_t">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash10merge_fromER8IndexIVF5idx_t"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash10merge_fromER8IndexIVF5idx_t"></span><span id="faiss::IndexIVFSpectralHash::merge_from__IndexIVFR.idx_t"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa38b33056ccb93cd4a2852eb26227899"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>add_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash10merge_fromER8IndexIVF5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>moves the entries from another dataset to self. On output, other is empty. add_id is added to all moved ids (for sequential ids, this would be this-&gt;ntotal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash14copy_subset_toER8IndexIVFi5idx_t5idx_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash14copy_subset_toER8IndexIVFi5idx_t5idx_t"></span><span id="faiss::IndexIVFSpectralHash::copy_subset_to__IndexIVFR.i.idx_t.idx_tC"></span><span class="target" id="structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"></span>void <code class="sig-name descname">copy_subset_to</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> &amp;<em>other</em>, int <em>subset_type</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>a1</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>a2</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash14copy_subset_toER8IndexIVFi5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>copy a subset of the entries index to the other index</p>
<p>if subset_type == 0: copies ids in [a1, a2) if subset_type == 1: copies ids if id % a1 == a2 if subset_type == 2: copies inverted lists such that a1 elements are left before and a2 elements are after </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash13get_list_sizeE6size_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash13get_list_sizeE6size_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash13get_list_sizeE6size_t"></span><span id="faiss::IndexIVFSpectralHash::get_list_size__sC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a521b6f7be5cacd0a1707e42ae9dfd018"></span>size_t <code class="sig-name descname">get_list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash13get_list_sizeE6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash15make_direct_mapEb">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash15make_direct_mapEb"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash15make_direct_mapEb"></span><span id="faiss::IndexIVFSpectralHash::make_direct_map__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1c11ce77f459e2ab3e5d9a4c2263ad89"></span>void <code class="sig-name descname">make_direct_map</code><span class="sig-paren">(</span>bool <em>new_maintain_direct_map</em> = true<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash15make_direct_mapEb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>intialize a direct map</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">new_maintain_direct_map</span></code>: if true, create a direct map, else clear it </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash19set_direct_map_typeEN9DirectMap4TypeE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash19set_direct_map_typeEN9DirectMap4TypeE"></span><span id="faiss::IndexIVFSpectralHash::set_direct_map_type__DirectMap::Type"></span><span class="target" id="structfaiss_1_1IndexIVF_1a1a896475b88eff587c434dd796afa55a"></span>void <code class="sig-name descname">set_direct_map_type</code><span class="sig-paren">(</span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a>::<a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMap4TypeE" title="faiss::DirectMap::Type">Type</a> <em>type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash19set_direct_map_typeEN9DirectMap4TypeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash16replace_invlistsEP13InvertedListsb">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash16replace_invlistsEP13InvertedListsb"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash16replace_invlistsEP13InvertedListsb"></span><span id="faiss::IndexIVFSpectralHash::replace_invlists__InvertedListsP.b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a4eb943aeb7df30d44ad9b665452bfcf7"></span>void <code class="sig-name descname">replace_invlists</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>own</em> = false<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash16replace_invlistsEP13InvertedListsb" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>replace the inverted lists, old one is deallocated if own_invlists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash12sa_code_sizeEv">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash12sa_code_sizeEv"></span><span id="faiss::IndexIVFSpectralHash::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexIVFSpectralHash::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexIVF_1a9d28b314ee008589eb41ce2823a088b6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a89b7f3a7b35db764bc071aa5ab302b1d"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexIVFSpectralHash::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexIVFSpectralHash::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexIVFSpectralHash::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash21get_distance_computerEv">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash21get_distance_computerEv"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash21get_distance_computerEv"></span><span id="faiss::IndexIVFSpectralHash::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexIVFSpectralHash::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::IndexIVFSpectralHash::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash8train_q1E6size_tPKfb10MetricType" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash16coarse_code_sizeEv"></span><span id="faiss::IndexIVFSpectralHash::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash16coarse_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::IndexIVFSpectralHash::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash13encode_listnoEN5Index5idx_tEP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexIVFSpectralHash13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss20IndexIVFSpectralHash13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss20IndexIVFSpectralHash13decode_listnoEPK7uint8_t"></span><span id="faiss::IndexIVFSpectralHash::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexIVFSpectralHash13decode_listnoEPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash2vtE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash2vtE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash2vtE"></span><span id="faiss::IndexIVFSpectralHash::vt__VectorTransformP"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1aea6fba82a2b471e8bdddbaba2050e446"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">vt</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash10own_fieldsE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash10own_fieldsE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash10own_fieldsE"></span><span id="faiss::IndexIVFSpectralHash::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1a7481e7ffaeb23c6fb91940d03b55724d"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash4nbitE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash4nbitE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash4nbitE"></span><span id="faiss::IndexIVFSpectralHash::nbit__i"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1a0fab89bc0764922e318968e2c58a3b10"></span>int <code class="sig-name descname">nbit</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash6periodE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash6periodE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash6periodE"></span><span id="faiss::IndexIVFSpectralHash::period__float"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1af703982dd558f11b2d6647968ee61156"></span>float <code class="sig-name descname">period</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash14threshold_typeE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash14threshold_typeE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash14threshold_typeE"></span><span id="faiss::IndexIVFSpectralHash::threshold_type__ThresholdType"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1a9e078b0de9b87e427ce6b0b157020f85"></span><a class="reference internal" href="../file/IndexIVFSpectralHash_8h.html#_CPPv4N5faiss20IndexIVFSpectralHash13ThresholdTypeE" title="faiss::IndexIVFSpectralHash::ThresholdType">ThresholdType</a> <code class="sig-name descname">threshold_type</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash7trainedE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash7trainedE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash7trainedE"></span><span id="faiss::IndexIVFSpectralHash::trained__std::vector:float:"></span><span class="target" id="structfaiss_1_1IndexIVFSpectralHash_1aa24e53a2ebde491ff7840429c892fc5f"></span>std::vector&lt;float&gt; <code class="sig-name descname">trained</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash8invlistsE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash8invlistsE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash8invlistsE"></span><span id="faiss::IndexIVFSpectralHash::invlists__InvertedListsP"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa0e8fc5e04cbd8e0dde61f98bc7dd0bc"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">invlists</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash8invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Access to the actual data. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash12own_invlistsE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash12own_invlistsE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash12own_invlistsE"></span><span id="faiss::IndexIVFSpectralHash::own_invlists__b"></span><span class="target" id="structfaiss_1_1IndexIVF_1a5743b18d78fe1b9910d8ff8670f207d7"></span>bool <code class="sig-name descname">own_invlists</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash12own_invlistsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash9code_sizeE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash9code_sizeE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash9code_sizeE"></span><span id="faiss::IndexIVFSpectralHash::code_size__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a46d1aeddb60643c5b3f096147c3e028f"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash6nprobeE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash6nprobeE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash6nprobeE"></span><span id="faiss::IndexIVFSpectralHash::nprobe__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1affed235eadf27a13d753ee4d33a1dc58"></span>size_t <code class="sig-name descname">nprobe</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash6nprobeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash9max_codesE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash9max_codesE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash9max_codesE"></span><span id="faiss::IndexIVFSpectralHash::max_codes__s"></span><span class="target" id="structfaiss_1_1IndexIVF_1a7f2dd34f66f8770acba74a0a591fa4a8"></span>size_t <code class="sig-name descname">max_codes</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash9max_codesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash13parallel_modeE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash13parallel_modeE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash13parallel_modeE"></span><span id="faiss::IndexIVFSpectralHash::parallel_mode__i"></span><span class="target" id="structfaiss_1_1IndexIVF_1a244ec2067da495ff1493687e0048ae02"></span>int <code class="sig-name descname">parallel_mode</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash13parallel_modeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Parallel mode determines how queries are parallelized with OpenMP</p>
<p>0 (default): split over queries 1: parallelize over inverted lists 2: parallelize over both 3: split over queries with a finer granularity</p>
<p>PARALLEL_MODE_NO_HEAP_INIT: binary or with the previous to prevent the heap to be initialized and finalized </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash26PARALLEL_MODE_NO_HEAP_INITE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash26PARALLEL_MODE_NO_HEAP_INITE"></span><span id="faiss::IndexIVFSpectralHash::PARALLEL_MODE_NO_HEAP_INIT__iC"></span><span class="target" id="structfaiss_1_1IndexIVF_1aa221f301cca11e1ab59d6c12e08a0240"></span><em class="property">const</em> int <code class="sig-name descname">PARALLEL_MODE_NO_HEAP_INIT</code> = 1024<a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash26PARALLEL_MODE_NO_HEAP_INITE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash10direct_mapE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash10direct_mapE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash10direct_mapE"></span><span id="faiss::IndexIVFSpectralHash::direct_map__DirectMap"></span><span class="target" id="structfaiss_1_1IndexIVF_1ae1267a1770ef6c8fa111891110e6fa69"></span><a class="reference internal" href="../file/DirectMap_8h.html#_CPPv4N5faiss9DirectMapE" title="faiss::DirectMap">DirectMap</a> <code class="sig-name descname">direct_map</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash10direct_mapE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>optional map that maps back ids to invlist entries. This enables <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1a3b3270dcfa248dc30117644382a54e39"><span class="std std-ref">reconstruct()</span></a> </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash1dE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash1dE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash1dE"></span><span id="faiss::IndexIVFSpectralHash::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash6ntotalE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash6ntotalE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash6ntotalE"></span><span id="faiss::IndexIVFSpectralHash::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss20IndexIVFSpectralHash5idx_tE" title="faiss::IndexIVFSpectralHash::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash7verboseE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash7verboseE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash7verboseE"></span><span id="faiss::IndexIVFSpectralHash::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash10is_trainedE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash10is_trainedE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash10is_trainedE"></span><span id="faiss::IndexIVFSpectralHash::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash11metric_typeE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash11metric_typeE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash11metric_typeE"></span><span id="faiss::IndexIVFSpectralHash::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash10metric_argE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash10metric_argE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash10metric_argE"></span><span id="faiss::IndexIVFSpectralHash::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash9quantizerE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash9quantizerE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash9quantizerE"></span><span id="faiss::IndexIVFSpectralHash::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash9quantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash5nlistE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash5nlistE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash5nlistE"></span><span id="faiss::IndexIVFSpectralHash::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash22quantizer_trains_aloneE"></span><span id="faiss::IndexIVFSpectralHash::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash22quantizer_trains_aloneE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash2cpE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash2cpE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash2cpE"></span><span id="faiss::IndexIVFSpectralHash::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash2cpE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexIVFSpectralHash16clustering_indexE">
<span id="_CPPv3N5faiss20IndexIVFSpectralHash16clustering_indexE"></span><span id="_CPPv2N5faiss20IndexIVFSpectralHash16clustering_indexE"></span><span id="faiss::IndexIVFSpectralHash::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><a class="headerlink" href="#_CPPv4N5faiss20IndexIVFSpectralHash16clustering_indexE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss13IndexIVFStatsE">
<span id="_CPPv3N5faiss13IndexIVFStatsE"></span><span id="_CPPv2N5faiss13IndexIVFStatsE"></span><span id="faiss::IndexIVFStats"></span><span class="target" id="structfaiss_1_1IndexIVFStats"></span><em class="property">struct </em><code class="sig-name descname">IndexIVFStats</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexIVFStats13IndexIVFStatsEv">
<span id="_CPPv3N5faiss13IndexIVFStats13IndexIVFStatsEv"></span><span id="_CPPv2N5faiss13IndexIVFStats13IndexIVFStatsEv"></span><span id="faiss::IndexIVFStats::IndexIVFStats"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1a05922812f1133c096bf2c8e1f3123d15"></span><code class="sig-name descname">IndexIVFStats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexIVFStats5resetEv">
<span id="_CPPv3N5faiss13IndexIVFStats5resetEv"></span><span id="_CPPv2N5faiss13IndexIVFStats5resetEv"></span><span id="faiss::IndexIVFStats::reset"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1a211fe212aeb58cb10c0f0083cb9fbff9"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13IndexIVFStats3addERK13IndexIVFStats">
<span id="_CPPv3N5faiss13IndexIVFStats3addERK13IndexIVFStats"></span><span id="_CPPv2N5faiss13IndexIVFStats3addERK13IndexIVFStats"></span><span id="faiss::IndexIVFStats::add__IndexIVFStatsCR"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1a369d717ea654ebfc1dc393ca28e82fc0"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss13IndexIVFStatsE" title="faiss::IndexIVFStats">IndexIVFStats</a> &amp;<em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexIVFStats2nqE">
<span id="_CPPv3N5faiss13IndexIVFStats2nqE"></span><span id="_CPPv2N5faiss13IndexIVFStats2nqE"></span><span id="faiss::IndexIVFStats::nq__s"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1acffe21a0ec902bc0b695f9615c053b91"></span>size_t <code class="sig-name descname">nq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexIVFStats5nlistE">
<span id="_CPPv3N5faiss13IndexIVFStats5nlistE"></span><span id="_CPPv2N5faiss13IndexIVFStats5nlistE"></span><span id="faiss::IndexIVFStats::nlist__s"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1a17f1e02b488a05d2dd117d540c16e86d"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexIVFStats4ndisE">
<span id="_CPPv3N5faiss13IndexIVFStats4ndisE"></span><span id="_CPPv2N5faiss13IndexIVFStats4ndisE"></span><span id="faiss::IndexIVFStats::ndis__s"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1a9a1c44adba73e94c5d46dcf5c0076942"></span>size_t <code class="sig-name descname">ndis</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexIVFStats13nheap_updatesE">
<span id="_CPPv3N5faiss13IndexIVFStats13nheap_updatesE"></span><span id="_CPPv2N5faiss13IndexIVFStats13nheap_updatesE"></span><span id="faiss::IndexIVFStats::nheap_updates__s"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1a8c235053dcbbaa31ca15abc0af619e37"></span>size_t <code class="sig-name descname">nheap_updates</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexIVFStats17quantization_timeE">
<span id="_CPPv3N5faiss13IndexIVFStats17quantization_timeE"></span><span id="_CPPv2N5faiss13IndexIVFStats17quantization_timeE"></span><span id="faiss::IndexIVFStats::quantization_time__double"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1a76921d378c428b0448664e9a2c797942"></span>double <code class="sig-name descname">quantization_time</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13IndexIVFStats11search_timeE">
<span id="_CPPv3N5faiss13IndexIVFStats11search_timeE"></span><span id="_CPPv2N5faiss13IndexIVFStats11search_timeE"></span><span id="faiss::IndexIVFStats::search_time__double"></span><span class="target" id="structfaiss_1_1IndexIVFStats_1a121510b37cfa603d7a40c5d7c8f8501c"></span>double <code class="sig-name descname">search_time</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss12IndexLatticeE">
<span id="_CPPv3N5faiss12IndexLatticeE"></span><span id="_CPPv2N5faiss12IndexLatticeE"></span><span id="faiss::IndexLattice"></span><span class="target" id="structfaiss_1_1IndexLattice"></span><em class="property">struct </em><code class="sig-name descname">IndexLattice</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexLattice.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> that encodes a vector with a series of Zn lattice quantizers </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss12IndexLattice5idx_tE">
<span id="_CPPv3N5faiss12IndexLattice5idx_tE"></span><span id="_CPPv2N5faiss12IndexLattice5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss12IndexLattice11component_tE">
<span id="_CPPv3N5faiss12IndexLattice11component_tE"></span><span id="_CPPv2N5faiss12IndexLattice11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss12IndexLattice11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss12IndexLattice10distance_tE">
<span id="_CPPv3N5faiss12IndexLattice10distance_tE"></span><span id="_CPPv2N5faiss12IndexLattice10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss12IndexLattice10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexLattice12IndexLatticeE5idx_tiii">
<span id="_CPPv3N5faiss12IndexLattice12IndexLatticeE5idx_tiii"></span><span id="_CPPv2N5faiss12IndexLattice12IndexLatticeE5idx_tiii"></span><span id="faiss::IndexLattice::IndexLattice__idx_t.i.i.i"></span><span class="target" id="structfaiss_1_1IndexLattice_1a4deba2703180b15a76050ff231efdf56"></span><code class="sig-name descname">IndexLattice</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>d</em>, int <em>nsq</em>, int <em>scale_nbit</em>, int <em>r2</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexLattice5trainE5idx_tPKf">
<span id="_CPPv3N5faiss12IndexLattice5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss12IndexLattice5trainE5idx_tPKf"></span><span id="faiss::IndexLattice::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexLattice_1a19a6d0136b34d904d147f16922a64b93"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice12sa_code_sizeEv">
<span id="_CPPv3NK5faiss12IndexLattice12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss12IndexLattice12sa_code_sizeEv"></span><span id="faiss::IndexLattice::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexLattice_1ac7c27786912bed039ef8d05a82db0acb"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss12IndexLattice9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss12IndexLattice9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexLattice::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexLattice_1abbe02fd8270a854f7b25285d9a0a5752"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexLattice.html#structfaiss_1_1IndexLattice_1ac7c27786912bed039ef8d05a82db0acb"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss12IndexLattice9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss12IndexLattice9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexLattice::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexLattice_1a3fd27c778f435412336110785ba7124d"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexLattice.html#structfaiss_1_1IndexLattice_1ac7c27786912bed039ef8d05a82db0acb"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexLattice3addE5idx_tPKf">
<span id="_CPPv3N5faiss12IndexLattice3addE5idx_tPKf"></span><span id="_CPPv2N5faiss12IndexLattice3addE5idx_tPKf"></span><span id="faiss::IndexLattice::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexLattice_1a174ccb3a272fa38dd9adfb78757ece76"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>not implemented </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss12IndexLattice6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss12IndexLattice6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexLattice::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexLattice_1a9631d430b912348e5e16277251dda5e7"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexLattice5resetEv">
<span id="_CPPv3N5faiss12IndexLattice5resetEv"></span><span id="_CPPv2N5faiss12IndexLattice5resetEv"></span><span id="faiss::IndexLattice::reset"></span><span class="target" id="structfaiss_1_1IndexLattice_1a5282d7f60eecbd5f552f184944a36b06"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexLattice12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss12IndexLattice12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss12IndexLattice12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexLattice::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexLattice12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss12IndexLattice12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss12IndexLattice12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexLattice::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexLattice12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss12IndexLattice6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss12IndexLattice6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexLattice::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexLattice6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexLattice10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss12IndexLattice10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss12IndexLattice10remove_idsERK10IDSelector"></span><span id="faiss::IndexLattice::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12IndexLattice10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss12IndexLattice11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss12IndexLattice11reconstructE5idx_tPf"></span><span id="faiss::IndexLattice::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexLattice11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss12IndexLattice13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss12IndexLattice13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexLattice::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexLattice13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss12IndexLattice22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss12IndexLattice22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexLattice::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexLattice22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss12IndexLattice16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss12IndexLattice16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexLattice::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexLattice16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss12IndexLattice18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss12IndexLattice18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexLattice::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexLattice18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12IndexLattice21get_distance_computerEv">
<span id="_CPPv3NK5faiss12IndexLattice21get_distance_computerEv"></span><span id="_CPPv2NK5faiss12IndexLattice21get_distance_computerEv"></span><span id="faiss::IndexLattice::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12IndexLattice21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice3nsqE">
<span id="_CPPv3N5faiss12IndexLattice3nsqE"></span><span id="_CPPv2N5faiss12IndexLattice3nsqE"></span><span id="faiss::IndexLattice::nsq__i"></span><span class="target" id="structfaiss_1_1IndexLattice_1a4089c006ee17ee7d5eac5095cca304e9"></span>int <code class="sig-name descname">nsq</code><br /></dt>
<dd><p>number of sub-vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice3dsqE">
<span id="_CPPv3N5faiss12IndexLattice3dsqE"></span><span id="_CPPv2N5faiss12IndexLattice3dsqE"></span><span id="faiss::IndexLattice::dsq__s"></span><span class="target" id="structfaiss_1_1IndexLattice_1ac02440b4d1e666d9105d376852076f73"></span>size_t <code class="sig-name descname">dsq</code><br /></dt>
<dd><p>dimension of sub-vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice15zn_sphere_codecE">
<span id="_CPPv3N5faiss12IndexLattice15zn_sphere_codecE"></span><span id="_CPPv2N5faiss12IndexLattice15zn_sphere_codecE"></span><span id="faiss::IndexLattice::zn_sphere_codec__ZnSphereCodecAlt"></span><span class="target" id="structfaiss_1_1IndexLattice_1adbe914419dc51e46b598d2c654a16f6a"></span>ZnSphereCodecAlt <code class="sig-name descname">zn_sphere_codec</code><br /></dt>
<dd><p>the lattice quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice10scale_nbitE">
<span id="_CPPv3N5faiss12IndexLattice10scale_nbitE"></span><span id="_CPPv2N5faiss12IndexLattice10scale_nbitE"></span><span id="faiss::IndexLattice::scale_nbit__i"></span><span class="target" id="structfaiss_1_1IndexLattice_1aacf53ac36d93567b1e68505ea122e9bc"></span>int <code class="sig-name descname">scale_nbit</code><br /></dt>
<dd><p>nb bits used to encode the scale, per subvector </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice12lattice_nbitE">
<span id="_CPPv3N5faiss12IndexLattice12lattice_nbitE"></span><span id="_CPPv2N5faiss12IndexLattice12lattice_nbitE"></span><span id="faiss::IndexLattice::lattice_nbit__i"></span><span class="target" id="structfaiss_1_1IndexLattice_1a596863f4c2c06a476669f450da1359d5"></span>int <code class="sig-name descname">lattice_nbit</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice9code_sizeE">
<span id="_CPPv3N5faiss12IndexLattice9code_sizeE"></span><span id="_CPPv2N5faiss12IndexLattice9code_sizeE"></span><span id="faiss::IndexLattice::code_size__s"></span><span class="target" id="structfaiss_1_1IndexLattice_1aabf1d37c71bc881b52b544820514c0de"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>total, in bytes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice7trainedE">
<span id="_CPPv3N5faiss12IndexLattice7trainedE"></span><span id="_CPPv2N5faiss12IndexLattice7trainedE"></span><span id="faiss::IndexLattice::trained__std::vector:float:"></span><span class="target" id="structfaiss_1_1IndexLattice_1aa3c7f1796a5c42bdb9891b2148e3e53f"></span>std::vector&lt;float&gt; <code class="sig-name descname">trained</code><br /></dt>
<dd><p>mins and maxes of the vector norms, per subquantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice1dE">
<span id="_CPPv3N5faiss12IndexLattice1dE"></span><span id="_CPPv2N5faiss12IndexLattice1dE"></span><span id="faiss::IndexLattice::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss12IndexLattice1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice6ntotalE">
<span id="_CPPv3N5faiss12IndexLattice6ntotalE"></span><span id="_CPPv2N5faiss12IndexLattice6ntotalE"></span><span id="faiss::IndexLattice::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss12IndexLattice5idx_tE" title="faiss::IndexLattice::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss12IndexLattice6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice7verboseE">
<span id="_CPPv3N5faiss12IndexLattice7verboseE"></span><span id="_CPPv2N5faiss12IndexLattice7verboseE"></span><span id="faiss::IndexLattice::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss12IndexLattice7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice10is_trainedE">
<span id="_CPPv3N5faiss12IndexLattice10is_trainedE"></span><span id="_CPPv2N5faiss12IndexLattice10is_trainedE"></span><span id="faiss::IndexLattice::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss12IndexLattice10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice11metric_typeE">
<span id="_CPPv3N5faiss12IndexLattice11metric_typeE"></span><span id="_CPPv2N5faiss12IndexLattice11metric_typeE"></span><span id="faiss::IndexLattice::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss12IndexLattice11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexLattice10metric_argE">
<span id="_CPPv3N5faiss12IndexLattice10metric_argE"></span><span id="_CPPv2N5faiss12IndexLattice10metric_argE"></span><span id="faiss::IndexLattice::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss12IndexLattice10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss8IndexLSHE">
<span id="_CPPv3N5faiss8IndexLSHE"></span><span id="_CPPv2N5faiss8IndexLSHE"></span><span id="faiss::IndexLSH"></span><span class="target" id="structfaiss_1_1IndexLSH"></span><em class="property">struct </em><code class="sig-name descname">IndexLSH</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexLSH.h&gt;</em><p>The sign of each vector component is put in a binary signature </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss8IndexLSH7uint8_tE">
<span id="_CPPv3N5faiss8IndexLSH7uint8_tE"></span><span id="_CPPv2N5faiss8IndexLSH7uint8_tE"></span><span id="faiss::IndexLSH::uint8_t"></span><span class="target" id="structfaiss_1_1IndexLSH_1ae877af8c629d839e199e5617b37fbb33"></span><em class="property">typedef </em>unsigned char <code class="sig-name descname">uint8_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss8IndexLSH5idx_tE">
<span id="_CPPv3N5faiss8IndexLSH5idx_tE"></span><span id="_CPPv2N5faiss8IndexLSH5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss8IndexLSH11component_tE">
<span id="_CPPv3N5faiss8IndexLSH11component_tE"></span><span id="_CPPv2N5faiss8IndexLSH11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss8IndexLSH11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss8IndexLSH10distance_tE">
<span id="_CPPv3N5faiss8IndexLSH10distance_tE"></span><span id="_CPPv2N5faiss8IndexLSH10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss8IndexLSH10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSH8IndexLSHE5idx_tibb">
<span id="_CPPv3N5faiss8IndexLSH8IndexLSHE5idx_tibb"></span><span id="_CPPv2N5faiss8IndexLSH8IndexLSHE5idx_tibb"></span><span id="faiss::IndexLSH::IndexLSH__idx_t.i.b.b"></span><span class="target" id="structfaiss_1_1IndexLSH_1a8867d357a0ef4ec5bce6994e9ac31aa3"></span><code class="sig-name descname">IndexLSH</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>d</em>, int <em>nbits</em>, bool <em>rotate_data</em> = true, bool <em>train_thresholds</em> = false<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH16apply_preprocessE5idx_tPKf">
<span id="_CPPv3NK5faiss8IndexLSH16apply_preprocessE5idx_tPKf"></span><span id="_CPPv2NK5faiss8IndexLSH16apply_preprocessE5idx_tPKf"></span><span id="faiss::IndexLSH::apply_preprocess__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1IndexLSH_1aa1feef90ee6dd03ba14983d1da8208bb"></span><em class="property">const</em> float *<code class="sig-name descname">apply_preprocess</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Preprocesses and resizes the input to the size required to binarize the data</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>output vectors, size n * bits. May be the same pointer as x, otherwise it should be deleted by the caller </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSH5trainE5idx_tPKf">
<span id="_CPPv3N5faiss8IndexLSH5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss8IndexLSH5trainE5idx_tPKf"></span><span id="faiss::IndexLSH::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexLSH_1a01f569a16a812aa3945b8a0b64eaff06"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSH3addE5idx_tPKf">
<span id="_CPPv3N5faiss8IndexLSH3addE5idx_tPKf"></span><span id="_CPPv2N5faiss8IndexLSH3addE5idx_tPKf"></span><span id="faiss::IndexLSH::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexLSH_1a76de2c3212c72fd48136d84283a6e0a8"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss8IndexLSH6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss8IndexLSH6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexLSH::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexLSH_1a66b6afb56afa1f58e2d93abfdfd223ee"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSH5resetEv">
<span id="_CPPv3N5faiss8IndexLSH5resetEv"></span><span id="_CPPv2N5faiss8IndexLSH5resetEv"></span><span id="faiss::IndexLSH::reset"></span><span class="target" id="structfaiss_1_1IndexLSH_1aba7791311191bb168b79f8f59dd459ab"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSH19transfer_thresholdsEP15LinearTransform">
<span id="_CPPv3N5faiss8IndexLSH19transfer_thresholdsEP15LinearTransform"></span><span id="_CPPv2N5faiss8IndexLSH19transfer_thresholdsEP15LinearTransform"></span><span id="faiss::IndexLSH::transfer_thresholds__LinearTransformP"></span><span class="target" id="structfaiss_1_1IndexLSH_1ac95fb0b3cb8fe2b265be9822c41c448c"></span>void <code class="sig-name descname">transfer_thresholds</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransformE" title="faiss::LinearTransform">LinearTransform</a> *<em>vt</em><span class="sig-paren">)</span><br /></dt>
<dd><p>transfer the thresholds to a pre-processing stage (and unset train_thresholds) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSHD0Ev">
<span id="_CPPv3N5faiss8IndexLSHD0Ev"></span><span id="_CPPv2N5faiss8IndexLSHD0Ev"></span><span id="faiss::IndexLSH::~IndexLSH"></span><span class="target" id="structfaiss_1_1IndexLSH_1a69ad2bcb02c5801f3f3ff3bc5483afc8"></span><code class="sig-name descname">~IndexLSH</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSH8IndexLSHEv">
<span id="_CPPv3N5faiss8IndexLSH8IndexLSHEv"></span><span id="_CPPv2N5faiss8IndexLSH8IndexLSHEv"></span><span id="faiss::IndexLSH::IndexLSH"></span><span class="target" id="structfaiss_1_1IndexLSH_1a3c31d36e2bd8d6a2dd0234aae7df1f27"></span><code class="sig-name descname">IndexLSH</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH12sa_code_sizeEv">
<span id="_CPPv3NK5faiss8IndexLSH12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss8IndexLSH12sa_code_sizeEv"></span><span id="faiss::IndexLSH::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexLSH_1a4ef8ecf3b4628d42754a07765956d324"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss8IndexLSH9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss8IndexLSH9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexLSH::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexLSH_1aac0eb8b22431e490a28fdc566a461af5"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/IndexLSH_8h.html#_CPPv4N5faiss8IndexLSH7uint8_tE" title="faiss::IndexLSH::uint8_t">uint8_t</a> *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss8IndexLSH9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss8IndexLSH9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexLSH::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexLSH_1ac1eaeea883e641e50c5b770fb02edc25"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexLSH_8h.html#_CPPv4N5faiss8IndexLSH7uint8_tE" title="faiss::IndexLSH::uint8_t">uint8_t</a> *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSH12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss8IndexLSH12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss8IndexLSH12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexLSH::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss8IndexLSH12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss8IndexLSH12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss8IndexLSH12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexLSH::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexLSH12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss8IndexLSH6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss8IndexLSH6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexLSH::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexLSH6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss8IndexLSH10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss8IndexLSH10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss8IndexLSH10remove_idsERK10IDSelector"></span><span id="faiss::IndexLSH::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss8IndexLSH10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss8IndexLSH11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss8IndexLSH11reconstructE5idx_tPf"></span><span id="faiss::IndexLSH::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexLSH11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss8IndexLSH13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss8IndexLSH13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexLSH::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexLSH13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss8IndexLSH22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss8IndexLSH22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexLSH::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexLSH22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss8IndexLSH16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss8IndexLSH16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexLSH::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexLSH16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss8IndexLSH18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss8IndexLSH18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexLSH::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexLSH18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss8IndexLSH21get_distance_computerEv">
<span id="_CPPv3NK5faiss8IndexLSH21get_distance_computerEv"></span><span id="_CPPv2NK5faiss8IndexLSH21get_distance_computerEv"></span><span id="faiss::IndexLSH::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss8IndexLSH21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/IndexLSH_8h.html#_CPPv4N5faiss8IndexLSH7uint8_tE" title="faiss::IndexLSH::uint8_t">uint8_t</a> *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexLSH_8h.html#_CPPv4N5faiss8IndexLSH7uint8_tE" title="faiss::IndexLSH::uint8_t">uint8_t</a> *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH5nbitsE">
<span id="_CPPv3N5faiss8IndexLSH5nbitsE"></span><span id="_CPPv2N5faiss8IndexLSH5nbitsE"></span><span id="faiss::IndexLSH::nbits__i"></span><span class="target" id="structfaiss_1_1IndexLSH_1af8c48006f210f0cbbf45ec9972558d20"></span>int <code class="sig-name descname">nbits</code><br /></dt>
<dd><p>nb of bits per vector </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH13bytes_per_vecE">
<span id="_CPPv3N5faiss8IndexLSH13bytes_per_vecE"></span><span id="_CPPv2N5faiss8IndexLSH13bytes_per_vecE"></span><span id="faiss::IndexLSH::bytes_per_vec__i"></span><span class="target" id="structfaiss_1_1IndexLSH_1a0116f529bc5de64a7ef142caa652d9f6"></span>int <code class="sig-name descname">bytes_per_vec</code><br /></dt>
<dd><p>nb of 8-bits per encoded vector </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH11rotate_dataE">
<span id="_CPPv3N5faiss8IndexLSH11rotate_dataE"></span><span id="_CPPv2N5faiss8IndexLSH11rotate_dataE"></span><span id="faiss::IndexLSH::rotate_data__b"></span><span class="target" id="structfaiss_1_1IndexLSH_1a71e9142e1256705f125ded9d647f4497"></span>bool <code class="sig-name descname">rotate_data</code><br /></dt>
<dd><p>whether to apply a random rotation to input </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH16train_thresholdsE">
<span id="_CPPv3N5faiss8IndexLSH16train_thresholdsE"></span><span id="_CPPv2N5faiss8IndexLSH16train_thresholdsE"></span><span id="faiss::IndexLSH::train_thresholds__b"></span><span class="target" id="structfaiss_1_1IndexLSH_1a5d4d6ea1fc709605d5b2061d1bce27d6"></span>bool <code class="sig-name descname">train_thresholds</code><br /></dt>
<dd><p>whether we train thresholds or use 0 </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH4rrotE">
<span id="_CPPv3N5faiss8IndexLSH4rrotE"></span><span id="_CPPv2N5faiss8IndexLSH4rrotE"></span><span id="faiss::IndexLSH::rrot__RandomRotationMatrix"></span><span class="target" id="structfaiss_1_1IndexLSH_1a71c8aa08d3bd0483ccc0f11c22cd3cd8"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss20RandomRotationMatrixE" title="faiss::RandomRotationMatrix">RandomRotationMatrix</a> <code class="sig-name descname">rrot</code><br /></dt>
<dd><p>optional random rotation </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH10thresholdsE">
<span id="_CPPv3N5faiss8IndexLSH10thresholdsE"></span><span id="_CPPv2N5faiss8IndexLSH10thresholdsE"></span><span id="faiss::IndexLSH::thresholds__std::vector:float:"></span><span class="target" id="structfaiss_1_1IndexLSH_1ae203ad895b15ae16fc1a748661b84df3"></span>std::vector&lt;float&gt; <code class="sig-name descname">thresholds</code><br /></dt>
<dd><p>thresholds to compare with </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH5codesE">
<span id="_CPPv3N5faiss8IndexLSH5codesE"></span><span id="_CPPv2N5faiss8IndexLSH5codesE"></span><span id="faiss::IndexLSH::codes__std::vector:uint8_t:"></span><span class="target" id="structfaiss_1_1IndexLSH_1a55c0f1127850af0d06ef22fc8b791572"></span>std::vector&lt;<a class="reference internal" href="../file/IndexLSH_8h.html#_CPPv4N5faiss8IndexLSH7uint8_tE" title="faiss::IndexLSH::uint8_t">uint8_t</a>&gt; <code class="sig-name descname">codes</code><br /></dt>
<dd><p>encoded dataset </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH1dE">
<span id="_CPPv3N5faiss8IndexLSH1dE"></span><span id="_CPPv2N5faiss8IndexLSH1dE"></span><span id="faiss::IndexLSH::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss8IndexLSH1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH6ntotalE">
<span id="_CPPv3N5faiss8IndexLSH6ntotalE"></span><span id="_CPPv2N5faiss8IndexLSH6ntotalE"></span><span id="faiss::IndexLSH::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss8IndexLSH5idx_tE" title="faiss::IndexLSH::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss8IndexLSH6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH7verboseE">
<span id="_CPPv3N5faiss8IndexLSH7verboseE"></span><span id="_CPPv2N5faiss8IndexLSH7verboseE"></span><span id="faiss::IndexLSH::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss8IndexLSH7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH10is_trainedE">
<span id="_CPPv3N5faiss8IndexLSH10is_trainedE"></span><span id="_CPPv2N5faiss8IndexLSH10is_trainedE"></span><span id="faiss::IndexLSH::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss8IndexLSH10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH11metric_typeE">
<span id="_CPPv3N5faiss8IndexLSH11metric_typeE"></span><span id="_CPPv2N5faiss8IndexLSH11metric_typeE"></span><span id="faiss::IndexLSH::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss8IndexLSH11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss8IndexLSH10metric_argE">
<span id="_CPPv3N5faiss8IndexLSH10metric_argE"></span><span id="_CPPv2N5faiss8IndexLSH10metric_argE"></span><span id="faiss::IndexLSH::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss8IndexLSH10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss7IndexPQE">
<span id="_CPPv3N5faiss7IndexPQE"></span><span id="_CPPv2N5faiss7IndexPQE"></span><span id="faiss::IndexPQ"></span><span class="target" id="structfaiss_1_1IndexPQ"></span><em class="property">struct </em><code class="sig-name descname">IndexPQ</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexPQ.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> based on a product quantizer. Stored vectors are approximated by PQ codes. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp enum">
<dt id="_CPPv4N5faiss7IndexPQ13Search_type_tE">
<span id="_CPPv3N5faiss7IndexPQ13Search_type_tE"></span><span id="_CPPv2N5faiss7IndexPQ13Search_type_tE"></span><span class="target" id="structfaiss_1_1IndexPQ_1a4fa05430935a02b62b7c15c9840c42fe"></span><em class="property">enum </em><code class="sig-name descname">Search_type_t</code><br /></dt>
<dd><p>how to perform the search in search_core </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss7IndexPQ13Search_type_t5ST_PQE">
<span id="_CPPv3N5faiss7IndexPQ13Search_type_t5ST_PQE"></span><span id="_CPPv2N5faiss7IndexPQ13Search_type_t5ST_PQE"></span><span class="target" id="structfaiss_1_1IndexPQ_1a4fa05430935a02b62b7c15c9840c42fea00f77a4f8209c30c3ef37ccfd3d0c10a"></span><em class="property">enumerator </em><code class="sig-name descname">ST_PQ</code><br /></dt>
<dd><p>asymmetric product quantizer (default) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss7IndexPQ13Search_type_t5ST_HEE">
<span id="_CPPv3N5faiss7IndexPQ13Search_type_t5ST_HEE"></span><span id="_CPPv2N5faiss7IndexPQ13Search_type_t5ST_HEE"></span><span class="target" id="structfaiss_1_1IndexPQ_1a4fa05430935a02b62b7c15c9840c42fea903849f87cca2e7fbbfe034edbb81718"></span><em class="property">enumerator </em><code class="sig-name descname">ST_HE</code><br /></dt>
<dd><p>Hamming distance on codes. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss7IndexPQ13Search_type_t17ST_generalized_HEE">
<span id="_CPPv3N5faiss7IndexPQ13Search_type_t17ST_generalized_HEE"></span><span id="_CPPv2N5faiss7IndexPQ13Search_type_t17ST_generalized_HEE"></span><span class="target" id="structfaiss_1_1IndexPQ_1a4fa05430935a02b62b7c15c9840c42fea237afca36629dae511c0ac56effbfaa6"></span><em class="property">enumerator </em><code class="sig-name descname">ST_generalized_HE</code><br /></dt>
<dd><p>nb of same codes </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss7IndexPQ13Search_type_t6ST_SDCE">
<span id="_CPPv3N5faiss7IndexPQ13Search_type_t6ST_SDCE"></span><span id="_CPPv2N5faiss7IndexPQ13Search_type_t6ST_SDCE"></span><span class="target" id="structfaiss_1_1IndexPQ_1a4fa05430935a02b62b7c15c9840c42fea4287cbc83d1d5f0d1a02f014e5fe692c"></span><em class="property">enumerator </em><code class="sig-name descname">ST_SDC</code><br /></dt>
<dd><p>symmetric product quantizer (SDC) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss7IndexPQ13Search_type_t13ST_polysemousE">
<span id="_CPPv3N5faiss7IndexPQ13Search_type_t13ST_polysemousE"></span><span id="_CPPv2N5faiss7IndexPQ13Search_type_t13ST_polysemousE"></span><span class="target" id="structfaiss_1_1IndexPQ_1a4fa05430935a02b62b7c15c9840c42feaf06a0e6b53f9cbe1c791c6912169b738"></span><em class="property">enumerator </em><code class="sig-name descname">ST_polysemous</code><br /></dt>
<dd><p>HE filter (using ht) + PQ combination. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss7IndexPQ13Search_type_t24ST_polysemous_generalizeE">
<span id="_CPPv3N5faiss7IndexPQ13Search_type_t24ST_polysemous_generalizeE"></span><span id="_CPPv2N5faiss7IndexPQ13Search_type_t24ST_polysemous_generalizeE"></span><span class="target" id="structfaiss_1_1IndexPQ_1a4fa05430935a02b62b7c15c9840c42feaef79af61798670a362434b7bc9ced45e"></span><em class="property">enumerator </em><code class="sig-name descname">ST_polysemous_generalize</code><br /></dt>
<dd><p>Filter on generalized Hamming. </p>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss7IndexPQ5idx_tE">
<span id="_CPPv3N5faiss7IndexPQ5idx_tE"></span><span id="_CPPv2N5faiss7IndexPQ5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss7IndexPQ11component_tE">
<span id="_CPPv3N5faiss7IndexPQ11component_tE"></span><span id="_CPPv2N5faiss7IndexPQ11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss7IndexPQ11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss7IndexPQ10distance_tE">
<span id="_CPPv3N5faiss7IndexPQ10distance_tE"></span><span id="_CPPv2N5faiss7IndexPQ10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss7IndexPQ10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss7IndexPQ7IndexPQEi6size_t6size_t10MetricType">
<span id="_CPPv3N5faiss7IndexPQ7IndexPQEi6size_t6size_t10MetricType"></span><span id="_CPPv2N5faiss7IndexPQ7IndexPQEi6size_t6size_t10MetricType"></span><span id="faiss::IndexPQ::IndexPQ__i.s.s.MetricType"></span><span class="target" id="structfaiss_1_1IndexPQ_1ab8d0bbf8a0dab39b236e0d1633923746"></span><code class="sig-name descname">IndexPQ</code><span class="sig-paren">(</span>int <em>d</em>, size_t <em>M</em>, size_t <em>nbits</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimensionality of the input vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: number of subquantizers </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbits</span></code>: number of bit per subvector index </p></li>
</ul>
</dd>
</dl>
</p>
<p>Constructor.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimensionality of the input vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: number of subquantizers </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbits</span></code>: number of bit per subvector index </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7IndexPQ7IndexPQEv">
<span id="_CPPv3N5faiss7IndexPQ7IndexPQEv"></span><span id="_CPPv2N5faiss7IndexPQ7IndexPQEv"></span><span id="faiss::IndexPQ::IndexPQ"></span><span class="target" id="structfaiss_1_1IndexPQ_1a427d829a4c494b19b7e6efec2ce12bc6"></span><code class="sig-name descname">IndexPQ</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7IndexPQ5trainE5idx_tPKf">
<span id="_CPPv3N5faiss7IndexPQ5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss7IndexPQ5trainE5idx_tPKf"></span><span id="faiss::IndexPQ::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexPQ_1a87898add5ab4d86ba901ca79778fc11e"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7IndexPQ3addE5idx_tPKf">
<span id="_CPPv3N5faiss7IndexPQ3addE5idx_tPKf"></span><span id="_CPPv2N5faiss7IndexPQ3addE5idx_tPKf"></span><span id="faiss::IndexPQ::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexPQ_1ac72c9b93f8fe7e5ec27fbe26bb38a7bf"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss7IndexPQ6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss7IndexPQ6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexPQ::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexPQ_1a491ba3ed34093513e6a850fbca0abdd2"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7IndexPQ5resetEv">
<span id="_CPPv3N5faiss7IndexPQ5resetEv"></span><span id="_CPPv2N5faiss7IndexPQ5resetEv"></span><span id="faiss::IndexPQ::reset"></span><span class="target" id="structfaiss_1_1IndexPQ_1a25e17da885cf55d84b176b46f3ad25b1"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss7IndexPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss7IndexPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexPQ::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexPQ_1a99b187b1231a700617f7b228ec348ade"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss7IndexPQ11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss7IndexPQ11reconstructE5idx_tPf"></span><span id="faiss::IndexPQ::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexPQ_1a20913df3bfd8caa5187112641e8d9bc7"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7IndexPQ10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss7IndexPQ10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss7IndexPQ10remove_idsERK10IDSelector"></span><span id="faiss::IndexPQ::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexPQ_1adf5573ec615caf66584e056a29452669"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ12sa_code_sizeEv">
<span id="_CPPv3NK5faiss7IndexPQ12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss7IndexPQ12sa_code_sizeEv"></span><span id="faiss::IndexPQ::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexPQ_1ae312739a391a32d77fc87699f2dc894c"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss7IndexPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss7IndexPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexPQ::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexPQ_1a438591a838aad52cd69e021c7b93110f"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexPQ.html#structfaiss_1_1IndexPQ_1ae312739a391a32d77fc87699f2dc894c"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss7IndexPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss7IndexPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexPQ::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexPQ_1a104104a52149ebdcb8ab79dc01180b6e"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexPQ.html#structfaiss_1_1IndexPQ_1ae312739a391a32d77fc87699f2dc894c"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ21get_distance_computerEv">
<span id="_CPPv3NK5faiss7IndexPQ21get_distance_computerEv"></span><span id="_CPPv2NK5faiss7IndexPQ21get_distance_computerEv"></span><span id="faiss::IndexPQ::get_distance_computerC"></span><span class="target" id="structfaiss_1_1IndexPQ_1acb6744a8e64db9b01bfd58f4cf9fee77"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ22search_core_polysemousE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss7IndexPQ22search_core_polysemousE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss7IndexPQ22search_core_polysemousE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexPQ::search_core_polysemous__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexPQ_1a4d8792ee8942cd4897530f68169cea04"></span>void <code class="sig-name descname">search_core_polysemous</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7IndexPQ26hamming_distance_histogramE5idx_tPKf5idx_tPKfP7int64_t">
<span id="_CPPv3N5faiss7IndexPQ26hamming_distance_histogramE5idx_tPKf5idx_tPKfP7int64_t"></span><span id="_CPPv2N5faiss7IndexPQ26hamming_distance_histogramE5idx_tPKf5idx_tPKfP7int64_t"></span><span id="faiss::IndexPQ::hamming_distance_histogram__idx_t.floatCP.idx_t.floatCP.int64_tP"></span><span class="target" id="structfaiss_1_1IndexPQ_1a0560fe2b1bd291d868822e7b2754ecf0"></span>void <code class="sig-name descname">hamming_distance_histogram</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>nb</em>, <em class="property">const</em> float *<em>xb</em>, int64_t *<em>dist_histogram</em><span class="sig-paren">)</span><br /></dt>
<dd><p>prepare query for a polysemous search, but instead of computing the result, just get the histogram of Hamming distances. May be computed on a provided dataset if xb != NULL <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dist_histogram</span></code>: (M * nbits + 1) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ22hamming_distance_tableE5idx_tPKfP7int32_t">
<span id="_CPPv3NK5faiss7IndexPQ22hamming_distance_tableE5idx_tPKfP7int32_t"></span><span id="_CPPv2NK5faiss7IndexPQ22hamming_distance_tableE5idx_tPKfP7int32_t"></span><span id="faiss::IndexPQ::hamming_distance_table__idx_t.floatCP.int32_tPC"></span><span class="target" id="structfaiss_1_1IndexPQ_1ac1c78cf420aada3a54e00bc65ba3eae6"></span>void <code class="sig-name descname">hamming_distance_table</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, int32_t *<em>dis</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute pairwise distances between queries and database</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of query vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: query vector, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dis</span></code>: output distances, size n * ntotal </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss7IndexPQ12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss7IndexPQ12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss7IndexPQ12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexPQ::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss7IndexPQ12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss7IndexPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss7IndexPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexPQ::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss7IndexPQ12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss7IndexPQ6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss7IndexPQ6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexPQ::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss7IndexPQ6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss7IndexPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss7IndexPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexPQ::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss7IndexPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss7IndexPQ16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss7IndexPQ16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexPQ::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss7IndexPQ16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss7IndexPQ18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss7IndexPQ18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss7IndexPQ18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexPQ::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss7IndexPQ18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ2pqE">
<span id="_CPPv3N5faiss7IndexPQ2pqE"></span><span id="_CPPv2N5faiss7IndexPQ2pqE"></span><span id="faiss::IndexPQ::pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1IndexPQ_1aa7b7cfe0c8dfd37c8a940fd93d12dc88"></span>ProductQuantizer <code class="sig-name descname">pq</code><br /></dt>
<dd><p>The product quantizer used to encode the vectors. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ5codesE">
<span id="_CPPv3N5faiss7IndexPQ5codesE"></span><span id="_CPPv2N5faiss7IndexPQ5codesE"></span><span id="faiss::IndexPQ::codes__std::vector:uint8_t:"></span><span class="target" id="structfaiss_1_1IndexPQ_1a490b64b12384951ed66548a3a48f91e5"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">codes</code><br /></dt>
<dd><p>Codes. Size ntotal * pq.code_size. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ22do_polysemous_trainingE">
<span id="_CPPv3N5faiss7IndexPQ22do_polysemous_trainingE"></span><span id="_CPPv2N5faiss7IndexPQ22do_polysemous_trainingE"></span><span id="faiss::IndexPQ::do_polysemous_training__b"></span><span class="target" id="structfaiss_1_1IndexPQ_1af616e1f3c7bff7f62c2607b8079da43f"></span>bool <code class="sig-name descname">do_polysemous_training</code><br /></dt>
<dd><p>false = standard PQ </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ19polysemous_trainingE">
<span id="_CPPv3N5faiss7IndexPQ19polysemous_trainingE"></span><span id="_CPPv2N5faiss7IndexPQ19polysemous_trainingE"></span><span id="faiss::IndexPQ::polysemous_training__PolysemousTraining"></span><span class="target" id="structfaiss_1_1IndexPQ_1a820cec27d1ef14bf59fb288b2e143b6a"></span>PolysemousTraining <code class="sig-name descname">polysemous_training</code><br /></dt>
<dd><p>parameters used for the polysemous training </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ11search_typeE">
<span id="_CPPv3N5faiss7IndexPQ11search_typeE"></span><span id="_CPPv2N5faiss7IndexPQ11search_typeE"></span><span id="faiss::IndexPQ::search_type__Search_type_t"></span><span class="target" id="structfaiss_1_1IndexPQ_1a3fa0f0c6216e34930ef9110600f89fbd"></span><a class="reference internal" href="../file/IndexPQ_8h.html#_CPPv4N5faiss7IndexPQ13Search_type_tE" title="faiss::IndexPQ::Search_type_t">Search_type_t</a> <code class="sig-name descname">search_type</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ12encode_signsE">
<span id="_CPPv3N5faiss7IndexPQ12encode_signsE"></span><span id="_CPPv2N5faiss7IndexPQ12encode_signsE"></span><span id="faiss::IndexPQ::encode_signs__b"></span><span class="target" id="structfaiss_1_1IndexPQ_1a553682b74c5b8ccb1ba0c44e1729db2d"></span>bool <code class="sig-name descname">encode_signs</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ13polysemous_htE">
<span id="_CPPv3N5faiss7IndexPQ13polysemous_htE"></span><span id="_CPPv2N5faiss7IndexPQ13polysemous_htE"></span><span id="faiss::IndexPQ::polysemous_ht__i"></span><span class="target" id="structfaiss_1_1IndexPQ_1aff455f2adff6064939494dad6e3017bc"></span>int <code class="sig-name descname">polysemous_ht</code><br /></dt>
<dd><p>Hamming threshold used for polysemy. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ1dE">
<span id="_CPPv3N5faiss7IndexPQ1dE"></span><span id="_CPPv2N5faiss7IndexPQ1dE"></span><span id="faiss::IndexPQ::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss7IndexPQ1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ6ntotalE">
<span id="_CPPv3N5faiss7IndexPQ6ntotalE"></span><span id="_CPPv2N5faiss7IndexPQ6ntotalE"></span><span id="faiss::IndexPQ::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss7IndexPQ5idx_tE" title="faiss::IndexPQ::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss7IndexPQ6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ7verboseE">
<span id="_CPPv3N5faiss7IndexPQ7verboseE"></span><span id="_CPPv2N5faiss7IndexPQ7verboseE"></span><span id="faiss::IndexPQ::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss7IndexPQ7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ10is_trainedE">
<span id="_CPPv3N5faiss7IndexPQ10is_trainedE"></span><span id="_CPPv2N5faiss7IndexPQ10is_trainedE"></span><span id="faiss::IndexPQ::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss7IndexPQ10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ11metric_typeE">
<span id="_CPPv3N5faiss7IndexPQ11metric_typeE"></span><span id="_CPPv2N5faiss7IndexPQ11metric_typeE"></span><span id="faiss::IndexPQ::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss7IndexPQ11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss7IndexPQ10metric_argE">
<span id="_CPPv3N5faiss7IndexPQ10metric_argE"></span><span id="_CPPv2N5faiss7IndexPQ10metric_argE"></span><span id="faiss::IndexPQ::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss7IndexPQ10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15IndexPQFastScanE">
<span id="_CPPv3N5faiss15IndexPQFastScanE"></span><span id="_CPPv2N5faiss15IndexPQFastScanE"></span><span id="faiss::IndexPQFastScan"></span><span class="target" id="structfaiss_1_1IndexPQFastScan"></span><em class="property">struct </em><code class="sig-name descname">IndexPQFastScan</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexPQFastScan.h&gt;</em><p>Fast scan version of <a class="reference internal" href="../struct/structfaiss_1_1IndexPQ.html#structfaiss_1_1IndexPQ"><span class="std std-ref">IndexPQ</span></a>. Works for 4-bit PQ for now.</p>
<p>The codes are not stored sequentially but grouped in blocks of size bbs. This makes it possible to compute distances quickly with SIMD instructions.</p>
<p>Implementations: 12: blocked loop with internal loop on Q with qbs 13: same with reservoir accumulator to store results 14: no qbs with heap accumulator 15: no qbs with reservoir accumulator </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexPQFastScan5idx_tE">
<span id="_CPPv3N5faiss15IndexPQFastScan5idx_tE"></span><span id="_CPPv2N5faiss15IndexPQFastScan5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexPQFastScan11component_tE">
<span id="_CPPv3N5faiss15IndexPQFastScan11component_tE"></span><span id="_CPPv2N5faiss15IndexPQFastScan11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexPQFastScan10distance_tE">
<span id="_CPPv3N5faiss15IndexPQFastScan10distance_tE"></span><span id="_CPPv2N5faiss15IndexPQFastScan10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexPQFastScan15IndexPQFastScanEi6size_t6size_t10MetricTypei">
<span id="_CPPv3N5faiss15IndexPQFastScan15IndexPQFastScanEi6size_t6size_t10MetricTypei"></span><span id="_CPPv2N5faiss15IndexPQFastScan15IndexPQFastScanEi6size_t6size_t10MetricTypei"></span><span id="faiss::IndexPQFastScan::IndexPQFastScan__i.s.s.MetricType.i"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a6484985aa1614f0a5b5d4b33c60baa6b"></span><code class="sig-name descname">IndexPQFastScan</code><span class="sig-paren">(</span>int <em>d</em>, size_t <em>M</em>, size_t <em>nbits</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a>, int <em>bbs</em> = 32<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexPQFastScan15IndexPQFastScanEv">
<span id="_CPPv3N5faiss15IndexPQFastScan15IndexPQFastScanEv"></span><span id="_CPPv2N5faiss15IndexPQFastScan15IndexPQFastScanEv"></span><span id="faiss::IndexPQFastScan::IndexPQFastScan"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a2870eb12642eedfa8a445dfd2ad10d41"></span><code class="sig-name descname">IndexPQFastScan</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexPQFastScan15IndexPQFastScanERK7IndexPQi">
<span id="_CPPv3N5faiss15IndexPQFastScan15IndexPQFastScanERK7IndexPQi"></span><span id="_CPPv2N5faiss15IndexPQFastScan15IndexPQFastScanERK7IndexPQi"></span><span id="faiss::IndexPQFastScan::IndexPQFastScan__IndexPQCR.i"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1aa45f415d29a9a9e30d4201c2fd0470af"></span><code class="sig-name descname">IndexPQFastScan</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexPQ_8h.html#_CPPv4N5faiss7IndexPQE" title="faiss::IndexPQ">IndexPQ</a> &amp;<em>orig</em>, int <em>bbs</em> = 32<span class="sig-paren">)</span><br /></dt>
<dd><p>build from an existing <a class="reference internal" href="../struct/structfaiss_1_1IndexPQ.html#structfaiss_1_1IndexPQ"><span class="std std-ref">IndexPQ</span></a> </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexPQFastScan5trainE5idx_tPKf">
<span id="_CPPv3N5faiss15IndexPQFastScan5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss15IndexPQFastScan5trainE5idx_tPKf"></span><span id="faiss::IndexPQFastScan::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1ae8846519e0f1b9fedd5eed195df3776f"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexPQFastScan3addE5idx_tPKf">
<span id="_CPPv3N5faiss15IndexPQFastScan3addE5idx_tPKf"></span><span id="_CPPv2N5faiss15IndexPQFastScan3addE5idx_tPKf"></span><span id="faiss::IndexPQFastScan::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1ab70a729bbd4bd894f52791425de65c08"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexPQFastScan5resetEv">
<span id="_CPPv3N5faiss15IndexPQFastScan5resetEv"></span><span id="_CPPv2N5faiss15IndexPQFastScan5resetEv"></span><span id="faiss::IndexPQFastScan::reset"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1ad3d7759dd27cb2f6a6acadc42ee1c4af"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss15IndexPQFastScan6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss15IndexPQFastScan6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexPQFastScan::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1ac812b27970794372d20b80b951bbebf6"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan21compute_quantized_LUTE5idx_tPKfP7uint8_tPf">
<span id="_CPPv3NK5faiss15IndexPQFastScan21compute_quantized_LUTE5idx_tPKfP7uint8_tPf"></span><span id="_CPPv2NK5faiss15IndexPQFastScan21compute_quantized_LUTE5idx_tPKfP7uint8_tPf"></span><span id="faiss::IndexPQFastScan::compute_quantized_LUT__idx_t.floatCP.uint8_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a04810380cec19f0b7d227df70bb1caa5"></span>void <code class="sig-name descname">compute_quantized_LUT</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>lut</em>, float *<em>normalizers</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I_bENK5faiss15IndexPQFastScan22search_dispatch_implemEv5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3I_bENK5faiss15IndexPQFastScan22search_dispatch_implemE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2I_bENK5faiss15IndexPQFastScan22search_dispatch_implemE5idx_tPKf5idx_tPfP5idx_t"></span>template&lt;bool <code class="sig-name descname">is_max</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexPQFastScan_1ab07a63fe5f77678056f42324fedcc85f"></span>void <code class="sig-name descname">search_dispatch_implem</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0ENK5faiss15IndexPQFastScan15search_implem_2Ev5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3I0ENK5faiss15IndexPQFastScan15search_implem_2E5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2I0ENK5faiss15IndexPQFastScan15search_implem_2E5idx_tPKf5idx_tPfP5idx_t"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexPQFastScan_1a751b2dffaa27f734ad95ecf4e6d83fc6"></span>void <code class="sig-name descname">search_implem_2</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0ENK5faiss15IndexPQFastScan16search_implem_12Ev5idx_tPKf5idx_tPfP5idx_ti">
<span id="_CPPv3I0ENK5faiss15IndexPQFastScan16search_implem_12E5idx_tPKf5idx_tPfP5idx_ti"></span><span id="_CPPv2I0ENK5faiss15IndexPQFastScan16search_implem_12E5idx_tPKf5idx_tPfP5idx_ti"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexPQFastScan_1af9920681e96c503004220bc875ca255a"></span>void <code class="sig-name descname">search_implem_12</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>labels</em>, int <em>impl</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0ENK5faiss15IndexPQFastScan16search_implem_14Ev5idx_tPKf5idx_tPfP5idx_ti">
<span id="_CPPv3I0ENK5faiss15IndexPQFastScan16search_implem_14E5idx_tPKf5idx_tPfP5idx_ti"></span><span id="_CPPv2I0ENK5faiss15IndexPQFastScan16search_implem_14E5idx_tPKf5idx_tPfP5idx_ti"></span>template&lt;class <code class="sig-name descname">C</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexPQFastScan_1a4f9b7259237497935c70b526742692e7"></span>void <code class="sig-name descname">search_implem_14</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>labels</em>, int <em>impl</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexPQFastScan12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss15IndexPQFastScan12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss15IndexPQFastScan12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexPQFastScan::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss15IndexPQFastScan12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss15IndexPQFastScan12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexPQFastScan::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss15IndexPQFastScan6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss15IndexPQFastScan6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexPQFastScan::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexPQFastScan10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss15IndexPQFastScan10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss15IndexPQFastScan10remove_idsERK10IDSelector"></span><span id="faiss::IndexPQFastScan::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss15IndexPQFastScan11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexPQFastScan11reconstructE5idx_tPf"></span><span id="faiss::IndexPQFastScan::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss15IndexPQFastScan13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexPQFastScan13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexPQFastScan::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss15IndexPQFastScan22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexPQFastScan22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexPQFastScan::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss15IndexPQFastScan16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss15IndexPQFastScan16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexPQFastScan::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss15IndexPQFastScan18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss15IndexPQFastScan18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexPQFastScan::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan21get_distance_computerEv">
<span id="_CPPv3NK5faiss15IndexPQFastScan21get_distance_computerEv"></span><span id="_CPPv2NK5faiss15IndexPQFastScan21get_distance_computerEv"></span><span id="faiss::IndexPQFastScan::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan12sa_code_sizeEv">
<span id="_CPPv3NK5faiss15IndexPQFastScan12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss15IndexPQFastScan12sa_code_sizeEv"></span><span id="faiss::IndexPQFastScan::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss15IndexPQFastScan9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexPQFastScan9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexPQFastScan::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexPQFastScan9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss15IndexPQFastScan9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss15IndexPQFastScan9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexPQFastScan::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexPQFastScan9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan2pqE">
<span id="_CPPv3N5faiss15IndexPQFastScan2pqE"></span><span id="_CPPv2N5faiss15IndexPQFastScan2pqE"></span><span id="faiss::IndexPQFastScan::pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a70691701e6ea9a56c30cd4a325da8191"></span>ProductQuantizer <code class="sig-name descname">pq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan6implemE">
<span id="_CPPv3N5faiss15IndexPQFastScan6implemE"></span><span id="_CPPv2N5faiss15IndexPQFastScan6implemE"></span><span id="faiss::IndexPQFastScan::implem__i"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1acde6f5ba1328db71b285fac0acaef851"></span>int <code class="sig-name descname">implem</code> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan4skipE">
<span id="_CPPv3N5faiss15IndexPQFastScan4skipE"></span><span id="_CPPv2N5faiss15IndexPQFastScan4skipE"></span><span id="faiss::IndexPQFastScan::skip__i"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a88da7b760b0baf0a0f0df0ff1e3621e8"></span>int <code class="sig-name descname">skip</code> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan3bbsE">
<span id="_CPPv3N5faiss15IndexPQFastScan3bbsE"></span><span id="_CPPv2N5faiss15IndexPQFastScan3bbsE"></span><span id="faiss::IndexPQFastScan::bbs__i"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a7b9e5851ccc13feab6b2f3706b2c8b8b"></span>int <code class="sig-name descname">bbs</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan3qbsE">
<span id="_CPPv3N5faiss15IndexPQFastScan3qbsE"></span><span id="_CPPv2N5faiss15IndexPQFastScan3qbsE"></span><span id="faiss::IndexPQFastScan::qbs__i"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a1adf8542f3bb3c1db8a7fc0de7ddfd15"></span>int <code class="sig-name descname">qbs</code> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan7ntotal2E">
<span id="_CPPv3N5faiss15IndexPQFastScan7ntotal2E"></span><span id="_CPPv2N5faiss15IndexPQFastScan7ntotal2E"></span><span id="faiss::IndexPQFastScan::ntotal2__s"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a471f1321e1f0c9fe3215ba3462a26b2f"></span>size_t <code class="sig-name descname">ntotal2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan2M2E">
<span id="_CPPv3N5faiss15IndexPQFastScan2M2E"></span><span id="_CPPv2N5faiss15IndexPQFastScan2M2E"></span><span id="faiss::IndexPQFastScan::M2__s"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1aa46db8977225cb380b1b4d53a591df64"></span>size_t <code class="sig-name descname">M2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan5codesE">
<span id="_CPPv3N5faiss15IndexPQFastScan5codesE"></span><span id="_CPPv2N5faiss15IndexPQFastScan5codesE"></span><span id="faiss::IndexPQFastScan::codes__AlignedTable:uint8_t:"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a40add3dc02c9fdab82d5b275f6fbf9ca"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv4I0_iEN5faiss12AlignedTableE" title="faiss::AlignedTable">AlignedTable</a>&lt;uint8_t&gt; <code class="sig-name descname">codes</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan10orig_codesE">
<span id="_CPPv3N5faiss15IndexPQFastScan10orig_codesE"></span><span id="_CPPv2N5faiss15IndexPQFastScan10orig_codesE"></span><span id="faiss::IndexPQFastScan::orig_codes__uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexPQFastScan_1a40d0adf7a35ebc920e81176dd7dfa537"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">orig_codes</code> = nullptr<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan1dE">
<span id="_CPPv3N5faiss15IndexPQFastScan1dE"></span><span id="_CPPv2N5faiss15IndexPQFastScan1dE"></span><span id="faiss::IndexPQFastScan::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan6ntotalE">
<span id="_CPPv3N5faiss15IndexPQFastScan6ntotalE"></span><span id="_CPPv2N5faiss15IndexPQFastScan6ntotalE"></span><span id="faiss::IndexPQFastScan::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss15IndexPQFastScan5idx_tE" title="faiss::IndexPQFastScan::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan7verboseE">
<span id="_CPPv3N5faiss15IndexPQFastScan7verboseE"></span><span id="_CPPv2N5faiss15IndexPQFastScan7verboseE"></span><span id="faiss::IndexPQFastScan::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan10is_trainedE">
<span id="_CPPv3N5faiss15IndexPQFastScan10is_trainedE"></span><span id="_CPPv2N5faiss15IndexPQFastScan10is_trainedE"></span><span id="faiss::IndexPQFastScan::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan11metric_typeE">
<span id="_CPPv3N5faiss15IndexPQFastScan11metric_typeE"></span><span id="_CPPv2N5faiss15IndexPQFastScan11metric_typeE"></span><span id="faiss::IndexPQFastScan::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexPQFastScan10metric_argE">
<span id="_CPPv3N5faiss15IndexPQFastScan10metric_argE"></span><span id="_CPPv2N5faiss15IndexPQFastScan10metric_argE"></span><span id="faiss::IndexPQFastScan::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss15IndexPQFastScan10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss12IndexPQStatsE">
<span id="_CPPv3N5faiss12IndexPQStatsE"></span><span id="_CPPv2N5faiss12IndexPQStatsE"></span><span id="faiss::IndexPQStats"></span><span class="target" id="structfaiss_1_1IndexPQStats"></span><em class="property">struct </em><code class="sig-name descname">IndexPQStats</code><br /></dt>
<dd><em>#include &lt;IndexPQ.h&gt;</em><p>statistics are robust to internal threading, but not if <a class="reference internal" href="../struct/structfaiss_1_1IndexPQ.html#structfaiss_1_1IndexPQ_1a491ba3ed34093513e6a850fbca0abdd2"><span class="std std-ref">IndexPQ::search</span></a> is called by multiple threads </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexPQStats12IndexPQStatsEv">
<span id="_CPPv3N5faiss12IndexPQStats12IndexPQStatsEv"></span><span id="_CPPv2N5faiss12IndexPQStats12IndexPQStatsEv"></span><span id="faiss::IndexPQStats::IndexPQStats"></span><span class="target" id="structfaiss_1_1IndexPQStats_1af0e230009735f3edf2f47ddc23fef643"></span><code class="sig-name descname">IndexPQStats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12IndexPQStats5resetEv">
<span id="_CPPv3N5faiss12IndexPQStats5resetEv"></span><span id="_CPPv2N5faiss12IndexPQStats5resetEv"></span><span id="faiss::IndexPQStats::reset"></span><span class="target" id="structfaiss_1_1IndexPQStats_1a06a463f2381c1f7edf526e916b679fe3"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexPQStats2nqE">
<span id="_CPPv3N5faiss12IndexPQStats2nqE"></span><span id="_CPPv2N5faiss12IndexPQStats2nqE"></span><span id="faiss::IndexPQStats::nq__s"></span><span class="target" id="structfaiss_1_1IndexPQStats_1a2e5028fa9c3a4e3f197e1f0180c0a0ea"></span>size_t <code class="sig-name descname">nq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexPQStats5ncodeE">
<span id="_CPPv3N5faiss12IndexPQStats5ncodeE"></span><span id="_CPPv2N5faiss12IndexPQStats5ncodeE"></span><span id="faiss::IndexPQStats::ncode__s"></span><span class="target" id="structfaiss_1_1IndexPQStats_1ae40dc36c4942b567cc258957cc3c5dfd"></span>size_t <code class="sig-name descname">ncode</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12IndexPQStats14n_hamming_passE">
<span id="_CPPv3N5faiss12IndexPQStats14n_hamming_passE"></span><span id="_CPPv2N5faiss12IndexPQStats14n_hamming_passE"></span><span id="faiss::IndexPQStats::n_hamming_pass__s"></span><span class="target" id="structfaiss_1_1IndexPQStats_1aa73b0ed2ddb178432ca5219262683aab"></span>size_t <code class="sig-name descname">n_hamming_pass</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17IndexPreTransformE">
<span id="_CPPv3N5faiss17IndexPreTransformE"></span><span id="_CPPv2N5faiss17IndexPreTransformE"></span><span id="faiss::IndexPreTransform"></span><span class="target" id="structfaiss_1_1IndexPreTransform"></span><em class="property">struct </em><code class="sig-name descname">IndexPreTransform</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexPreTransform.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> that applies a <a class="reference internal" href="../struct/structfaiss_1_1LinearTransform.html#structfaiss_1_1LinearTransform"><span class="std std-ref">LinearTransform</span></a> transform on vectors before handing them over to a sub-index </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexPreTransform5idx_tE">
<span id="_CPPv3N5faiss17IndexPreTransform5idx_tE"></span><span id="_CPPv2N5faiss17IndexPreTransform5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexPreTransform11component_tE">
<span id="_CPPv3N5faiss17IndexPreTransform11component_tE"></span><span id="_CPPv2N5faiss17IndexPreTransform11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexPreTransform10distance_tE">
<span id="_CPPv3N5faiss17IndexPreTransform10distance_tE"></span><span id="_CPPv2N5faiss17IndexPreTransform10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform17IndexPreTransformEP5Index">
<span id="_CPPv3N5faiss17IndexPreTransform17IndexPreTransformEP5Index"></span><span id="_CPPv2N5faiss17IndexPreTransform17IndexPreTransformEP5Index"></span><span id="faiss::IndexPreTransform::IndexPreTransform__IndexP"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1accea7be947426aa5a9f197236b6fb276"></span><code class="sig-name descname">IndexPreTransform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>! whether pointers are deleted in destructor </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform17IndexPreTransformEv">
<span id="_CPPv3N5faiss17IndexPreTransform17IndexPreTransformEv"></span><span id="_CPPv2N5faiss17IndexPreTransform17IndexPreTransformEv"></span><span id="faiss::IndexPreTransform::IndexPreTransform"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a9cc20ff2339697220c590d235fd909e3"></span><code class="sig-name descname">IndexPreTransform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform17IndexPreTransformEP15VectorTransformP5Index">
<span id="_CPPv3N5faiss17IndexPreTransform17IndexPreTransformEP15VectorTransformP5Index"></span><span id="_CPPv2N5faiss17IndexPreTransform17IndexPreTransformEP15VectorTransformP5Index"></span><span id="faiss::IndexPreTransform::IndexPreTransform__VectorTransformP.IndexP"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a78aff6770a778c2fd507fcb144adc021"></span><code class="sig-name descname">IndexPreTransform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<em>ltrans</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>ltrans is the last transform before the index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform17prepend_transformEP15VectorTransform">
<span id="_CPPv3N5faiss17IndexPreTransform17prepend_transformEP15VectorTransform"></span><span id="_CPPv2N5faiss17IndexPreTransform17prepend_transformEP15VectorTransform"></span><span id="faiss::IndexPreTransform::prepend_transform__VectorTransformP"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1ab50b970ce770a8b9c1ceaede44fd43f6"></span>void <code class="sig-name descname">prepend_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<em>ltrans</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform5trainE5idx_tPKf">
<span id="_CPPv3N5faiss17IndexPreTransform5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss17IndexPreTransform5trainE5idx_tPKf"></span><span id="faiss::IndexPreTransform::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a370dc8afa7357850d9031585ec8e2291"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform3addE5idx_tPKf">
<span id="_CPPv3N5faiss17IndexPreTransform3addE5idx_tPKf"></span><span id="_CPPv2N5faiss17IndexPreTransform3addE5idx_tPKf"></span><span id="faiss::IndexPreTransform::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1ada11e582b389ec392a51c99a4825108b"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss17IndexPreTransform12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss17IndexPreTransform12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexPreTransform::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1aa37b7428e0ac315db5e52b1cb1e42605"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform5resetEv">
<span id="_CPPv3N5faiss17IndexPreTransform5resetEv"></span><span id="_CPPv2N5faiss17IndexPreTransform5resetEv"></span><span id="faiss::IndexPreTransform::reset"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1ae1ecff1b7b2d5d61a65492a5c5cf863b"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransform10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss17IndexPreTransform10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss17IndexPreTransform10remove_idsERK10IDSelector"></span><span id="faiss::IndexPreTransform::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a5781db5439f1d0f06cb3bf4c71ac0563"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss17IndexPreTransform6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss17IndexPreTransform6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexPreTransform::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a3c0fbdccaf9fdbadd4bf21560d334dd6"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss17IndexPreTransform12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss17IndexPreTransform12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexPreTransform::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a6713d5a98b6fa66a72f465d0af504fb8"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss17IndexPreTransform11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexPreTransform11reconstructE5idx_tPf"></span><span id="faiss::IndexPreTransform::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1afc92036fae3041caf6331b67754b599c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss17IndexPreTransform13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexPreTransform13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexPreTransform::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a02ebb27dd56aec9a93c50bd6b96184e7"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss17IndexPreTransform22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexPreTransform22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexPreTransform::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a10ae691e59f4a9b5be750cac4f542eee"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform11apply_chainE5idx_tPKf">
<span id="_CPPv3NK5faiss17IndexPreTransform11apply_chainE5idx_tPKf"></span><span id="_CPPv2NK5faiss17IndexPreTransform11apply_chainE5idx_tPKf"></span><span id="faiss::IndexPreTransform::apply_chain__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a05ac80aa3bdc94c5eba057cd8744a6c2"></span><em class="property">const</em> float *<code class="sig-name descname">apply_chain</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the transforms in the chain. The returned float * may be equal to x, otherwise it should be deallocated. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform13reverse_chainE5idx_tPKfPf">
<span id="_CPPv3NK5faiss17IndexPreTransform13reverse_chainE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss17IndexPreTransform13reverse_chainE5idx_tPKfPf"></span><span id="faiss::IndexPreTransform::reverse_chain__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a71b5230e481fb4ff95b6df6aeba7f28d"></span>void <code class="sig-name descname">reverse_chain</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reverse the transforms in the chain. May not be implemented for all transforms in the chain or may return approximate results. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform21get_distance_computerEv">
<span id="_CPPv3NK5faiss17IndexPreTransform21get_distance_computerEv"></span><span id="_CPPv2NK5faiss17IndexPreTransform21get_distance_computerEv"></span><span id="faiss::IndexPreTransform::get_distance_computerC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a3ce8b52cbad596e5880aaac81e774b1e"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform12sa_code_sizeEv">
<span id="_CPPv3NK5faiss17IndexPreTransform12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss17IndexPreTransform12sa_code_sizeEv"></span><span id="faiss::IndexPreTransform::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1ad803358238737eda7f185b486e6081fe"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss17IndexPreTransform9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss17IndexPreTransform9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexPreTransform::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a5fc4aff1479e447435e1f08b2a88d1d6"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexPreTransform.html#structfaiss_1_1IndexPreTransform_1ad803358238737eda7f185b486e6081fe"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss17IndexPreTransform9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss17IndexPreTransform9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexPreTransform::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a544759849772119156adf601287e50b0"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexPreTransform.html#structfaiss_1_1IndexPreTransform_1ad803358238737eda7f185b486e6081fe"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexPreTransformD0Ev">
<span id="_CPPv3N5faiss17IndexPreTransformD0Ev"></span><span id="_CPPv2N5faiss17IndexPreTransformD0Ev"></span><span id="faiss::IndexPreTransform::~IndexPreTransform"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1abba7af253f0dc2566923586e2ede0f7b"></span><code class="sig-name descname">~IndexPreTransform</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss17IndexPreTransform6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss17IndexPreTransform6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexPreTransform::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexPreTransform6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss17IndexPreTransform16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss17IndexPreTransform16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexPreTransform::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexPreTransform16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexPreTransform18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss17IndexPreTransform18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss17IndexPreTransform18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexPreTransform::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexPreTransform18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform5chainE">
<span id="_CPPv3N5faiss17IndexPreTransform5chainE"></span><span id="_CPPv2N5faiss17IndexPreTransform5chainE"></span><span id="faiss::IndexPreTransform::chain__std::vector:VectorTransformP:"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1a6f893af74172736d7874a2d66e359ded"></span>std::vector&lt;<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a>*&gt; <code class="sig-name descname">chain</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform5indexE">
<span id="_CPPv3N5faiss17IndexPreTransform5indexE"></span><span id="_CPPv2N5faiss17IndexPreTransform5indexE"></span><span id="faiss::IndexPreTransform::index__IndexP"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1aee3cbbe7915ec9ed13d59ca9276bdefc"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index</code><br /></dt>
<dd><p>! chain of tranforms </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform10own_fieldsE">
<span id="_CPPv3N5faiss17IndexPreTransform10own_fieldsE"></span><span id="_CPPv2N5faiss17IndexPreTransform10own_fieldsE"></span><span id="faiss::IndexPreTransform::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexPreTransform_1ae5ec3f184eb211e7d6e204082b52c8c0"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd><p>! the sub-index </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform1dE">
<span id="_CPPv3N5faiss17IndexPreTransform1dE"></span><span id="_CPPv2N5faiss17IndexPreTransform1dE"></span><span id="faiss::IndexPreTransform::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform6ntotalE">
<span id="_CPPv3N5faiss17IndexPreTransform6ntotalE"></span><span id="_CPPv2N5faiss17IndexPreTransform6ntotalE"></span><span id="faiss::IndexPreTransform::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss17IndexPreTransform5idx_tE" title="faiss::IndexPreTransform::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform7verboseE">
<span id="_CPPv3N5faiss17IndexPreTransform7verboseE"></span><span id="_CPPv2N5faiss17IndexPreTransform7verboseE"></span><span id="faiss::IndexPreTransform::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform10is_trainedE">
<span id="_CPPv3N5faiss17IndexPreTransform10is_trainedE"></span><span id="_CPPv2N5faiss17IndexPreTransform10is_trainedE"></span><span id="faiss::IndexPreTransform::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform11metric_typeE">
<span id="_CPPv3N5faiss17IndexPreTransform11metric_typeE"></span><span id="_CPPv2N5faiss17IndexPreTransform11metric_typeE"></span><span id="faiss::IndexPreTransform::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexPreTransform10metric_argE">
<span id="_CPPv3N5faiss17IndexPreTransform10metric_argE"></span><span id="_CPPv2N5faiss17IndexPreTransform10metric_argE"></span><span id="faiss::IndexPreTransform::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss17IndexPreTransform10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11IndexRefineE">
<span id="_CPPv3N5faiss11IndexRefineE"></span><span id="_CPPv2N5faiss11IndexRefineE"></span><span id="faiss::IndexRefine"></span><span class="target" id="structfaiss_1_1IndexRefine"></span><em class="property">struct </em><code class="sig-name descname">IndexRefine</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexRefine.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> that queries in a base_index (a fast one) and refines the results with an exact search, hopefully improving the results. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexRefineFlat.html#structfaiss_1_1IndexRefineFlat"><span class="std std-ref">faiss::IndexRefineFlat</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexRefine5idx_tE">
<span id="_CPPv3N5faiss11IndexRefine5idx_tE"></span><span id="_CPPv2N5faiss11IndexRefine5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexRefine11component_tE">
<span id="_CPPv3N5faiss11IndexRefine11component_tE"></span><span id="_CPPv2N5faiss11IndexRefine11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexRefine11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss11IndexRefine10distance_tE">
<span id="_CPPv3N5faiss11IndexRefine10distance_tE"></span><span id="_CPPv2N5faiss11IndexRefine10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss11IndexRefine10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexRefine11IndexRefineEP5IndexP5Index">
<span id="_CPPv3N5faiss11IndexRefine11IndexRefineEP5IndexP5Index"></span><span id="_CPPv2N5faiss11IndexRefine11IndexRefineEP5IndexP5Index"></span><span id="faiss::IndexRefine::IndexRefine__IndexP.IndexP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a873d71af2ad5894ccda0d2319bf7e3b6"></span><code class="sig-name descname">IndexRefine</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>base_index</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>refine_index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>intitialize from empty index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexRefine11IndexRefineEv">
<span id="_CPPv3N5faiss11IndexRefine11IndexRefineEv"></span><span id="_CPPv2N5faiss11IndexRefine11IndexRefineEv"></span><span id="faiss::IndexRefine::IndexRefine"></span><span class="target" id="structfaiss_1_1IndexRefine_1a80aa8975ad0091a1d0796e092b4734be"></span><code class="sig-name descname">IndexRefine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexRefine5trainE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexRefine5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexRefine5trainE5idx_tPKf"></span><span id="faiss::IndexRefine::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a759db97766dcfe29c162e3339d68bd7d"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexRefine3addE5idx_tPKf">
<span id="_CPPv3N5faiss11IndexRefine3addE5idx_tPKf"></span><span id="_CPPv2N5faiss11IndexRefine3addE5idx_tPKf"></span><span id="faiss::IndexRefine::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a0801c6b9554ce88deb63b72f9e28f7f1"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexRefine5resetEv">
<span id="_CPPv3N5faiss11IndexRefine5resetEv"></span><span id="_CPPv2N5faiss11IndexRefine5resetEv"></span><span id="faiss::IndexRefine::reset"></span><span class="target" id="structfaiss_1_1IndexRefine_1ad5a9963cdf57b3dec44e9e5204f86e42"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss11IndexRefine6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss11IndexRefine6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexRefine::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexRefine_1a954fe37f8741fafda9a6aba740044dc4"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss11IndexRefine11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexRefine11reconstructE5idx_tPf"></span><span id="faiss::IndexRefine::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexRefine_1a01356d39a4eda730517a295c2c7bb869"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexRefineD0Ev">
<span id="_CPPv3N5faiss11IndexRefineD0Ev"></span><span id="_CPPv2N5faiss11IndexRefineD0Ev"></span><span id="faiss::IndexRefine::~IndexRefine"></span><span class="target" id="structfaiss_1_1IndexRefine_1abe2783095540eff63ece8a3bfe7f60b6"></span><code class="sig-name descname">~IndexRefine</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexRefine12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss11IndexRefine12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss11IndexRefine12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexRefine::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexRefine12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss11IndexRefine12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss11IndexRefine12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexRefine::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss11IndexRefine6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss11IndexRefine6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexRefine::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11IndexRefine10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss11IndexRefine10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss11IndexRefine10remove_idsERK10IDSelector"></span><span id="faiss::IndexRefine::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11IndexRefine10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss11IndexRefine13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexRefine13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexRefine::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss11IndexRefine22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss11IndexRefine22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexRefine::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss11IndexRefine16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss11IndexRefine16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexRefine::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss11IndexRefine18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss11IndexRefine18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexRefine::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine21get_distance_computerEv">
<span id="_CPPv3NK5faiss11IndexRefine21get_distance_computerEv"></span><span id="_CPPv2NK5faiss11IndexRefine21get_distance_computerEv"></span><span id="faiss::IndexRefine::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine12sa_code_sizeEv">
<span id="_CPPv3NK5faiss11IndexRefine12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss11IndexRefine12sa_code_sizeEv"></span><span id="faiss::IndexRefine::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss11IndexRefine9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss11IndexRefine9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexRefine::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11IndexRefine9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss11IndexRefine9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss11IndexRefine9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexRefine::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss11IndexRefine9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine10base_indexE">
<span id="_CPPv3N5faiss11IndexRefine10base_indexE"></span><span id="_CPPv2N5faiss11IndexRefine10base_indexE"></span><span id="faiss::IndexRefine::base_index__IndexP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a37ee42fdfa98d629a09d23fb0916b972"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">base_index</code><br /></dt>
<dd><p>faster index to pre-select the vectors that should be filtered </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine12refine_indexE">
<span id="_CPPv3N5faiss11IndexRefine12refine_indexE"></span><span id="_CPPv2N5faiss11IndexRefine12refine_indexE"></span><span id="faiss::IndexRefine::refine_index__IndexP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a226cf986bc8653321a4a10e6f93e5e88"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">refine_index</code><br /></dt>
<dd><p>refinement index </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine10own_fieldsE">
<span id="_CPPv3N5faiss11IndexRefine10own_fieldsE"></span><span id="_CPPv2N5faiss11IndexRefine10own_fieldsE"></span><span id="faiss::IndexRefine::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexRefine_1ae7f472c54df7253435355a4f65c3f479"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd><p>should the base index be deallocated? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine16own_refine_indexE">
<span id="_CPPv3N5faiss11IndexRefine16own_refine_indexE"></span><span id="_CPPv2N5faiss11IndexRefine16own_refine_indexE"></span><span id="faiss::IndexRefine::own_refine_index__b"></span><span class="target" id="structfaiss_1_1IndexRefine_1a40b4d1cbf95190426fce28a63179e678"></span>bool <code class="sig-name descname">own_refine_index</code><br /></dt>
<dd><p>same with the refinement index </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine8k_factorE">
<span id="_CPPv3N5faiss11IndexRefine8k_factorE"></span><span id="_CPPv2N5faiss11IndexRefine8k_factorE"></span><span id="faiss::IndexRefine::k_factor__float"></span><span class="target" id="structfaiss_1_1IndexRefine_1a520e756ea6610d94edb3fe34c31869cc"></span>float <code class="sig-name descname">k_factor</code> = 1<br /></dt>
<dd><p>factor between k requested in search and the k requested from the base_index (should be &gt;= 1) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine1dE">
<span id="_CPPv3N5faiss11IndexRefine1dE"></span><span id="_CPPv2N5faiss11IndexRefine1dE"></span><span id="faiss::IndexRefine::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss11IndexRefine1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine6ntotalE">
<span id="_CPPv3N5faiss11IndexRefine6ntotalE"></span><span id="_CPPv2N5faiss11IndexRefine6ntotalE"></span><span id="faiss::IndexRefine::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss11IndexRefine5idx_tE" title="faiss::IndexRefine::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss11IndexRefine6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine7verboseE">
<span id="_CPPv3N5faiss11IndexRefine7verboseE"></span><span id="_CPPv2N5faiss11IndexRefine7verboseE"></span><span id="faiss::IndexRefine::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss11IndexRefine7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine10is_trainedE">
<span id="_CPPv3N5faiss11IndexRefine10is_trainedE"></span><span id="_CPPv2N5faiss11IndexRefine10is_trainedE"></span><span id="faiss::IndexRefine::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss11IndexRefine10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine11metric_typeE">
<span id="_CPPv3N5faiss11IndexRefine11metric_typeE"></span><span id="_CPPv2N5faiss11IndexRefine11metric_typeE"></span><span id="faiss::IndexRefine::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss11IndexRefine11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11IndexRefine10metric_argE">
<span id="_CPPv3N5faiss11IndexRefine10metric_argE"></span><span id="_CPPv2N5faiss11IndexRefine10metric_argE"></span><span id="faiss::IndexRefine::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss11IndexRefine10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15IndexRefineFlatE">
<span id="_CPPv3N5faiss15IndexRefineFlatE"></span><span id="_CPPv2N5faiss15IndexRefineFlatE"></span><span id="faiss::IndexRefineFlat"></span><span class="target" id="structfaiss_1_1IndexRefineFlat"></span><em class="property">struct </em><code class="sig-name descname">IndexRefineFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexRefine_8h.html#_CPPv4N5faiss11IndexRefineE" title="faiss::IndexRefine">IndexRefine</a><br /></dt>
<dd><em>#include &lt;IndexRefine.h&gt;</em><p>Version where the refinement index is an <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">IndexFlat</span></a>. It has one additional constructor that takes a table of elements to add to the flat refinement index </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexRefineFlat5idx_tE">
<span id="_CPPv3N5faiss15IndexRefineFlat5idx_tE"></span><span id="_CPPv2N5faiss15IndexRefineFlat5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexRefineFlat11component_tE">
<span id="_CPPv3N5faiss15IndexRefineFlat11component_tE"></span><span id="_CPPv2N5faiss15IndexRefineFlat11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss15IndexRefineFlat10distance_tE">
<span id="_CPPv3N5faiss15IndexRefineFlat10distance_tE"></span><span id="_CPPv2N5faiss15IndexRefineFlat10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexRefineFlat15IndexRefineFlatEP5Index">
<span id="_CPPv3N5faiss15IndexRefineFlat15IndexRefineFlatEP5Index"></span><span id="_CPPv2N5faiss15IndexRefineFlat15IndexRefineFlatEP5Index"></span><span id="faiss::IndexRefineFlat::IndexRefineFlat__IndexP"></span><span class="target" id="structfaiss_1_1IndexRefineFlat_1ac192a0a8143821bfc09ed3cacff77789"></span><code class="sig-name descname">IndexRefineFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>base_index</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexRefineFlat15IndexRefineFlatEP5IndexPKf">
<span id="_CPPv3N5faiss15IndexRefineFlat15IndexRefineFlatEP5IndexPKf"></span><span id="_CPPv2N5faiss15IndexRefineFlat15IndexRefineFlatEP5IndexPKf"></span><span id="faiss::IndexRefineFlat::IndexRefineFlat__IndexP.floatCP"></span><span class="target" id="structfaiss_1_1IndexRefineFlat_1aebcb0b09b4e97fb24732a124e40eca2f"></span><code class="sig-name descname">IndexRefineFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>base_index</em>, <em class="property">const</em> float *<em>xb</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexRefineFlat15IndexRefineFlatEv">
<span id="_CPPv3N5faiss15IndexRefineFlat15IndexRefineFlatEv"></span><span id="_CPPv2N5faiss15IndexRefineFlat15IndexRefineFlatEv"></span><span id="faiss::IndexRefineFlat::IndexRefineFlat"></span><span class="target" id="structfaiss_1_1IndexRefineFlat_1a4ab16fe00e23fcf887c147b58859771d"></span><code class="sig-name descname">IndexRefineFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss15IndexRefineFlat6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss15IndexRefineFlat6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexRefineFlat::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexRefineFlat_1ad04444de1e2c26c463cc52f3c076dd41"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexRefineFlat5trainE5idx_tPKf">
<span id="_CPPv3N5faiss15IndexRefineFlat5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss15IndexRefineFlat5trainE5idx_tPKf"></span><span id="faiss::IndexRefineFlat::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a759db97766dcfe29c162e3339d68bd7d"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexRefineFlat3addE5idx_tPKf">
<span id="_CPPv3N5faiss15IndexRefineFlat3addE5idx_tPKf"></span><span id="_CPPv2N5faiss15IndexRefineFlat3addE5idx_tPKf"></span><span id="faiss::IndexRefineFlat::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a0801c6b9554ce88deb63b72f9e28f7f1"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexRefineFlat5resetEv">
<span id="_CPPv3N5faiss15IndexRefineFlat5resetEv"></span><span id="_CPPv2N5faiss15IndexRefineFlat5resetEv"></span><span id="faiss::IndexRefineFlat::reset"></span><span class="target" id="structfaiss_1_1IndexRefine_1ad5a9963cdf57b3dec44e9e5204f86e42"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss15IndexRefineFlat11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexRefineFlat11reconstructE5idx_tPf"></span><span id="faiss::IndexRefineFlat::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexRefine_1a01356d39a4eda730517a295c2c7bb869"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexRefineFlat12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss15IndexRefineFlat12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss15IndexRefineFlat12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexRefineFlat::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss15IndexRefineFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss15IndexRefineFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexRefineFlat::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss15IndexRefineFlat6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss15IndexRefineFlat6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexRefineFlat::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15IndexRefineFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss15IndexRefineFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss15IndexRefineFlat10remove_idsERK10IDSelector"></span><span id="faiss::IndexRefineFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss15IndexRefineFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexRefineFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexRefineFlat::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss15IndexRefineFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss15IndexRefineFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexRefineFlat::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss15IndexRefineFlat16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss15IndexRefineFlat16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexRefineFlat::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss15IndexRefineFlat18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss15IndexRefineFlat18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexRefineFlat::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat21get_distance_computerEv">
<span id="_CPPv3NK5faiss15IndexRefineFlat21get_distance_computerEv"></span><span id="_CPPv2NK5faiss15IndexRefineFlat21get_distance_computerEv"></span><span id="faiss::IndexRefineFlat::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat12sa_code_sizeEv">
<span id="_CPPv3NK5faiss15IndexRefineFlat12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss15IndexRefineFlat12sa_code_sizeEv"></span><span id="faiss::IndexRefineFlat::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss15IndexRefineFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss15IndexRefineFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexRefineFlat::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15IndexRefineFlat9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss15IndexRefineFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss15IndexRefineFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexRefineFlat::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss15IndexRefineFlat9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat10base_indexE">
<span id="_CPPv3N5faiss15IndexRefineFlat10base_indexE"></span><span id="_CPPv2N5faiss15IndexRefineFlat10base_indexE"></span><span id="faiss::IndexRefineFlat::base_index__IndexP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a37ee42fdfa98d629a09d23fb0916b972"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">base_index</code><br /></dt>
<dd><p>faster index to pre-select the vectors that should be filtered </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat12refine_indexE">
<span id="_CPPv3N5faiss15IndexRefineFlat12refine_indexE"></span><span id="_CPPv2N5faiss15IndexRefineFlat12refine_indexE"></span><span id="faiss::IndexRefineFlat::refine_index__IndexP"></span><span class="target" id="structfaiss_1_1IndexRefine_1a226cf986bc8653321a4a10e6f93e5e88"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">refine_index</code><br /></dt>
<dd><p>refinement index </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat10own_fieldsE">
<span id="_CPPv3N5faiss15IndexRefineFlat10own_fieldsE"></span><span id="_CPPv2N5faiss15IndexRefineFlat10own_fieldsE"></span><span id="faiss::IndexRefineFlat::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexRefine_1ae7f472c54df7253435355a4f65c3f479"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd><p>should the base index be deallocated? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat16own_refine_indexE">
<span id="_CPPv3N5faiss15IndexRefineFlat16own_refine_indexE"></span><span id="_CPPv2N5faiss15IndexRefineFlat16own_refine_indexE"></span><span id="faiss::IndexRefineFlat::own_refine_index__b"></span><span class="target" id="structfaiss_1_1IndexRefine_1a40b4d1cbf95190426fce28a63179e678"></span>bool <code class="sig-name descname">own_refine_index</code><br /></dt>
<dd><p>same with the refinement index </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat8k_factorE">
<span id="_CPPv3N5faiss15IndexRefineFlat8k_factorE"></span><span id="_CPPv2N5faiss15IndexRefineFlat8k_factorE"></span><span id="faiss::IndexRefineFlat::k_factor__float"></span><span class="target" id="structfaiss_1_1IndexRefine_1a520e756ea6610d94edb3fe34c31869cc"></span>float <code class="sig-name descname">k_factor</code> = 1<br /></dt>
<dd><p>factor between k requested in search and the k requested from the base_index (should be &gt;= 1) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat1dE">
<span id="_CPPv3N5faiss15IndexRefineFlat1dE"></span><span id="_CPPv2N5faiss15IndexRefineFlat1dE"></span><span id="faiss::IndexRefineFlat::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat6ntotalE">
<span id="_CPPv3N5faiss15IndexRefineFlat6ntotalE"></span><span id="_CPPv2N5faiss15IndexRefineFlat6ntotalE"></span><span id="faiss::IndexRefineFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss15IndexRefineFlat5idx_tE" title="faiss::IndexRefineFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat7verboseE">
<span id="_CPPv3N5faiss15IndexRefineFlat7verboseE"></span><span id="_CPPv2N5faiss15IndexRefineFlat7verboseE"></span><span id="faiss::IndexRefineFlat::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat10is_trainedE">
<span id="_CPPv3N5faiss15IndexRefineFlat10is_trainedE"></span><span id="_CPPv2N5faiss15IndexRefineFlat10is_trainedE"></span><span id="faiss::IndexRefineFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat11metric_typeE">
<span id="_CPPv3N5faiss15IndexRefineFlat11metric_typeE"></span><span id="_CPPv2N5faiss15IndexRefineFlat11metric_typeE"></span><span id="faiss::IndexRefineFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15IndexRefineFlat10metric_argE">
<span id="_CPPv3N5faiss15IndexRefineFlat10metric_argE"></span><span id="_CPPv2N5faiss15IndexRefineFlat10metric_argE"></span><span id="faiss::IndexRefineFlat::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss15IndexRefineFlat10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4I0EN5faiss21IndexReplicasTemplateE">
<span id="_CPPv3I0EN5faiss21IndexReplicasTemplateE"></span><span id="_CPPv2I0EN5faiss21IndexReplicasTemplateE"></span>template&lt;typename <code class="sig-name descname">IndexT</code>&gt;<br /><span class="target" id="classfaiss_1_1IndexReplicasTemplate"></span><em class="property">class </em><code class="sig-name descname">IndexReplicasTemplate</code> : <em class="property">public</em> ThreadedIndex&lt;<a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate::IndexT">IndexT</a>&gt;<br /></dt>
<dd><em>#include &lt;IndexReplicas.h&gt;</em><p>Takes individual <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">faiss::Index</span></a> instances, and splits queries for sending to each <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> instance, and joins the results together when done. Each index is managed by a separate CPU thread. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate5idx_tE">
<span id="_CPPv3N5faiss21IndexReplicasTemplate5idx_tE"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate5idx_tE"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1ae8b631f7c3200cf1a02cd6e4397a50c9"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <em class="property">typename</em> <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate::IndexT">IndexT</a>::idx_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate11component_tE">
<span id="_CPPv3N5faiss21IndexReplicasTemplate11component_tE"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate11component_tE"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1aa2482e6d6245830bad1cd29551262793"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = <em class="property">typename</em> <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate::IndexT">IndexT</a>::component_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate10distance_tE">
<span id="_CPPv3N5faiss21IndexReplicasTemplate10distance_tE"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate10distance_tE"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a33eb25784833dd8dbb24544d8043eec0"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = <em class="property">typename</em> <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate::IndexT">IndexT</a>::distance_t<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate21IndexReplicasTemplateEb">
<span id="_CPPv3N5faiss21IndexReplicasTemplate21IndexReplicasTemplateEb"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate21IndexReplicasTemplateEb"></span><span id="faiss::IndexReplicasTemplate::IndexReplicasTemplate__b"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a29d851d995abc011c759a855ae0057ae"></span><code class="sig-name descname">IndexReplicasTemplate</code><span class="sig-paren">(</span>bool <em>threaded</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p>The dimension that all sub-indices must share will be the dimension of the first sub-index added <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">threaded</span></code>: do we use one thread per sub-index or do queries sequentially? </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate21IndexReplicasTemplateE5idx_tb">
<span id="_CPPv3N5faiss21IndexReplicasTemplate21IndexReplicasTemplateE5idx_tb"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate21IndexReplicasTemplateE5idx_tb"></span><span id="faiss::IndexReplicasTemplate::IndexReplicasTemplate__idx_t.b"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1ada9226643e1a48e45c65ffecc57b7391"></span><code class="sig-name descname">IndexReplicasTemplate</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate5idx_tE" title="faiss::IndexReplicasTemplate::idx_t">idx_t</a> <em>d</em>, bool <em>threaded</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: the dimension that all sub-indices must share </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">threaded</span></code>: do we use one thread per sub index or do queries sequentially? </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate21IndexReplicasTemplateEib">
<span id="_CPPv3N5faiss21IndexReplicasTemplate21IndexReplicasTemplateEib"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate21IndexReplicasTemplateEib"></span><span id="faiss::IndexReplicasTemplate::IndexReplicasTemplate__i.b"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1adbad834789bb985ce8c99a82dc020248"></span><code class="sig-name descname">IndexReplicasTemplate</code><span class="sig-paren">(</span>int <em>d</em>, bool <em>threaded</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p>int version due to the implicit bool conversion ambiguity of int as dimension </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate11add_replicaEP6IndexT">
<span id="_CPPv3N5faiss21IndexReplicasTemplate11add_replicaEP6IndexT"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate11add_replicaEP6IndexT"></span><span id="faiss::IndexReplicasTemplate::add_replica__IndexTP"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a34bf1c7e890c2e5a57307fd3ee5b980b"></span>void <code class="sig-name descname">add_replica</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Alias for addIndex() </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate14remove_replicaEP6IndexT">
<span id="_CPPv3N5faiss21IndexReplicasTemplate14remove_replicaEP6IndexT"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate14remove_replicaEP6IndexT"></span><span id="faiss::IndexReplicasTemplate::remove_replica__IndexTP"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1affcfc49402a7c3d5604689bfbab00326"></span>void <code class="sig-name descname">remove_replica</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Alias for removeIndex() </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate5trainE5idx_tPK11component_t">
<span id="_CPPv3N5faiss21IndexReplicasTemplate5trainE5idx_tPK11component_t"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate5trainE5idx_tPK11component_t"></span><span id="faiss::IndexReplicasTemplate::train__idx_t.component_tCP"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a5cdb2a340a3b4f45ec244d5398a29005"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate5idx_tE" title="faiss::IndexReplicasTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate11component_tE" title="faiss::IndexReplicasTemplate::component_t">component_t</a> *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">faiss::Index</span></a> API All indices receive the same call </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate3addE5idx_tPK11component_t">
<span id="_CPPv3N5faiss21IndexReplicasTemplate3addE5idx_tPK11component_t"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate3addE5idx_tPK11component_t"></span><span id="faiss::IndexReplicasTemplate::add__idx_t.component_tCP"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a6b110e7efab3d01be7ae7cb346d9fbf9"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate5idx_tE" title="faiss::IndexReplicasTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate11component_tE" title="faiss::IndexReplicasTemplate::component_t">component_t</a> *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">faiss::Index</span></a> API All indices receive the same call </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21IndexReplicasTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t">
<span id="_CPPv3NK5faiss21IndexReplicasTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t"></span><span id="_CPPv2NK5faiss21IndexReplicasTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t"></span><span id="faiss::IndexReplicasTemplate::search__idx_t.component_tCP.idx_t.distance_tP.idx_tPC"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1ad6382e3ebaaca61607ad90fc80cdbd3c"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate5idx_tE" title="faiss::IndexReplicasTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate11component_tE" title="faiss::IndexReplicasTemplate::component_t">component_t</a> *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate5idx_tE" title="faiss::IndexReplicasTemplate::idx_t">idx_t</a> <em>k</em>, <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate10distance_tE" title="faiss::IndexReplicasTemplate::distance_t">distance_t</a> *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate5idx_tE" title="faiss::IndexReplicasTemplate::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">faiss::Index</span></a> API Query is partitioned into a slice for each sub-index split by ceil(n / #indices) for our sub-indices </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21IndexReplicasTemplate11reconstructE5idx_tP11component_t">
<span id="_CPPv3NK5faiss21IndexReplicasTemplate11reconstructE5idx_tP11component_t"></span><span id="_CPPv2NK5faiss21IndexReplicasTemplate11reconstructE5idx_tP11component_t"></span><span id="faiss::IndexReplicasTemplate::reconstruct__idx_t.component_tPC"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a9fb6804492c12359b5cc2aa26fe6a6d6"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate5idx_tE" title="faiss::IndexReplicasTemplate::idx_t">idx_t</a>, <a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4N5faiss21IndexReplicasTemplate11component_tE" title="faiss::IndexReplicasTemplate::component_t">component_t</a> *<em>v</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>reconstructs from the first index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate18syncWithSubIndexesEv">
<span id="_CPPv3N5faiss21IndexReplicasTemplate18syncWithSubIndexesEv"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate18syncWithSubIndexesEv"></span><span id="faiss::IndexReplicasTemplate::syncWithSubIndexes"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a7b1233eb598fc053e61b7ceccdb9d71d"></span>void <code class="sig-name descname">syncWithSubIndexes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronize the top-level index (IndexShards) with data in the sub-indices. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate15onAfterAddIndexEP6IndexT">
<span id="_CPPv3N5faiss21IndexReplicasTemplate15onAfterAddIndexEP6IndexT"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate15onAfterAddIndexEP6IndexT"></span><span id="faiss::IndexReplicasTemplate::onAfterAddIndex__IndexTP"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a4fd98a5ba105391bfb3e490d84d26b27"></span>void <code class="sig-name descname">onAfterAddIndex</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called just after an index is added. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IndexReplicasTemplate18onAfterRemoveIndexEP6IndexT">
<span id="_CPPv3N5faiss21IndexReplicasTemplate18onAfterRemoveIndexEP6IndexT"></span><span id="_CPPv2N5faiss21IndexReplicasTemplate18onAfterRemoveIndexEP6IndexT"></span><span id="faiss::IndexReplicasTemplate::onAfterRemoveIndex__IndexTP"></span><span class="target" id="classfaiss_1_1IndexReplicasTemplate_1a1cc7b38bf2e478ac1ee26d332953fb30"></span>void <code class="sig-name descname">onAfterRemoveIndex</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1IndexReplicasTemplate.html#_CPPv4I0EN5faiss21IndexReplicasTemplateE" title="faiss::IndexReplicasTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called just after an index is removed. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20IndexScalarQuantizerE">
<span id="_CPPv3N5faiss20IndexScalarQuantizerE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizerE"></span><span id="faiss::IndexScalarQuantizer"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer"></span><em class="property">struct </em><code class="sig-name descname">IndexScalarQuantizer</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexScalarQuantizer.h&gt;</em><p>The uniform quantizer has a range [vmin, vmax]. The range can be the same for all dimensions (uniform) or specific per dimension (default). </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer5idx_tE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer5idx_tE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer11component_tE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer11component_tE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer10distance_tE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer10distance_tE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer20IndexScalarQuantizerEiN15ScalarQuantizer13QuantizerTypeE10MetricType">
<span id="_CPPv3N5faiss20IndexScalarQuantizer20IndexScalarQuantizerEiN15ScalarQuantizer13QuantizerTypeE10MetricType"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer20IndexScalarQuantizerEiN15ScalarQuantizer13QuantizerTypeE10MetricType"></span><span id="faiss::IndexScalarQuantizer::IndexScalarQuantizer__i.ScalarQuantizer::QuantizerType.MetricType"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a474ad5a50eb2e9f0d79f869855c57223"></span><code class="sig-name descname">IndexScalarQuantizer</code><span class="sig-paren">(</span>int <em>d</em>, ScalarQuantizer::QuantizerType <em>qtype</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::METRIC_L2">METRIC_L2</a><span class="sig-paren">)</span><br /></dt>
<dd><p>Constructor.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimensionality of the input vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: number of subquantizers </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nbits</span></code>: number of bit per subvector index </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer20IndexScalarQuantizerEv">
<span id="_CPPv3N5faiss20IndexScalarQuantizer20IndexScalarQuantizerEv"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer20IndexScalarQuantizerEv"></span><span id="faiss::IndexScalarQuantizer::IndexScalarQuantizer"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a1359af1f7a9929062ecbb0ce787a77df"></span><code class="sig-name descname">IndexScalarQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer5trainE5idx_tPKf">
<span id="_CPPv3N5faiss20IndexScalarQuantizer5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer5trainE5idx_tPKf"></span><span id="faiss::IndexScalarQuantizer::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a300647e9cdac9acd160f2c55c610056b"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer3addE5idx_tPKf">
<span id="_CPPv3N5faiss20IndexScalarQuantizer3addE5idx_tPKf"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer3addE5idx_tPKf"></span><span id="faiss::IndexScalarQuantizer::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1ad49602f9ecfcaa2ec8737a449b69ccd7"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexScalarQuantizer::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1abf24732c29106bb808148c3d30599662"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer5resetEv">
<span id="_CPPv3N5faiss20IndexScalarQuantizer5resetEv"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer5resetEv"></span><span id="faiss::IndexScalarQuantizer::reset"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1af0d6b901a2a02fff34e5c7c1ea5b8d55"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexScalarQuantizer::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a06e6935b75f0b209f65fffa1c9e1477c"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer11reconstructE5idx_tPf"></span><span id="faiss::IndexScalarQuantizer::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a8fb8680f64465d643d96119da58099f3"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer21get_distance_computerEv">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer21get_distance_computerEv"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer21get_distance_computerEv"></span><span id="faiss::IndexScalarQuantizer::get_distance_computerC"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a453a94e1d549a9ebf11e4b211c577f17"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer12sa_code_sizeEv">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer12sa_code_sizeEv"></span><span id="faiss::IndexScalarQuantizer::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1affa97f8eeee491cdb5f79c975c0f5e1b"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexScalarQuantizer::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1ae8c5ed4f9c2145aa074986bf1be3af46"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexScalarQuantizer.html#structfaiss_1_1IndexScalarQuantizer_1affa97f8eeee491cdb5f79c975c0f5e1b"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexScalarQuantizer::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a96a5ca50fbdef07c7773bb9a27e860e5"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1IndexScalarQuantizer.html#structfaiss_1_1IndexScalarQuantizer_1affa97f8eeee491cdb5f79c975c0f5e1b"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss20IndexScalarQuantizer12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexScalarQuantizer::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexScalarQuantizer::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexScalarQuantizer::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexScalarQuantizer6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss20IndexScalarQuantizer10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer10remove_idsERK10IDSelector"></span><span id="faiss::IndexScalarQuantizer::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexScalarQuantizer::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexScalarQuantizer::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexScalarQuantizer16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20IndexScalarQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss20IndexScalarQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss20IndexScalarQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexScalarQuantizer::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20IndexScalarQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer2sqE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer2sqE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer2sqE"></span><span id="faiss::IndexScalarQuantizer::sq__ScalarQuantizer"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a71381f74754d8a54812e80af46a2a83a"></span>ScalarQuantizer <code class="sig-name descname">sq</code><br /></dt>
<dd><p>Used to encode the vectors. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer5codesE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer5codesE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer5codesE"></span><span id="faiss::IndexScalarQuantizer::codes__std::vector:uint8_t:"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a861fa059f9d4ced9147e08193a2be9be"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">codes</code><br /></dt>
<dd><p>Codes. Size ntotal * pq.code_size. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer9code_sizeE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer9code_sizeE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer9code_sizeE"></span><span id="faiss::IndexScalarQuantizer::code_size__s"></span><span class="target" id="structfaiss_1_1IndexScalarQuantizer_1a8ca0b891036031ae0a9d4fef756858b2"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer1dE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer1dE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer1dE"></span><span id="faiss::IndexScalarQuantizer::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer6ntotalE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer6ntotalE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer6ntotalE"></span><span id="faiss::IndexScalarQuantizer::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss20IndexScalarQuantizer5idx_tE" title="faiss::IndexScalarQuantizer::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer7verboseE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer7verboseE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer7verboseE"></span><span id="faiss::IndexScalarQuantizer::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer10is_trainedE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer10is_trainedE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer10is_trainedE"></span><span id="faiss::IndexScalarQuantizer::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer11metric_typeE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer11metric_typeE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer11metric_typeE"></span><span id="faiss::IndexScalarQuantizer::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20IndexScalarQuantizer10metric_argE">
<span id="_CPPv3N5faiss20IndexScalarQuantizer10metric_argE"></span><span id="_CPPv2N5faiss20IndexScalarQuantizer10metric_argE"></span><span id="faiss::IndexScalarQuantizer::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss20IndexScalarQuantizer10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I0EN5faiss19IndexShardsTemplateE">
<span id="_CPPv3I0EN5faiss19IndexShardsTemplateE"></span><span id="_CPPv2I0EN5faiss19IndexShardsTemplateE"></span>template&lt;typename <code class="sig-name descname">IndexT</code>&gt;<br /><span class="target" id="structfaiss_1_1IndexShardsTemplate"></span><em class="property">struct </em><code class="sig-name descname">IndexShardsTemplate</code> : <em class="property">public</em> ThreadedIndex&lt;<a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate::IndexT">IndexT</a>&gt;<br /></dt>
<dd><em>#include &lt;IndexShards.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> that concatenates the results from several sub-indexes </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss19IndexShardsTemplate5idx_tE">
<span id="_CPPv3N5faiss19IndexShardsTemplate5idx_tE"></span><span id="_CPPv2N5faiss19IndexShardsTemplate5idx_tE"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a8d48a797bd827211a69c4f0a4cad1036"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate::IndexT">IndexT</a>::idx_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19IndexShardsTemplate11component_tE">
<span id="_CPPv3N5faiss19IndexShardsTemplate11component_tE"></span><span id="_CPPv2N5faiss19IndexShardsTemplate11component_tE"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1ada31784dde1b51d8be8b15288943c559"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate::IndexT">IndexT</a>::component_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19IndexShardsTemplate10distance_tE">
<span id="_CPPv3N5faiss19IndexShardsTemplate10distance_tE"></span><span id="_CPPv2N5faiss19IndexShardsTemplate10distance_tE"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a94570791e9f70d2bef77d76564571417"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = <em class="property">typename</em> <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate::IndexT">IndexT</a>::distance_t<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate19IndexShardsTemplateEbb">
<span id="_CPPv3N5faiss19IndexShardsTemplate19IndexShardsTemplateEbb"></span><span id="_CPPv2N5faiss19IndexShardsTemplate19IndexShardsTemplateEbb"></span><span id="faiss::IndexShardsTemplate::IndexShardsTemplate__b.b"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a2ffc0edbce1815fae55cae188b83a5cf"></span><code class="sig-name descname">IndexShardsTemplate</code><span class="sig-paren">(</span>bool <em>threaded</em> = false, bool <em>successive_ids</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p>The dimension that all sub-indices must share will be the dimension of the first sub-index added</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">threaded</span></code>: do we use one thread per sub_index or do queries sequentially? </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">successive_ids</span></code>: should we shift the returned ids by the size of each sub-index or return them as they are? </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate19IndexShardsTemplateE5idx_tbb">
<span id="_CPPv3N5faiss19IndexShardsTemplate19IndexShardsTemplateE5idx_tbb"></span><span id="_CPPv2N5faiss19IndexShardsTemplate19IndexShardsTemplateE5idx_tbb"></span><span id="faiss::IndexShardsTemplate::IndexShardsTemplate__idx_t.b.b"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1ac278d8f7d54923cb034127a4257c56b7"></span><code class="sig-name descname">IndexShardsTemplate</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate5idx_tE" title="faiss::IndexShardsTemplate::idx_t">idx_t</a> <em>d</em>, bool <em>threaded</em> = false, bool <em>successive_ids</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">threaded</span></code>: do we use one thread per sub_index or do queries sequentially? </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">successive_ids</span></code>: should we shift the returned ids by the size of each sub-index or return them as they are? </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate19IndexShardsTemplateEibb">
<span id="_CPPv3N5faiss19IndexShardsTemplate19IndexShardsTemplateEibb"></span><span id="_CPPv2N5faiss19IndexShardsTemplate19IndexShardsTemplateEibb"></span><span id="faiss::IndexShardsTemplate::IndexShardsTemplate__i.b.b"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a0596f5ca67d6c9bfddae1465c5353b29"></span><code class="sig-name descname">IndexShardsTemplate</code><span class="sig-paren">(</span>int <em>d</em>, bool <em>threaded</em> = false, bool <em>successive_ids</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p>int version due to the implicit bool conversion ambiguity of int as dimension </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate9add_shardEP6IndexT">
<span id="_CPPv3N5faiss19IndexShardsTemplate9add_shardEP6IndexT"></span><span id="_CPPv2N5faiss19IndexShardsTemplate9add_shardEP6IndexT"></span><span id="faiss::IndexShardsTemplate::add_shard__IndexTP"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a47a2e1f78d91025857f483be3eb6828a"></span>void <code class="sig-name descname">add_shard</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Alias for addIndex() </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate12remove_shardEP6IndexT">
<span id="_CPPv3N5faiss19IndexShardsTemplate12remove_shardEP6IndexT"></span><span id="_CPPv2N5faiss19IndexShardsTemplate12remove_shardEP6IndexT"></span><span id="faiss::IndexShardsTemplate::remove_shard__IndexTP"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1ae0bff98885fecae6c42a474d05563ecd"></span>void <code class="sig-name descname">remove_shard</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Alias for removeIndex() </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate3addE5idx_tPK11component_t">
<span id="_CPPv3N5faiss19IndexShardsTemplate3addE5idx_tPK11component_t"></span><span id="_CPPv2N5faiss19IndexShardsTemplate3addE5idx_tPK11component_t"></span><span id="faiss::IndexShardsTemplate::add__idx_t.component_tCP"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a45647579ff21e0945d8a87a97ec705fe"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate5idx_tE" title="faiss::IndexShardsTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate11component_tE" title="faiss::IndexShardsTemplate::component_t">component_t</a> *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>supported only for sub-indices that implement add_with_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate12add_with_idsE5idx_tPK11component_tPK5idx_t">
<span id="_CPPv3N5faiss19IndexShardsTemplate12add_with_idsE5idx_tPK11component_tPK5idx_t"></span><span id="_CPPv2N5faiss19IndexShardsTemplate12add_with_idsE5idx_tPK11component_tPK5idx_t"></span><span id="faiss::IndexShardsTemplate::add_with_ids__idx_t.component_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a15e0b4a2fd85f9345537d215a331ed91"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate5idx_tE" title="faiss::IndexShardsTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate11component_tE" title="faiss::IndexShardsTemplate::component_t">component_t</a> *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate5idx_tE" title="faiss::IndexShardsTemplate::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Cases (successive_ids, xids):<ul class="simple">
<li><p>true, non-NULL ERROR: it makes no sense to pass in ids and request them to be shifted</p></li>
<li><p>true, NULL OK, but should be called only once (calls <a class="reference internal" href="../struct/structfaiss_1_1IndexShardsTemplate.html#structfaiss_1_1IndexShardsTemplate_1a45647579ff21e0945d8a87a97ec705fe"><span class="std std-ref">add()</span></a> on sub-indexes).</p></li>
<li><p>false, non-NULL OK: will call add_with_ids with passed in xids distributed evenly over shards</p></li>
<li><p>false, NULL OK: will call add_with_ids on each sub-index, starting at ntotal </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19IndexShardsTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t">
<span id="_CPPv3NK5faiss19IndexShardsTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t"></span><span id="_CPPv2NK5faiss19IndexShardsTemplate6searchE5idx_tPK11component_t5idx_tP10distance_tP5idx_t"></span><span id="faiss::IndexShardsTemplate::search__idx_t.component_tCP.idx_t.distance_tP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1ab3698d94a2c039f445115d52c4545640"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate5idx_tE" title="faiss::IndexShardsTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate11component_tE" title="faiss::IndexShardsTemplate::component_t">component_t</a> *<em>x</em>, <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate5idx_tE" title="faiss::IndexShardsTemplate::idx_t">idx_t</a> <em>k</em>, <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate10distance_tE" title="faiss::IndexShardsTemplate::distance_t">distance_t</a> *<em>distances</em>, <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate5idx_tE" title="faiss::IndexShardsTemplate::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate5trainE5idx_tPK11component_t">
<span id="_CPPv3N5faiss19IndexShardsTemplate5trainE5idx_tPK11component_t"></span><span id="_CPPv2N5faiss19IndexShardsTemplate5trainE5idx_tPK11component_t"></span><span id="faiss::IndexShardsTemplate::train__idx_t.component_tCP"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1aa7d268a8a30e16f52e192d41a57b8626"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate5idx_tE" title="faiss::IndexShardsTemplate::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4N5faiss19IndexShardsTemplate11component_tE" title="faiss::IndexShardsTemplate::component_t">component_t</a> *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate18syncWithSubIndexesEv">
<span id="_CPPv3N5faiss19IndexShardsTemplate18syncWithSubIndexesEv"></span><span id="_CPPv2N5faiss19IndexShardsTemplate18syncWithSubIndexesEv"></span><span id="faiss::IndexShardsTemplate::syncWithSubIndexes"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a7cd3a39d756000d2e64ba129be6e90d8"></span>void <code class="sig-name descname">syncWithSubIndexes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronize the top-level index (IndexShards) with data in the sub-indices. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19IndexShardsTemplate14successive_idsE">
<span id="_CPPv3N5faiss19IndexShardsTemplate14successive_idsE"></span><span id="_CPPv2N5faiss19IndexShardsTemplate14successive_idsE"></span><span id="faiss::IndexShardsTemplate::successive_ids__b"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1aa79db16c723ae37eaf406e840e4f227a"></span>bool <code class="sig-name descname">successive_ids</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate15onAfterAddIndexEP6IndexT">
<span id="_CPPv3N5faiss19IndexShardsTemplate15onAfterAddIndexEP6IndexT"></span><span id="_CPPv2N5faiss19IndexShardsTemplate15onAfterAddIndexEP6IndexT"></span><span id="faiss::IndexShardsTemplate::onAfterAddIndex__IndexTP"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a1d78dd47e9dc49488947e90dbc85e1ac"></span>void <code class="sig-name descname">onAfterAddIndex</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called just after an index is added. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IndexShardsTemplate18onAfterRemoveIndexEP6IndexT">
<span id="_CPPv3N5faiss19IndexShardsTemplate18onAfterRemoveIndexEP6IndexT"></span><span id="_CPPv2N5faiss19IndexShardsTemplate18onAfterRemoveIndexEP6IndexT"></span><span id="faiss::IndexShardsTemplate::onAfterRemoveIndex__IndexTP"></span><span class="target" id="structfaiss_1_1IndexShardsTemplate_1a0488d95e9d45e0cfab203c83e3a8e3c1"></span>void <code class="sig-name descname">onAfterRemoveIndex</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexShards_8h.html#_CPPv4I0EN5faiss19IndexShardsTemplateE" title="faiss::IndexShardsTemplate::IndexT">IndexT</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called just after an index is removed. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss17IndexSplitVectorsE">
<span id="_CPPv3N5faiss17IndexSplitVectorsE"></span><span id="_CPPv2N5faiss17IndexSplitVectorsE"></span><span id="faiss::IndexSplitVectors"></span><span class="target" id="structfaiss_1_1IndexSplitVectors"></span><em class="property">struct </em><code class="sig-name descname">IndexSplitVectors</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;MetaIndexes.h&gt;</em><p>splits input vectors in segments and assigns each segment to a sub-index used to distribute a <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer.html#structfaiss_1_1MultiIndexQuantizer"><span class="std std-ref">MultiIndexQuantizer</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexSplitVectors5idx_tE">
<span id="_CPPv3N5faiss17IndexSplitVectors5idx_tE"></span><span id="_CPPv2N5faiss17IndexSplitVectors5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexSplitVectors11component_tE">
<span id="_CPPv3N5faiss17IndexSplitVectors11component_tE"></span><span id="_CPPv2N5faiss17IndexSplitVectors11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss17IndexSplitVectors10distance_tE">
<span id="_CPPv3N5faiss17IndexSplitVectors10distance_tE"></span><span id="_CPPv2N5faiss17IndexSplitVectors10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectors17IndexSplitVectorsE5idx_tb">
<span id="_CPPv3N5faiss17IndexSplitVectors17IndexSplitVectorsE5idx_tb"></span><span id="_CPPv2N5faiss17IndexSplitVectors17IndexSplitVectorsE5idx_tb"></span><span id="faiss::IndexSplitVectors::IndexSplitVectors__idx_t.b"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1a70ba3367a08722fe4466dc49c21a4d2b"></span><code class="sig-name descname">IndexSplitVectors</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>d</em>, bool <em>threaded</em> = false<span class="sig-paren">)</span><br /></dt>
<dd><p>sum of dimensions seen so far </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectors13add_sub_indexEP5Index">
<span id="_CPPv3N5faiss17IndexSplitVectors13add_sub_indexEP5Index"></span><span id="_CPPv2N5faiss17IndexSplitVectors13add_sub_indexEP5Index"></span><span id="faiss::IndexSplitVectors::add_sub_index__IndexP"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1ab5df37b8924530820940bcde5fc19f7c"></span>void <code class="sig-name descname">add_sub_index</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectors21sync_with_sub_indexesEv">
<span id="_CPPv3N5faiss17IndexSplitVectors21sync_with_sub_indexesEv"></span><span id="_CPPv2N5faiss17IndexSplitVectors21sync_with_sub_indexesEv"></span><span id="faiss::IndexSplitVectors::sync_with_sub_indexes"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1ad5a6c736f835d22349fa6c335ce49169"></span>void <code class="sig-name descname">sync_with_sub_indexes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectors3addE5idx_tPKf">
<span id="_CPPv3N5faiss17IndexSplitVectors3addE5idx_tPKf"></span><span id="_CPPv2N5faiss17IndexSplitVectors3addE5idx_tPKf"></span><span id="faiss::IndexSplitVectors::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1af2ef88dc72b4a94f1190ecc8cb25881b"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 This function slices the input vectors in chuncks smaller than blocksize_add and calls add_core. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss17IndexSplitVectors6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss17IndexSplitVectors6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::IndexSplitVectors::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1a4a010daf51e44d9717e94400cc23c159"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectors5trainE5idx_tPKf">
<span id="_CPPv3N5faiss17IndexSplitVectors5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss17IndexSplitVectors5trainE5idx_tPKf"></span><span id="faiss::IndexSplitVectors::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1aafa4c780e325855fe247052453967845"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectors5resetEv">
<span id="_CPPv3N5faiss17IndexSplitVectors5resetEv"></span><span id="_CPPv2N5faiss17IndexSplitVectors5resetEv"></span><span id="faiss::IndexSplitVectors::reset"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1a8047981cb8d10c54107664c4955df402"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectorsD0Ev">
<span id="_CPPv3N5faiss17IndexSplitVectorsD0Ev"></span><span id="_CPPv2N5faiss17IndexSplitVectorsD0Ev"></span><span id="faiss::IndexSplitVectors::~IndexSplitVectors"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1a8ce34786a19cd67d49a8fbca38645500"></span><code class="sig-name descname">~IndexSplitVectors</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectors12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss17IndexSplitVectors12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss17IndexSplitVectors12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::IndexSplitVectors::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss17IndexSplitVectors12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss17IndexSplitVectors12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::IndexSplitVectors::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss17IndexSplitVectors6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss17IndexSplitVectors6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::IndexSplitVectors::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss17IndexSplitVectors10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss17IndexSplitVectors10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss17IndexSplitVectors10remove_idsERK10IDSelector"></span><span id="faiss::IndexSplitVectors::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss17IndexSplitVectors11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexSplitVectors11reconstructE5idx_tPf"></span><span id="faiss::IndexSplitVectors::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors11reconstructE5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss17IndexSplitVectors13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexSplitVectors13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::IndexSplitVectors::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss17IndexSplitVectors22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss17IndexSplitVectors22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::IndexSplitVectors::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss17IndexSplitVectors16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss17IndexSplitVectors16compute_residualEPKfPf5idx_t"></span><span id="faiss::IndexSplitVectors::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss17IndexSplitVectors18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss17IndexSplitVectors18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::IndexSplitVectors::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors21get_distance_computerEv">
<span id="_CPPv3NK5faiss17IndexSplitVectors21get_distance_computerEv"></span><span id="_CPPv2NK5faiss17IndexSplitVectors21get_distance_computerEv"></span><span id="faiss::IndexSplitVectors::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors12sa_code_sizeEv">
<span id="_CPPv3NK5faiss17IndexSplitVectors12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss17IndexSplitVectors12sa_code_sizeEv"></span><span id="faiss::IndexSplitVectors::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss17IndexSplitVectors9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss17IndexSplitVectors9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::IndexSplitVectors::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss17IndexSplitVectors9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss17IndexSplitVectors9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss17IndexSplitVectors9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::IndexSplitVectors::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss17IndexSplitVectors9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors10own_fieldsE">
<span id="_CPPv3N5faiss17IndexSplitVectors10own_fieldsE"></span><span id="_CPPv2N5faiss17IndexSplitVectors10own_fieldsE"></span><span id="faiss::IndexSplitVectors::own_fields__b"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1a3014cb53c61bbd32c356f1cfb3b42e21"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors8threadedE">
<span id="_CPPv3N5faiss17IndexSplitVectors8threadedE"></span><span id="_CPPv2N5faiss17IndexSplitVectors8threadedE"></span><span id="faiss::IndexSplitVectors::threaded__b"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1a183d3392990a6ab2bbec857d953006fd"></span>bool <code class="sig-name descname">threaded</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors11sub_indexesE">
<span id="_CPPv3N5faiss17IndexSplitVectors11sub_indexesE"></span><span id="_CPPv2N5faiss17IndexSplitVectors11sub_indexesE"></span><span id="faiss::IndexSplitVectors::sub_indexes__std::vector:IndexP:"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1a9733b28f29118fa9fc68c48ef7e47a48"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>*&gt; <code class="sig-name descname">sub_indexes</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors5sum_dE">
<span id="_CPPv3N5faiss17IndexSplitVectors5sum_dE"></span><span id="_CPPv2N5faiss17IndexSplitVectors5sum_dE"></span><span id="faiss::IndexSplitVectors::sum_d__idx_t"></span><span class="target" id="structfaiss_1_1IndexSplitVectors_1a0c59dcaaa253f83ead8c73d9466dccca"></span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <code class="sig-name descname">sum_d</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors1dE">
<span id="_CPPv3N5faiss17IndexSplitVectors1dE"></span><span id="_CPPv2N5faiss17IndexSplitVectors1dE"></span><span id="faiss::IndexSplitVectors::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors6ntotalE">
<span id="_CPPv3N5faiss17IndexSplitVectors6ntotalE"></span><span id="_CPPv2N5faiss17IndexSplitVectors6ntotalE"></span><span id="faiss::IndexSplitVectors::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss17IndexSplitVectors5idx_tE" title="faiss::IndexSplitVectors::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors7verboseE">
<span id="_CPPv3N5faiss17IndexSplitVectors7verboseE"></span><span id="_CPPv2N5faiss17IndexSplitVectors7verboseE"></span><span id="faiss::IndexSplitVectors::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors10is_trainedE">
<span id="_CPPv3N5faiss17IndexSplitVectors10is_trainedE"></span><span id="_CPPv2N5faiss17IndexSplitVectors10is_trainedE"></span><span id="faiss::IndexSplitVectors::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors11metric_typeE">
<span id="_CPPv3N5faiss17IndexSplitVectors11metric_typeE"></span><span id="_CPPv2N5faiss17IndexSplitVectors11metric_typeE"></span><span id="faiss::IndexSplitVectors::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss17IndexSplitVectors10metric_argE">
<span id="_CPPv3N5faiss17IndexSplitVectors10metric_argE"></span><span id="_CPPv2N5faiss17IndexSplitVectors10metric_argE"></span><span id="faiss::IndexSplitVectors::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss17IndexSplitVectors10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss21IntersectionCriterionE">
<span id="_CPPv3N5faiss21IntersectionCriterionE"></span><span id="_CPPv2N5faiss21IntersectionCriterionE"></span><span id="faiss::IntersectionCriterion"></span><span class="target" id="structfaiss_1_1IntersectionCriterion"></span><em class="property">struct </em><code class="sig-name descname">IntersectionCriterion</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterionE" title="faiss::AutoTuneCriterion">AutoTuneCriterion</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss21IntersectionCriterion5idx_tE">
<span id="_CPPv3N5faiss21IntersectionCriterion5idx_tE"></span><span id="_CPPv2N5faiss21IntersectionCriterion5idx_tE"></span><span id="faiss::IntersectionCriterion::idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a7873f86515af86a77eaaea1f6b13e982"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss21IntersectionCriterion21IntersectionCriterionE5idx_t5idx_t">
<span id="_CPPv3N5faiss21IntersectionCriterion21IntersectionCriterionE5idx_t5idx_t"></span><span id="_CPPv2N5faiss21IntersectionCriterion21IntersectionCriterionE5idx_t5idx_t"></span><span id="faiss::IntersectionCriterion::IntersectionCriterion__idx_t.idx_t"></span><span class="target" id="structfaiss_1_1IntersectionCriterion_1a786f743984105ff940a780fe3ba85040"></span><code class="sig-name descname">IntersectionCriterion</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> <em>nq</em>, <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> <em>R</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21IntersectionCriterion8evaluateEPKfPK5idx_t">
<span id="_CPPv3NK5faiss21IntersectionCriterion8evaluateEPKfPK5idx_t"></span><span id="_CPPv2NK5faiss21IntersectionCriterion8evaluateEPKfPK5idx_t"></span><span id="faiss::IntersectionCriterion::evaluate__floatCP.idx_tCPC"></span><span class="target" id="structfaiss_1_1IntersectionCriterion_1a6f7aef25852931b22298f7bb4c358791"></span>double <code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IntersectionCriterionD0Ev">
<span id="_CPPv3N5faiss21IntersectionCriterionD0Ev"></span><span id="_CPPv2N5faiss21IntersectionCriterionD0Ev"></span><span id="faiss::IntersectionCriterion::~IntersectionCriterion"></span><span class="target" id="structfaiss_1_1IntersectionCriterion_1ab5ae8b2a2a4a978fa057ef2e2178f321"></span><code class="sig-name descname">~IntersectionCriterion</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IntersectionCriterion15set_groundtruthEiPKfPK5idx_t">
<span id="_CPPv3N5faiss21IntersectionCriterion15set_groundtruthEiPKfPK5idx_t"></span><span id="_CPPv2N5faiss21IntersectionCriterion15set_groundtruthEiPKfPK5idx_t"></span><span id="faiss::IntersectionCriterion::set_groundtruth__i.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a174f0de8e6fd01905f5fa2170f5039d8"></span>void <code class="sig-name descname">set_groundtruth</code><span class="sig-paren">(</span>int <em>gt_nnn</em>, <em class="property">const</em> float *<em>gt_D_in</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> *<em>gt_I_in</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Intitializes the gt_D and gt_I vectors. Must be called before evaluating</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gt_D_in</span></code>: size nq * gt_nnn </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gt_I_in</span></code>: size nq * gt_nnn </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1AutoTuneCriterion_1a9084449e216b331c5f753a10c6de6a47"></span>double <code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Evaluate the criterion.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the criterion, between 0 and 1. Larger is better. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">D</span></code>: size nq * nnn </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: size nq * nnn </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss21IntersectionCriterion1RE">
<span id="_CPPv3N5faiss21IntersectionCriterion1RE"></span><span id="_CPPv2N5faiss21IntersectionCriterion1RE"></span><span id="faiss::IntersectionCriterion::R__idx_t"></span><span class="target" id="structfaiss_1_1IntersectionCriterion_1a9ccad002c0cf0272a2cc0e02d2a37384"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> <code class="sig-name descname">R</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IntersectionCriterion2nqE">
<span id="_CPPv3N5faiss21IntersectionCriterion2nqE"></span><span id="_CPPv2N5faiss21IntersectionCriterion2nqE"></span><span id="faiss::IntersectionCriterion::nq__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1adcfaafb3f1b3449e2cfd553f0f603a5b"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> <code class="sig-name descname">nq</code><br /></dt>
<dd><p>nb of queries this criterion is evaluated on </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IntersectionCriterion3nnnE">
<span id="_CPPv3N5faiss21IntersectionCriterion3nnnE"></span><span id="_CPPv2N5faiss21IntersectionCriterion3nnnE"></span><span id="faiss::IntersectionCriterion::nnn__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a3bb11e873707a812999f8391869aafab"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> <code class="sig-name descname">nnn</code><br /></dt>
<dd><p>nb of NNs that the query should request </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IntersectionCriterion6gt_nnnE">
<span id="_CPPv3N5faiss21IntersectionCriterion6gt_nnnE"></span><span id="_CPPv2N5faiss21IntersectionCriterion6gt_nnnE"></span><span id="faiss::IntersectionCriterion::gt_nnn__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a9b3a2242729a0873d255c1684881bbd4"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a> <code class="sig-name descname">gt_nnn</code><br /></dt>
<dd><p>nb of GT NNs required to evaluate crterion </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IntersectionCriterion4gt_DE">
<span id="_CPPv3N5faiss21IntersectionCriterion4gt_DE"></span><span id="_CPPv2N5faiss21IntersectionCriterion4gt_DE"></span><span id="faiss::IntersectionCriterion::gt_D__std::vector:float:"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a40e91caa9232a597c16fc946d0befd9b"></span>std::vector&lt;float&gt; <code class="sig-name descname">gt_D</code><br /></dt>
<dd><p>Ground-truth distances (size nq * gt_nnn) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IntersectionCriterion4gt_IE">
<span id="_CPPv3N5faiss21IntersectionCriterion4gt_IE"></span><span id="_CPPv2N5faiss21IntersectionCriterion4gt_IE"></span><span id="faiss::IntersectionCriterion::gt_I__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1af915fc4df215e3c8d9f71ff42d526144"></span>std::vector&lt;<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21IntersectionCriterion5idx_tE" title="faiss::IntersectionCriterion::idx_t">idx_t</a>&gt; <code class="sig-name descname">gt_I</code><br /></dt>
<dd><p>Ground-truth indexes (size nq * gt_nnn) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss13InvertedListsE">
<span id="_CPPv3N5faiss13InvertedListsE"></span><span id="_CPPv2N5faiss13InvertedListsE"></span><span id="faiss::InvertedLists"></span><span class="target" id="structfaiss_1_1InvertedLists"></span><em class="property">struct </em><code class="sig-name descname">InvertedLists</code><br /></dt>
<dd><em>#include &lt;InvertedLists.h&gt;</em><p>Table of inverted lists multithreading rules:<ul class="simple">
<li><p>concurrent read accesses are allowed</p></li>
<li><p>concurrent update accesses are allowed</p></li>
<li><p>for resize and add_entries, only concurrent access to different lists are allowed </p></li>
</ul>
</p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1ArrayInvertedLists.html#structfaiss_1_1ArrayInvertedLists"><span class="std std-ref">faiss::ArrayInvertedLists</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">faiss::BlockInvertedLists</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1OnDiskInvertedLists.html#structfaiss_1_1OnDiskInvertedLists"><span class="std std-ref">faiss::OnDiskInvertedLists</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1ReadOnlyInvertedLists.html#structfaiss_1_1ReadOnlyInvertedLists"><span class="std std-ref">faiss::ReadOnlyInvertedLists</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss13InvertedLists5idx_tE">
<span id="_CPPv3N5faiss13InvertedLists5idx_tE"></span><span id="_CPPv2N5faiss13InvertedLists5idx_tE"></span><span id="faiss::InvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists13InvertedListsE6size_t6size_t">
<span id="_CPPv3N5faiss13InvertedLists13InvertedListsE6size_t6size_t"></span><span id="_CPPv2N5faiss13InvertedLists13InvertedListsE6size_t6size_t"></span><span id="faiss::InvertedLists::InvertedLists__s.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1a83d053d03720d938dc4fc4e2f674619c"></span><code class="sig-name descname">InvertedLists</code><span class="sig-paren">(</span>size_t <em>nlist</em>, size_t <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss13InvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss13InvertedLists9list_sizeE6size_t"></span><span id="faiss::InvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a9bd256053ee360473842105460fe285f"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss13InvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss13InvertedLists9get_codesE6size_t"></span><span id="faiss::InvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a60b12f9efe940b617a8380adceef4032"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss13InvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss13InvertedLists7get_idsE6size_t"></span><span id="faiss::InvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a3ab6b389d8d85c5fbf23889064df7e95"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss13InvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss13InvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::InvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a9a24bd313ece4e8e281f8bb28b5f528c"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss13InvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss13InvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::InvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ad9bd9641ac86e0851d39a96119db3e78"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss13InvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss13InvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::InvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac1fb72410cefa4f4d28ec90677c02ab3"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss13InvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss13InvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::InvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a8d3382c2a672340abd227c00cf84ad42"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss13InvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss13InvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::InvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa661652a062ecb58b02f10d2a671c9fe"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss13InvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss13InvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::InvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss13InvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss13InvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::InvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a0a2adbbd1d6b4f8ed1cbfa9bb93f4401"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss13InvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss13InvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::InvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss13InvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss13InvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::InvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1afb45f0f325bf82f73737d804f8dbf49e"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss13InvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss13InvertedLists6resizeE6size_t6size_t"></span><span id="faiss::InvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae502a3372d94450e0b8ff4350b43610"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists5resetEv">
<span id="_CPPv3N5faiss13InvertedLists5resetEv"></span><span id="_CPPv2N5faiss13InvertedLists5resetEv"></span><span id="faiss::InvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss13InvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss13InvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::InvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedListsD0Ev">
<span id="_CPPv3N5faiss13InvertedListsD0Ev"></span><span id="_CPPv2N5faiss13InvertedListsD0Ev"></span><span id="faiss::InvertedLists::~InvertedLists"></span><span class="target" id="structfaiss_1_1InvertedLists_1a74508f4759d1b37c5a9e016c495d0dc1"></span><code class="sig-name descname">~InvertedLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss13InvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss13InvertedLists16imbalance_factorEv"></span><span id="faiss::InvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss13InvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss13InvertedLists11print_statsEv"></span><span id="faiss::InvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss13InvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss13InvertedLists14compute_ntotalEv"></span><span id="faiss::InvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists5nlistE">
<span id="_CPPv3N5faiss13InvertedLists5nlistE"></span><span id="_CPPv2N5faiss13InvertedLists5nlistE"></span><span id="faiss::InvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists9code_sizeE">
<span id="_CPPv3N5faiss13InvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss13InvertedLists9code_sizeE"></span><span id="faiss::InvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss13InvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss13InvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::InvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss13InvertedLists11ScopedCodesE">
<span id="_CPPv3N5faiss13InvertedLists11ScopedCodesE"></span><span id="_CPPv2N5faiss13InvertedLists11ScopedCodesE"></span><span id="faiss::InvertedLists::ScopedCodes"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedCodes"></span><em class="property">struct </em><code class="sig-name descname">ScopedCodes</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists11ScopedCodes11ScopedCodesEPK13InvertedLists6size_t">
<span id="_CPPv3N5faiss13InvertedLists11ScopedCodes11ScopedCodesEPK13InvertedLists6size_t"></span><span id="_CPPv2N5faiss13InvertedLists11ScopedCodes11ScopedCodesEPK13InvertedLists6size_t"></span><span id="faiss::InvertedLists::ScopedCodes::ScopedCodes__InvertedListsCP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedCodes_1af5b3c1198919eeabdae4819531d84ac5"></span><code class="sig-name descname">ScopedCodes</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, size_t <em>list_no</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists11ScopedCodes11ScopedCodesEPK13InvertedLists6size_t6size_t">
<span id="_CPPv3N5faiss13InvertedLists11ScopedCodes11ScopedCodesEPK13InvertedLists6size_t6size_t"></span><span id="_CPPv2N5faiss13InvertedLists11ScopedCodes11ScopedCodesEPK13InvertedLists6size_t6size_t"></span><span id="faiss::InvertedLists::ScopedCodes::ScopedCodes__InvertedListsCP.s.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedCodes_1a78ff6ddb3ec12e8adba11e9637ef98d1"></span><code class="sig-name descname">ScopedCodes</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists11ScopedCodes3getEv">
<span id="_CPPv3N5faiss13InvertedLists11ScopedCodes3getEv"></span><span id="_CPPv2N5faiss13InvertedLists11ScopedCodes3getEv"></span><span id="faiss::InvertedLists::ScopedCodes::get"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedCodes_1aaf6478daf36366fa07f1eb65065d942d"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists11ScopedCodesD0Ev">
<span id="_CPPv3N5faiss13InvertedLists11ScopedCodesD0Ev"></span><span id="_CPPv2N5faiss13InvertedLists11ScopedCodesD0Ev"></span><span id="faiss::InvertedLists::ScopedCodes::~ScopedCodes"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedCodes_1ac14920da79e4e6b758501401e72c6115"></span><code class="sig-name descname">~ScopedCodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists11ScopedCodes2ilE">
<span id="_CPPv3N5faiss13InvertedLists11ScopedCodes2ilE"></span><span id="_CPPv2N5faiss13InvertedLists11ScopedCodes2ilE"></span><span id="faiss::InvertedLists::ScopedCodes::il__InvertedListsCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedCodes_1a4b1977ab80c851569d5ca37eabc528c0"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">il</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists11ScopedCodes5codesE">
<span id="_CPPv3N5faiss13InvertedLists11ScopedCodes5codesE"></span><span id="_CPPv2N5faiss13InvertedLists11ScopedCodes5codesE"></span><span id="faiss::InvertedLists::ScopedCodes::codes__uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedCodes_1a926fbb54841811b8457ac7e2aa815735"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">codes</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists11ScopedCodes7list_noE">
<span id="_CPPv3N5faiss13InvertedLists11ScopedCodes7list_noE"></span><span id="_CPPv2N5faiss13InvertedLists11ScopedCodes7list_noE"></span><span id="faiss::InvertedLists::ScopedCodes::list_no__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedCodes_1a7f659101d92e5a7b02cdbc780aeb3fd8"></span>size_t <code class="sig-name descname">list_no</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss13InvertedLists9ScopedIdsE">
<span id="_CPPv3N5faiss13InvertedLists9ScopedIdsE"></span><span id="_CPPv2N5faiss13InvertedLists9ScopedIdsE"></span><span id="faiss::InvertedLists::ScopedIds"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedIds"></span><em class="property">struct </em><code class="sig-name descname">ScopedIds</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists9ScopedIds9ScopedIdsEPK13InvertedLists6size_t">
<span id="_CPPv3N5faiss13InvertedLists9ScopedIds9ScopedIdsEPK13InvertedLists6size_t"></span><span id="_CPPv2N5faiss13InvertedLists9ScopedIds9ScopedIdsEPK13InvertedLists6size_t"></span><span id="faiss::InvertedLists::ScopedIds::ScopedIds__InvertedListsCP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedIds_1a44bec3fb64ac74c91f63bb60361915c9"></span><code class="sig-name descname">ScopedIds</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, size_t <em>list_no</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists9ScopedIds3getEv">
<span id="_CPPv3N5faiss13InvertedLists9ScopedIds3getEv"></span><span id="_CPPv2N5faiss13InvertedLists9ScopedIds3getEv"></span><span id="faiss::InvertedLists::ScopedIds::get"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedIds_1a8d364e731f2789a8856f5463f50e64e6"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss13InvertedLists9ScopedIdsixE6size_t">
<span id="_CPPv3NK5faiss13InvertedLists9ScopedIdsixE6size_t"></span><span id="_CPPv2NK5faiss13InvertedLists9ScopedIdsixE6size_t"></span><span id="faiss::InvertedLists::ScopedIds::subscript-operator__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedIds_1a4773050fbb34aaabc0e2447626976ffa"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> <code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>size_t <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss13InvertedLists9ScopedIdsD0Ev">
<span id="_CPPv3N5faiss13InvertedLists9ScopedIdsD0Ev"></span><span id="_CPPv2N5faiss13InvertedLists9ScopedIdsD0Ev"></span><span id="faiss::InvertedLists::ScopedIds::~ScopedIds"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedIds_1ac4b3370c7075ef1b79a873588d3e44dc"></span><code class="sig-name descname">~ScopedIds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists9ScopedIds2ilE">
<span id="_CPPv3N5faiss13InvertedLists9ScopedIds2ilE"></span><span id="_CPPv2N5faiss13InvertedLists9ScopedIds2ilE"></span><span id="faiss::InvertedLists::ScopedIds::il__InvertedListsCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedIds_1a070479c3744f3e7ce2733c51f57c3412"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">il</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists9ScopedIds3idsE">
<span id="_CPPv3N5faiss13InvertedLists9ScopedIds3idsE"></span><span id="_CPPv2N5faiss13InvertedLists9ScopedIds3idsE"></span><span id="faiss::InvertedLists::ScopedIds::ids__idx_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedIds_1af6da06a0f3fa92945bce458853a82899"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedLists5idx_tE" title="faiss::InvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">ids</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13InvertedLists9ScopedIds7list_noE">
<span id="_CPPv3N5faiss13InvertedLists9ScopedIds7list_noE"></span><span id="_CPPv2N5faiss13InvertedLists9ScopedIds7list_noE"></span><span id="faiss::InvertedLists::ScopedIds::list_no__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1_1ScopedIds_1a66f75ce4c81aaa2fa38f8e3de647354e"></span>size_t <code class="sig-name descname">list_no</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19InvertedListScannerE">
<span id="_CPPv3N5faiss19InvertedListScannerE"></span><span id="_CPPv2N5faiss19InvertedListScannerE"></span><span id="faiss::InvertedListScanner"></span><span class="target" id="structfaiss_1_1InvertedListScanner"></span><em class="property">struct </em><code class="sig-name descname">InvertedListScanner</code><br /></dt>
<dd><em>#include &lt;IndexIVF.h&gt;</em><p>Object that handles a query. The inverted lists to scan are provided externally. The object has a lot of state, but distance_to_code and scan_codes can be called in multiple threads </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss19InvertedListScanner5idx_tE">
<span id="_CPPv3N5faiss19InvertedListScanner5idx_tE"></span><span id="_CPPv2N5faiss19InvertedListScanner5idx_tE"></span><span class="target" id="structfaiss_1_1InvertedListScanner_1a3839ad3afde506ac3cc7abdd69051759"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListScanner9set_queryEPKf">
<span id="_CPPv3N5faiss19InvertedListScanner9set_queryEPKf"></span><span id="_CPPv2N5faiss19InvertedListScanner9set_queryEPKf"></span><span id="faiss::InvertedListScanner::set_query__floatCP"></span><span class="target" id="structfaiss_1_1InvertedListScanner_1a97cab8fbf8203bdda6c42fc4b8f92319"></span>void <code class="sig-name descname">set_query</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>query_vector</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>from now on we handle this query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListScanner8set_listE5idx_tf">
<span id="_CPPv3N5faiss19InvertedListScanner8set_listE5idx_tf"></span><span id="_CPPv2N5faiss19InvertedListScanner8set_listE5idx_tf"></span><span id="faiss::InvertedListScanner::set_list__idx_t.float"></span><span class="target" id="structfaiss_1_1InvertedListScanner_1ae801ea7ba0086a05ace3b779c3acf305"></span>void <code class="sig-name descname">set_list</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScanner5idx_tE" title="faiss::InvertedListScanner::idx_t">idx_t</a> <em>list_no</em>, float <em>coarse_dis</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>following codes come from this inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19InvertedListScanner16distance_to_codeEPK7uint8_t">
<span id="_CPPv3NK5faiss19InvertedListScanner16distance_to_codeEPK7uint8_t"></span><span id="_CPPv2NK5faiss19InvertedListScanner16distance_to_codeEPK7uint8_t"></span><span id="faiss::InvertedListScanner::distance_to_code__uint8_tCPC"></span><span class="target" id="structfaiss_1_1InvertedListScanner_1ade9518f1b0ee00c2a43a2eb2ae350ae1"></span>float <code class="sig-name descname">distance_to_code</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>compute a single query-to-code distance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19InvertedListScanner10scan_codesE6size_tPK7uint8_tPK5idx_tPfP5idx_t6size_t">
<span id="_CPPv3NK5faiss19InvertedListScanner10scan_codesE6size_tPK7uint8_tPK5idx_tPfP5idx_t6size_t"></span><span id="_CPPv2NK5faiss19InvertedListScanner10scan_codesE6size_tPK7uint8_tPK5idx_tPfP5idx_t6size_t"></span><span id="faiss::InvertedListScanner::scan_codes__s.uint8_tCP.idx_tCP.floatP.idx_tP.sC"></span><span class="target" id="structfaiss_1_1InvertedListScanner_1a218aeaf7cc45bf0bf27c3a8bfa44e303"></span>size_t <code class="sig-name descname">scan_codes</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> uint8_t *<em>codes</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScanner5idx_tE" title="faiss::InvertedListScanner::idx_t">idx_t</a> *<em>ids</em>, float *<em>distances</em>, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScanner5idx_tE" title="faiss::InvertedListScanner::idx_t">idx_t</a> *<em>labels</em>, size_t <em>k</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>scan a set of codes, compute distances to current query and update heap of results if necessary.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>number of heap updates performed </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of codes to scan </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">codes</span></code>: codes to scan (n * code_size) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ids</span></code>: corresponding ids (ignored if store_pairs) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: heap distances (size k) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: heap labels (size k) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>: heap size </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19InvertedListScanner16scan_codes_rangeE6size_tPK7uint8_tPK5idx_tfR16RangeQueryResult">
<span id="_CPPv3NK5faiss19InvertedListScanner16scan_codes_rangeE6size_tPK7uint8_tPK5idx_tfR16RangeQueryResult"></span><span id="_CPPv2NK5faiss19InvertedListScanner16scan_codes_rangeE6size_tPK7uint8_tPK5idx_tfR16RangeQueryResult"></span><span id="faiss::InvertedListScanner::scan_codes_range__s.uint8_tCP.idx_tCP.float.RangeQueryResultRC"></span><span class="target" id="structfaiss_1_1InvertedListScanner_1a7c9489c951e682c72930b7a26b5418b2"></span>void <code class="sig-name descname">scan_codes_range</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> uint8_t *<em>codes</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19InvertedListScanner5idx_tE" title="faiss::InvertedListScanner::idx_t">idx_t</a> *<em>ids</em>, float <em>radius</em>, RangeQueryResult &amp;<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>scan a set of codes, compute distances to current query and update results if distances are below radius</p>
<p>(default implementation fails) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListScannerD0Ev">
<span id="_CPPv3N5faiss19InvertedListScannerD0Ev"></span><span id="_CPPv2N5faiss19InvertedListScannerD0Ev"></span><span id="faiss::InvertedListScanner::~InvertedListScanner"></span><span class="target" id="structfaiss_1_1InvertedListScanner_1aa660ce2637299466c486080f44fd9820"></span><code class="sig-name descname">~InvertedListScanner</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19InvertedListsIOHookE">
<span id="_CPPv3N5faiss19InvertedListsIOHookE"></span><span id="_CPPv2N5faiss19InvertedListsIOHookE"></span><span id="faiss::InvertedListsIOHook"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook"></span><em class="property">struct </em><code class="sig-name descname">InvertedListsIOHook</code><br /></dt>
<dd><em>#include &lt;InvertedListsIOHook.h&gt;</em><p>Callbacks to handle other types of InvertedList objects.</p>
<p>The callbacks should be registered with add_callback before calling read_index or read_InvertedLists. The callbacks for <a class="reference internal" href="../struct/structfaiss_1_1OnDiskInvertedLists.html#structfaiss_1_1OnDiskInvertedLists"><span class="std std-ref">OnDiskInvertedLists</span></a> are registrered by default. The invlist type is identified by:</p>
<p><ul class="simple">
<li><p>the key (a fourcc) at read time</p></li>
<li><p>the class name (as given by typeid.name) at write time </p></li>
</ul>
</p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedListsIOHook.html#structfaiss_1_1BlockInvertedListsIOHook"><span class="std std-ref">faiss::BlockInvertedListsIOHook</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1OnDiskInvertedListsIOHook.html#structfaiss_1_1OnDiskInvertedListsIOHook"><span class="std std-ref">faiss::OnDiskInvertedListsIOHook</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListsIOHook19InvertedListsIOHookERKNSt6stringERKNSt6stringE">
<span id="_CPPv3N5faiss19InvertedListsIOHook19InvertedListsIOHookERKNSt6stringERKNSt6stringE"></span><span id="_CPPv2N5faiss19InvertedListsIOHook19InvertedListsIOHookERKNSt6stringERKNSt6stringE"></span><span id="faiss::InvertedListsIOHook::InvertedListsIOHook__ssCR.ssCR"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a9a4ff7aedce48d77922904fb1a7b5a5a"></span><code class="sig-name descname">InvertedListsIOHook</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>key</em>, <em class="property">const</em> std::string &amp;<em>classname</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19InvertedListsIOHook5writeEPK13InvertedListsP8IOWriter">
<span id="_CPPv3NK5faiss19InvertedListsIOHook5writeEPK13InvertedListsP8IOWriter"></span><span id="_CPPv2NK5faiss19InvertedListsIOHook5writeEPK13InvertedListsP8IOWriter"></span><span id="faiss::InvertedListsIOHook::write__InvertedListsCP.IOWriterPC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a0334e4a98a6a2645e6ca9963295f3cf7"></span>void <code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>ils</em>, IOWriter *<em>f</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>write the index to the IOWriter (including the fourcc) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19InvertedListsIOHook4readEP8IOReaderi">
<span id="_CPPv3NK5faiss19InvertedListsIOHook4readEP8IOReaderi"></span><span id="_CPPv2NK5faiss19InvertedListsIOHook4readEP8IOReaderi"></span><span id="faiss::InvertedListsIOHook::read__IOReaderP.iC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a6a3164e33b638f4a9b0103bb19f5bd08"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">read</code><span class="sig-paren">(</span>IOReader *<em>f</em>, int <em>io_flags</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>called when the fourcc matches this classâs fourcc </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19InvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE">
<span id="_CPPv3NK5faiss19InvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE"></span><span id="_CPPv2NK5faiss19InvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE"></span><span id="faiss::InvertedListsIOHook::read_ArrayInvertedLists__IOReaderP.i.s.s.std::vector:s:CRC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1ae4fdbb6eff8075eddda3d3273a0ccd31"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">read_ArrayInvertedLists</code><span class="sig-paren">(</span>IOReader *<em>f</em>, int <em>io_flags</em>, size_t <em>nlist</em>, size_t <em>code_size</em>, <em class="property">const</em> std::vector&lt;size_t&gt; &amp;<em>sizes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>read from a <a class="reference internal" href="../struct/structfaiss_1_1ArrayInvertedLists.html#structfaiss_1_1ArrayInvertedLists"><span class="std std-ref">ArrayInvertedLists</span></a> into this invertedlist type. For this to work, the callback has to be enabled and the io_flag has to be set to IO_FLAG_SKIP_IVF_DATA | (16 upper bits of the fourcc)</p>
<p>(default implementation fails) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListsIOHookD0Ev">
<span id="_CPPv3N5faiss19InvertedListsIOHookD0Ev"></span><span id="_CPPv2N5faiss19InvertedListsIOHookD0Ev"></span><span id="faiss::InvertedListsIOHook::~InvertedListsIOHook"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a9c095acee228154c916db2844443f630"></span><code class="sig-name descname">~InvertedListsIOHook</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19InvertedListsIOHook3keyE">
<span id="_CPPv3N5faiss19InvertedListsIOHook3keyE"></span><span id="_CPPv2N5faiss19InvertedListsIOHook3keyE"></span><span id="faiss::InvertedListsIOHook::key__ssC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a81292158052e31c66fc0f175310113ae"></span><em class="property">const</em> std::string <code class="sig-name descname">key</code><br /></dt>
<dd><p>string version of the fourcc </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19InvertedListsIOHook9classnameE">
<span id="_CPPv3N5faiss19InvertedListsIOHook9classnameE"></span><span id="_CPPv2N5faiss19InvertedListsIOHook9classnameE"></span><span id="faiss::InvertedListsIOHook::classname__ssC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1aaf9a95368179893d044d1670a29a7a71"></span><em class="property">const</em> std::string <code class="sig-name descname">classname</code><br /></dt>
<dd><p>typeid.name </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListsIOHook12add_callbackEP19InvertedListsIOHook">
<span id="_CPPv3N5faiss19InvertedListsIOHook12add_callbackEP19InvertedListsIOHook"></span><span id="_CPPv2N5faiss19InvertedListsIOHook12add_callbackEP19InvertedListsIOHook"></span><span id="faiss::InvertedListsIOHook::add_callback__InvertedListsIOHookP"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a7852d13afc3e94745f6738c58858098c"></span>void <code class="sig-name descname">add_callback</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a>*<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListsIOHook15print_callbacksEv">
<span id="_CPPv3N5faiss19InvertedListsIOHook15print_callbacksEv"></span><span id="_CPPv2N5faiss19InvertedListsIOHook15print_callbacksEv"></span><span id="faiss::InvertedListsIOHook::print_callbacks"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a6f602d3d0f4f06eaf0ebe99e45d7c53b"></span>void <code class="sig-name descname">print_callbacks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListsIOHook6lookupEi">
<span id="_CPPv3N5faiss19InvertedListsIOHook6lookupEi"></span><span id="_CPPv2N5faiss19InvertedListsIOHook6lookupEi"></span><span id="faiss::InvertedListsIOHook::lookup__i"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1afea628376e67f00243952ae6e5aa2bc4"></span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a> *<code class="sig-name descname">lookup</code><span class="sig-paren">(</span>int <em>h</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19InvertedListsIOHook16lookup_classnameERKNSt6stringE">
<span id="_CPPv3N5faiss19InvertedListsIOHook16lookup_classnameERKNSt6stringE"></span><span id="_CPPv2N5faiss19InvertedListsIOHook16lookup_classnameERKNSt6stringE"></span><span id="faiss::InvertedListsIOHook::lookup_classname__ssCR"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a2f4b40119498c66604b04cac588340a6"></span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a> *<code class="sig-name descname">lookup_classname</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>classname</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss9ITQMatrixE">
<span id="_CPPv3N5faiss9ITQMatrixE"></span><span id="_CPPv2N5faiss9ITQMatrixE"></span><span id="faiss::ITQMatrix"></span><span class="target" id="structfaiss_1_1ITQMatrix"></span><em class="property">struct </em><code class="sig-name descname">ITQMatrix</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransformE" title="faiss::LinearTransform">LinearTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>ITQ implementation from</p>
<p>Iterative quantization: A procrustean approach to learning binary codes for large-scale image retrieval,</p>
<p>Yunchao Gong, Svetlana Lazebnik, Albert Gordo, Florent Perronnin, PAMIâ12. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss9ITQMatrix5idx_tE">
<span id="_CPPv3N5faiss9ITQMatrix5idx_tE"></span><span id="_CPPv2N5faiss9ITQMatrix5idx_tE"></span><span id="faiss::ITQMatrix::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss9ITQMatrix9ITQMatrixEi">
<span id="_CPPv3N5faiss9ITQMatrix9ITQMatrixEi"></span><span id="_CPPv2N5faiss9ITQMatrix9ITQMatrixEi"></span><span id="faiss::ITQMatrix::ITQMatrix__i"></span><span class="target" id="structfaiss_1_1ITQMatrix_1a32b1f714c2f82373aba3988e10dd1cc2"></span><code class="sig-name descname">ITQMatrix</code><span class="sig-paren">(</span>int <em>d</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9ITQMatrix5trainE5idx_tPKf">
<span id="_CPPv3N5faiss9ITQMatrix5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss9ITQMatrix5trainE5idx_tPKf"></span><span id="faiss::ITQMatrix::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1ITQMatrix_1abac7b3a00aa622c1590ea11f01abf073"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9ITQMatrix5idx_tE" title="faiss::ITQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors. Does nothing by default.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9ITQMatrix13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9ITQMatrix13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9ITQMatrix13apply_noallocE5idx_tPKfPf"></span><span id="faiss::ITQMatrix::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aefb0ae9416652e408a96604f18a78d7d"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9ITQMatrix5idx_tE" title="faiss::ITQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9ITQMatrix19transform_transposeE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9ITQMatrix19transform_transposeE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9ITQMatrix19transform_transposeE5idx_tPKfPf"></span><span id="faiss::ITQMatrix::transform_transpose__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1a29af2cf35a13b538eb327aa64b07e474"></span>void <code class="sig-name descname">transform_transpose</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9ITQMatrix5idx_tE" title="faiss::ITQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>y</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute x = A^T * (x - b) is reverse transform if A has orthonormal lines </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9ITQMatrix17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9ITQMatrix17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9ITQMatrix17reverse_transformE5idx_tPKfPf"></span><span id="faiss::ITQMatrix::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aabcea47432734c860fdf6fcc3a998563"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9ITQMatrix5idx_tE" title="faiss::ITQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>works only if is_orthonormal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9ITQMatrix18set_is_orthonormalEv">
<span id="_CPPv3N5faiss9ITQMatrix18set_is_orthonormalEv"></span><span id="_CPPv2N5faiss9ITQMatrix18set_is_orthonormalEv"></span><span id="faiss::ITQMatrix::set_is_orthonormal"></span><span class="target" id="structfaiss_1_1LinearTransform_1a1f75b8a58b9f452eb08fd8e54c134fe0"></span>void <code class="sig-name descname">set_is_orthonormal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>compute A^T * A to set the is_orthonormal flag </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9ITQMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii">
<span id="_CPPv3NK5faiss9ITQMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="_CPPv2NK5faiss9ITQMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="faiss::ITQMatrix::print_if_verbose__cCP.std::vector:double:CR.i.iC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aeca6faf0c5beb67a66b7a22182422bc5"></span>void <code class="sig-name descname">print_if_verbose</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>name</em>, <em class="property">const</em> std::vector&lt;double&gt; &amp;<em>mat</em>, int <em>n</em>, int <em>d</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9ITQMatrix5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss9ITQMatrix5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss9ITQMatrix5applyE5idx_tPKf"></span><span id="faiss::ITQMatrix::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9ITQMatrix5idx_tE" title="faiss::ITQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix8max_iterE">
<span id="_CPPv3N5faiss9ITQMatrix8max_iterE"></span><span id="_CPPv2N5faiss9ITQMatrix8max_iterE"></span><span id="faiss::ITQMatrix::max_iter__i"></span><span class="target" id="structfaiss_1_1ITQMatrix_1a31407547017869e82b462f462d29dac7"></span>int <code class="sig-name descname">max_iter</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix4seedE">
<span id="_CPPv3N5faiss9ITQMatrix4seedE"></span><span id="_CPPv2N5faiss9ITQMatrix4seedE"></span><span id="faiss::ITQMatrix::seed__i"></span><span class="target" id="structfaiss_1_1ITQMatrix_1aad8bf31090ef0414326e42286f164a3a"></span>int <code class="sig-name descname">seed</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix13init_rotationE">
<span id="_CPPv3N5faiss9ITQMatrix13init_rotationE"></span><span id="_CPPv2N5faiss9ITQMatrix13init_rotationE"></span><span id="faiss::ITQMatrix::init_rotation__std::vector:double:"></span><span class="target" id="structfaiss_1_1ITQMatrix_1a2460c1d755c391cb02a41be8328a97d4"></span>std::vector&lt;double&gt; <code class="sig-name descname">init_rotation</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix9have_biasE">
<span id="_CPPv3N5faiss9ITQMatrix9have_biasE"></span><span id="_CPPv2N5faiss9ITQMatrix9have_biasE"></span><span id="faiss::ITQMatrix::have_bias__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a322401ba80cb96ac1e7846401f2bef24"></span>bool <code class="sig-name descname">have_bias</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix14is_orthonormalE">
<span id="_CPPv3N5faiss9ITQMatrix14is_orthonormalE"></span><span id="_CPPv2N5faiss9ITQMatrix14is_orthonormalE"></span><span id="faiss::ITQMatrix::is_orthonormal__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a8a67a0178eab513cf87545f5d12d9569"></span>bool <code class="sig-name descname">is_orthonormal</code><br /></dt>
<dd><p>! whether to use the bias term </p>
<p>check if matrix A is orthonormal (enables reverse_transform) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix1AE">
<span id="_CPPv3N5faiss9ITQMatrix1AE"></span><span id="_CPPv2N5faiss9ITQMatrix1AE"></span><span id="faiss::ITQMatrix::A__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1aa40e156ef57fe206cd5f3a58ec0660da"></span>std::vector&lt;float&gt; <code class="sig-name descname">A</code><br /></dt>
<dd><p>Transformation matrix, size d_out * d_in. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix1bE">
<span id="_CPPv3N5faiss9ITQMatrix1bE"></span><span id="_CPPv2N5faiss9ITQMatrix1bE"></span><span id="faiss::ITQMatrix::b__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1ab0383f690aeb823876e9143febad1a87"></span>std::vector&lt;float&gt; <code class="sig-name descname">b</code><br /></dt>
<dd><p>bias vector, size d_out </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix7verboseE">
<span id="_CPPv3N5faiss9ITQMatrix7verboseE"></span><span id="_CPPv2N5faiss9ITQMatrix7verboseE"></span><span id="faiss::ITQMatrix::verbose__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1ae351ccd1155b71ac9d2fbd8d11b7082a"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix4d_inE">
<span id="_CPPv3N5faiss9ITQMatrix4d_inE"></span><span id="_CPPv2N5faiss9ITQMatrix4d_inE"></span><span id="faiss::ITQMatrix::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix5d_outE">
<span id="_CPPv3N5faiss9ITQMatrix5d_outE"></span><span id="_CPPv2N5faiss9ITQMatrix5d_outE"></span><span id="faiss::ITQMatrix::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9ITQMatrix10is_trainedE">
<span id="_CPPv3N5faiss9ITQMatrix10is_trainedE"></span><span id="_CPPv2N5faiss9ITQMatrix10is_trainedE"></span><span id="faiss::ITQMatrix::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss12ITQTransformE">
<span id="_CPPv3N5faiss12ITQTransformE"></span><span id="_CPPv2N5faiss12ITQTransformE"></span><span id="faiss::ITQTransform"></span><span class="target" id="structfaiss_1_1ITQTransform"></span><em class="property">struct </em><code class="sig-name descname">ITQTransform</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>The full ITQ transform, including normalizations and PCA transformation </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss12ITQTransform5idx_tE">
<span id="_CPPv3N5faiss12ITQTransform5idx_tE"></span><span id="_CPPv2N5faiss12ITQTransform5idx_tE"></span><span id="faiss::ITQTransform::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12ITQTransform12ITQTransformEiib">
<span id="_CPPv3N5faiss12ITQTransform12ITQTransformEiib"></span><span id="_CPPv2N5faiss12ITQTransform12ITQTransformEiib"></span><span id="faiss::ITQTransform::ITQTransform__i.i.b"></span><span class="target" id="structfaiss_1_1ITQTransform_1a7174b9210a98a0d9ef2dea1e85f23f2c"></span><code class="sig-name descname">ITQTransform</code><span class="sig-paren">(</span>int <em>d_in</em> = 0, int <em>d_out</em> = 0, bool <em>do_pca</em> = false<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12ITQTransform5trainE5idx_tPKf">
<span id="_CPPv3N5faiss12ITQTransform5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss12ITQTransform5trainE5idx_tPKf"></span><span id="faiss::ITQTransform::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1ITQTransform_1a836c8adc25326ade1a5998276648c736"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss12ITQTransform5idx_tE" title="faiss::ITQTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors. Does nothing by default.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12ITQTransform13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss12ITQTransform13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss12ITQTransform13apply_noallocE5idx_tPKfPf"></span><span id="faiss::ITQTransform::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1ITQTransform_1af9bbe5be9e3c3f3f2919a46cc931443a"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss12ITQTransform5idx_tE" title="faiss::ITQTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12ITQTransform5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss12ITQTransform5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss12ITQTransform5applyE5idx_tPKf"></span><span id="faiss::ITQTransform::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss12ITQTransform5idx_tE" title="faiss::ITQTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12ITQTransform17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss12ITQTransform17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss12ITQTransform17reverse_transformE5idx_tPKfPf"></span><span id="faiss::ITQTransform::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1a0913e3b521a6d34f523c291508e82adb"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss12ITQTransform5idx_tE" title="faiss::ITQTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>reverse transformation. May not be implemented or may return approximate result </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12ITQTransform4meanE">
<span id="_CPPv3N5faiss12ITQTransform4meanE"></span><span id="_CPPv2N5faiss12ITQTransform4meanE"></span><span id="faiss::ITQTransform::mean__std::vector:float:"></span><span class="target" id="structfaiss_1_1ITQTransform_1acae80716a573c8c5806d95a3889210a2"></span>std::vector&lt;float&gt; <code class="sig-name descname">mean</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12ITQTransform6do_pcaE">
<span id="_CPPv3N5faiss12ITQTransform6do_pcaE"></span><span id="_CPPv2N5faiss12ITQTransform6do_pcaE"></span><span id="faiss::ITQTransform::do_pca__b"></span><span class="target" id="structfaiss_1_1ITQTransform_1ad80da633f23d0a24f320e9253f29c087"></span>bool <code class="sig-name descname">do_pca</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12ITQTransform3itqE">
<span id="_CPPv3N5faiss12ITQTransform3itqE"></span><span id="_CPPv2N5faiss12ITQTransform3itqE"></span><span id="faiss::ITQTransform::itq__ITQMatrix"></span><span class="target" id="structfaiss_1_1ITQTransform_1acaa7b8335a1a55508777825fb7380f07"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9ITQMatrixE" title="faiss::ITQMatrix">ITQMatrix</a> <code class="sig-name descname">itq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12ITQTransform17max_train_per_dimE">
<span id="_CPPv3N5faiss12ITQTransform17max_train_per_dimE"></span><span id="_CPPv2N5faiss12ITQTransform17max_train_per_dimE"></span><span id="faiss::ITQTransform::max_train_per_dim__i"></span><span class="target" id="structfaiss_1_1ITQTransform_1a3ddcff467c157575e7df14754efa84e8"></span>int <code class="sig-name descname">max_train_per_dim</code><br /></dt>
<dd><p>max training points per dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12ITQTransform12pca_then_itqE">
<span id="_CPPv3N5faiss12ITQTransform12pca_then_itqE"></span><span id="_CPPv2N5faiss12ITQTransform12pca_then_itqE"></span><span id="faiss::ITQTransform::pca_then_itq__LinearTransform"></span><span class="target" id="structfaiss_1_1ITQTransform_1ac5414fa0d38ac7d2b2948801eb491b5e"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransformE" title="faiss::LinearTransform">LinearTransform</a> <code class="sig-name descname">pca_then_itq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12ITQTransform4d_inE">
<span id="_CPPv3N5faiss12ITQTransform4d_inE"></span><span id="_CPPv2N5faiss12ITQTransform4d_inE"></span><span id="faiss::ITQTransform::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12ITQTransform5d_outE">
<span id="_CPPv3N5faiss12ITQTransform5d_outE"></span><span id="_CPPv2N5faiss12ITQTransform5d_outE"></span><span id="faiss::ITQTransform::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12ITQTransform10is_trainedE">
<span id="_CPPv3N5faiss12ITQTransform10is_trainedE"></span><span id="_CPPv2N5faiss12ITQTransform10is_trainedE"></span><span id="faiss::ITQTransform::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss16IVFFastScanStatsE">
<span id="_CPPv3N5faiss16IVFFastScanStatsE"></span><span id="_CPPv2N5faiss16IVFFastScanStatsE"></span><span id="faiss::IVFFastScanStats"></span><span class="target" id="structfaiss_1_1IVFFastScanStats"></span><em class="property">struct </em><code class="sig-name descname">IVFFastScanStats</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss16IVFFastScanStats6Mcy_atEi">
<span id="_CPPv3N5faiss16IVFFastScanStats6Mcy_atEi"></span><span id="_CPPv2N5faiss16IVFFastScanStats6Mcy_atEi"></span><span id="faiss::IVFFastScanStats::Mcy_at__i"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1aa449244dbdd545cb866cd12d79d327bf"></span>double <code class="sig-name descname">Mcy_at</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16IVFFastScanStats16Mcy_reservoir_atEi">
<span id="_CPPv3N5faiss16IVFFastScanStats16Mcy_reservoir_atEi"></span><span id="_CPPv2N5faiss16IVFFastScanStats16Mcy_reservoir_atEi"></span><span id="faiss::IVFFastScanStats::Mcy_reservoir_at__i"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1af1f78937fffb55fa708672078f9f312b"></span>double <code class="sig-name descname">Mcy_reservoir_at</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16IVFFastScanStats16IVFFastScanStatsEv">
<span id="_CPPv3N5faiss16IVFFastScanStats16IVFFastScanStatsEv"></span><span id="_CPPv2N5faiss16IVFFastScanStats16IVFFastScanStatsEv"></span><span id="faiss::IVFFastScanStats::IVFFastScanStats"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1aceba128b4aa57aa577f85f023cd0f608"></span><code class="sig-name descname">IVFFastScanStats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss16IVFFastScanStats5resetEv">
<span id="_CPPv3N5faiss16IVFFastScanStats5resetEv"></span><span id="_CPPv2N5faiss16IVFFastScanStats5resetEv"></span><span id="faiss::IVFFastScanStats::reset"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1a4cd8fa5b51a2b63352f841eff21b3a31"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss16IVFFastScanStats5timesE">
<span id="_CPPv3N5faiss16IVFFastScanStats5timesE"></span><span id="_CPPv2N5faiss16IVFFastScanStats5timesE"></span><span id="faiss::IVFFastScanStats::times__uint64_tA"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1ad836bf4a3d230269269f8508056beb32"></span>uint64_t <code class="sig-name descname">times</code>[10]<br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss16IVFFastScanStats25t_compute_distance_tablesE">
<span id="_CPPv3N5faiss16IVFFastScanStats25t_compute_distance_tablesE"></span><span id="_CPPv2N5faiss16IVFFastScanStats25t_compute_distance_tablesE"></span><span id="faiss::IVFFastScanStats::t_compute_distance_tables__uint64_t"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1a9d39112444d37f487bec3f892ca1f55f"></span>uint64_t <code class="sig-name descname">t_compute_distance_tables</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss16IVFFastScanStats7t_roundE">
<span id="_CPPv3N5faiss16IVFFastScanStats7t_roundE"></span><span id="_CPPv2N5faiss16IVFFastScanStats7t_roundE"></span><span id="faiss::IVFFastScanStats::t_round__uint64_t"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1ae4ed380865724edf53048f581acb4194"></span>uint64_t <code class="sig-name descname">t_round</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss16IVFFastScanStats11t_copy_packE">
<span id="_CPPv3N5faiss16IVFFastScanStats11t_copy_packE"></span><span id="_CPPv2N5faiss16IVFFastScanStats11t_copy_packE"></span><span id="faiss::IVFFastScanStats::t_copy_pack__uint64_t"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1a975e309d109e74e72425b747589bf849"></span>uint64_t <code class="sig-name descname">t_copy_pack</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss16IVFFastScanStats6t_scanE">
<span id="_CPPv3N5faiss16IVFFastScanStats6t_scanE"></span><span id="_CPPv2N5faiss16IVFFastScanStats6t_scanE"></span><span id="faiss::IVFFastScanStats::t_scan__uint64_t"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1ab6454280cc0b8ffadab84cf8ebfaaee9"></span>uint64_t <code class="sig-name descname">t_scan</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss16IVFFastScanStats9t_to_flatE">
<span id="_CPPv3N5faiss16IVFFastScanStats9t_to_flatE"></span><span id="_CPPv2N5faiss16IVFFastScanStats9t_to_flatE"></span><span id="faiss::IVFFastScanStats::t_to_flat__uint64_t"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1af9736b08c22019b6307afcb7f5be2265"></span>uint64_t <code class="sig-name descname">t_to_flat</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss16IVFFastScanStats15reservoir_timesE">
<span id="_CPPv3N5faiss16IVFFastScanStats15reservoir_timesE"></span><span id="_CPPv2N5faiss16IVFFastScanStats15reservoir_timesE"></span><span id="faiss::IVFFastScanStats::reservoir_times__uint64_tA"></span><span class="target" id="structfaiss_1_1IVFFastScanStats_1ac3abe10f727e28d1f3a9fcb73a61185f"></span>uint64_t <code class="sig-name descname">reservoir_times</code>[4]<br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss21IVFPQSearchParametersE">
<span id="_CPPv3N5faiss21IVFPQSearchParametersE"></span><span id="_CPPv2N5faiss21IVFPQSearchParametersE"></span><span id="faiss::IVFPQSearchParameters"></span><span class="target" id="structfaiss_1_1IVFPQSearchParameters"></span><em class="property">struct </em><code class="sig-name descname">IVFPQSearchParameters</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss21IVFPQSearchParameters21IVFPQSearchParametersEv">
<span id="_CPPv3N5faiss21IVFPQSearchParameters21IVFPQSearchParametersEv"></span><span id="_CPPv2N5faiss21IVFPQSearchParameters21IVFPQSearchParametersEv"></span><span id="faiss::IVFPQSearchParameters::IVFPQSearchParameters"></span><span class="target" id="structfaiss_1_1IVFPQSearchParameters_1abb58e8a6e58752abee118760b48e7d7e"></span><code class="sig-name descname">IVFPQSearchParameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21IVFPQSearchParametersD0Ev">
<span id="_CPPv3N5faiss21IVFPQSearchParametersD0Ev"></span><span id="_CPPv2N5faiss21IVFPQSearchParametersD0Ev"></span><span id="faiss::IVFPQSearchParameters::~IVFPQSearchParameters"></span><span class="target" id="structfaiss_1_1IVFPQSearchParameters_1a233675559ed182bd59490cad0641ca8e"></span><code class="sig-name descname">~IVFPQSearchParameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss21IVFPQSearchParameters20scan_table_thresholdE">
<span id="_CPPv3N5faiss21IVFPQSearchParameters20scan_table_thresholdE"></span><span id="_CPPv2N5faiss21IVFPQSearchParameters20scan_table_thresholdE"></span><span id="faiss::IVFPQSearchParameters::scan_table_threshold__s"></span><span class="target" id="structfaiss_1_1IVFPQSearchParameters_1a5537033b0fe6cf3ef8334a16de7a47d5"></span>size_t <code class="sig-name descname">scan_table_threshold</code><br /></dt>
<dd><p>use table computation or on-the-fly? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IVFPQSearchParameters13polysemous_htE">
<span id="_CPPv3N5faiss21IVFPQSearchParameters13polysemous_htE"></span><span id="_CPPv2N5faiss21IVFPQSearchParameters13polysemous_htE"></span><span id="faiss::IVFPQSearchParameters::polysemous_ht__i"></span><span class="target" id="structfaiss_1_1IVFPQSearchParameters_1a66ff24d0f4fd606488ded44354a8a6cf"></span>int <code class="sig-name descname">polysemous_ht</code><br /></dt>
<dd><p>Hamming thresh for polysemous filtering. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IVFPQSearchParameters6nprobeE">
<span id="_CPPv3N5faiss21IVFPQSearchParameters6nprobeE"></span><span id="_CPPv2N5faiss21IVFPQSearchParameters6nprobeE"></span><span id="faiss::IVFPQSearchParameters::nprobe__s"></span><span class="target" id="structfaiss_1_1IVFSearchParameters_1a1183c0b7d9ffd5154b32765175f2a9cc"></span>size_t <code class="sig-name descname">nprobe</code><a class="headerlink" href="#_CPPv4N5faiss21IVFPQSearchParameters6nprobeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21IVFPQSearchParameters9max_codesE">
<span id="_CPPv3N5faiss21IVFPQSearchParameters9max_codesE"></span><span id="_CPPv2N5faiss21IVFPQSearchParameters9max_codesE"></span><span id="faiss::IVFPQSearchParameters::max_codes__s"></span><span class="target" id="structfaiss_1_1IVFSearchParameters_1ac3e01728f6376ad727340525b2138782"></span>size_t <code class="sig-name descname">max_codes</code><a class="headerlink" href="#_CPPv4N5faiss21IVFPQSearchParameters9max_codesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19IVFSearchParametersE">
<span id="_CPPv3N5faiss19IVFSearchParametersE"></span><span id="_CPPv2N5faiss19IVFSearchParametersE"></span><span id="faiss::IVFSearchParameters"></span><span class="target" id="structfaiss_1_1IVFSearchParameters"></span><em class="property">struct </em><code class="sig-name descname">IVFSearchParameters</code><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IVFPQSearchParameters.html#structfaiss_1_1IVFPQSearchParameters"><span class="std std-ref">faiss::IVFPQSearchParameters</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19IVFSearchParameters19IVFSearchParametersEv">
<span id="_CPPv3N5faiss19IVFSearchParameters19IVFSearchParametersEv"></span><span id="_CPPv2N5faiss19IVFSearchParameters19IVFSearchParametersEv"></span><span id="faiss::IVFSearchParameters::IVFSearchParameters"></span><span class="target" id="structfaiss_1_1IVFSearchParameters_1a176fda7175cf94806caac1e553e151e3"></span><code class="sig-name descname">IVFSearchParameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19IVFSearchParametersD0Ev">
<span id="_CPPv3N5faiss19IVFSearchParametersD0Ev"></span><span id="_CPPv2N5faiss19IVFSearchParametersD0Ev"></span><span id="faiss::IVFSearchParameters::~IVFSearchParameters"></span><span class="target" id="structfaiss_1_1IVFSearchParameters_1a06b15b5593c71acc1e03c35fba7520ce"></span><code class="sig-name descname">~IVFSearchParameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19IVFSearchParameters6nprobeE">
<span id="_CPPv3N5faiss19IVFSearchParameters6nprobeE"></span><span id="_CPPv2N5faiss19IVFSearchParameters6nprobeE"></span><span id="faiss::IVFSearchParameters::nprobe__s"></span><span class="target" id="structfaiss_1_1IVFSearchParameters_1a1183c0b7d9ffd5154b32765175f2a9cc"></span>size_t <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>number of probes at query time </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19IVFSearchParameters9max_codesE">
<span id="_CPPv3N5faiss19IVFSearchParameters9max_codesE"></span><span id="_CPPv2N5faiss19IVFSearchParameters9max_codesE"></span><span id="faiss::IVFSearchParameters::max_codes__s"></span><span class="target" id="structfaiss_1_1IVFSearchParameters_1ac3e01728f6376ad727340525b2138782"></span>size_t <code class="sig-name descname">max_codes</code><br /></dt>
<dd><p>max nb of codes to visit to do a query </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15Level1QuantizerE">
<span id="_CPPv3N5faiss15Level1QuantizerE"></span><span id="_CPPv2N5faiss15Level1QuantizerE"></span><span id="faiss::Level1Quantizer"></span><span class="target" id="structfaiss_1_1Level1Quantizer"></span><em class="property">struct </em><code class="sig-name descname">Level1Quantizer</code><br /></dt>
<dd><em>#include &lt;IndexIVF.h&gt;</em><p>Encapsulates a quantizer object for the <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a></p>
<p>The class isolates the fields that are independent of the storage of the lists (especially training) </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">faiss::IndexIVF</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15Level1Quantizer8train_q1E6size_tPKfb10MetricType">
<span id="_CPPv3N5faiss15Level1Quantizer8train_q1E6size_tPKfb10MetricType"></span><span id="_CPPv2N5faiss15Level1Quantizer8train_q1E6size_tPKfb10MetricType"></span><span id="faiss::Level1Quantizer::train_q1__s.floatCP.b.MetricType"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a0069a6ee1e32c2e0c1c7df9a95740dd4"></span>void <code class="sig-name descname">train_q1</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em>, bool <em>verbose</em>, <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric_type</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Trains the quantizer and calls train_residual to train sub-quantizers. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15Level1Quantizer16coarse_code_sizeEv">
<span id="_CPPv3NK5faiss15Level1Quantizer16coarse_code_sizeEv"></span><span id="_CPPv2NK5faiss15Level1Quantizer16coarse_code_sizeEv"></span><span id="faiss::Level1Quantizer::coarse_code_sizeC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a28fb5379de2f35f1b86ae5019ec4128f"></span>size_t <code class="sig-name descname">coarse_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute the number of bytes required to store list ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15Level1Quantizer13encode_listnoEN5Index5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss15Level1Quantizer13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss15Level1Quantizer13encode_listnoEN5Index5idx_tEP7uint8_t"></span><span id="faiss::Level1Quantizer::encode_listno__Index::idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a8d36d811aaf11daeae2a3f580747c5b2"></span>void <code class="sig-name descname">encode_listno</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>list_no</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15Level1Quantizer13decode_listnoEPK7uint8_t">
<span id="_CPPv3NK5faiss15Level1Quantizer13decode_listnoEPK7uint8_t"></span><span id="_CPPv2NK5faiss15Level1Quantizer13decode_listnoEPK7uint8_t"></span><span id="faiss::Level1Quantizer::decode_listno__uint8_tCPC"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a64f28832f84e8559f9b76ccd3a3046d3"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">decode_listno</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15Level1Quantizer15Level1QuantizerEP5Index6size_t">
<span id="_CPPv3N5faiss15Level1Quantizer15Level1QuantizerEP5Index6size_t"></span><span id="_CPPv2N5faiss15Level1Quantizer15Level1QuantizerEP5Index6size_t"></span><span id="faiss::Level1Quantizer::Level1Quantizer__IndexP.s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a7262e1eb542b177308dab0c043e90d01"></span><code class="sig-name descname">Level1Quantizer</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>quantizer</em>, size_t <em>nlist</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15Level1Quantizer15Level1QuantizerEv">
<span id="_CPPv3N5faiss15Level1Quantizer15Level1QuantizerEv"></span><span id="_CPPv2N5faiss15Level1Quantizer15Level1QuantizerEv"></span><span id="faiss::Level1Quantizer::Level1Quantizer"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a7623b6432ff9faee737ebe36b415fa18"></span><code class="sig-name descname">Level1Quantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15Level1QuantizerD0Ev">
<span id="_CPPv3N5faiss15Level1QuantizerD0Ev"></span><span id="_CPPv2N5faiss15Level1QuantizerD0Ev"></span><span id="faiss::Level1Quantizer::~Level1Quantizer"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab0d7fc7420f306522923a96feddae7ca"></span><code class="sig-name descname">~Level1Quantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15Level1Quantizer9quantizerE">
<span id="_CPPv3N5faiss15Level1Quantizer9quantizerE"></span><span id="_CPPv2N5faiss15Level1Quantizer9quantizerE"></span><span id="faiss::Level1Quantizer::quantizer__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a3cf99e2ee92b8558a066f821efab95d5"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>quantizer that maps vectors to inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15Level1Quantizer5nlistE">
<span id="_CPPv3N5faiss15Level1Quantizer5nlistE"></span><span id="_CPPv2N5faiss15Level1Quantizer5nlistE"></span><span id="faiss::Level1Quantizer::nlist__s"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1c4fc9d874d9492ee0ea27a5be388fa7"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15Level1Quantizer22quantizer_trains_aloneE">
<span id="_CPPv3N5faiss15Level1Quantizer22quantizer_trains_aloneE"></span><span id="_CPPv2N5faiss15Level1Quantizer22quantizer_trains_aloneE"></span><span id="faiss::Level1Quantizer::quantizer_trains_alone__c"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a1dcea762fc322fdcffe64f78994edea0"></span>char <code class="sig-name descname">quantizer_trains_alone</code><br /></dt>
<dd><p>= 0: use the quantizer as index in a kmeans training = 1: just pass on the training set to the train() of the quantizer = 2: kmeans training on a flat index + add the centroids to the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15Level1Quantizer10own_fieldsE">
<span id="_CPPv3N5faiss15Level1Quantizer10own_fieldsE"></span><span id="_CPPv2N5faiss15Level1Quantizer10own_fieldsE"></span><span id="faiss::Level1Quantizer::own_fields__b"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1ab688c629cd42122d73517078b87f483d"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd><p>whether object owns the quantizer </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15Level1Quantizer2cpE">
<span id="_CPPv3N5faiss15Level1Quantizer2cpE"></span><span id="_CPPv2N5faiss15Level1Quantizer2cpE"></span><span id="faiss::Level1Quantizer::cp__ClusteringParameters"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1abb7097ed40b15ba0af08af6d03608f72"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>to override default clustering params </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15Level1Quantizer16clustering_indexE">
<span id="_CPPv3N5faiss15Level1Quantizer16clustering_indexE"></span><span id="_CPPv2N5faiss15Level1Quantizer16clustering_indexE"></span><span id="faiss::Level1Quantizer::clustering_index__IndexP"></span><span class="target" id="structfaiss_1_1Level1Quantizer_1a45d29dd6a5c53789c08e5ceb3f63d989"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clustering_index</code><br /></dt>
<dd><p>to override index used during clustering </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15LinearTransformE">
<span id="_CPPv3N5faiss15LinearTransformE"></span><span id="_CPPv2N5faiss15LinearTransformE"></span><span id="faiss::LinearTransform"></span><span class="target" id="structfaiss_1_1LinearTransform"></span><em class="property">struct </em><code class="sig-name descname">LinearTransform</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>Generic linear transformation, with bias term applied on output y = A * x + b </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1ITQMatrix.html#structfaiss_1_1ITQMatrix"><span class="std std-ref">faiss::ITQMatrix</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1OPQMatrix.html#structfaiss_1_1OPQMatrix"><span class="std std-ref">faiss::OPQMatrix</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1PCAMatrix.html#structfaiss_1_1PCAMatrix"><span class="std std-ref">faiss::PCAMatrix</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1RandomRotationMatrix.html#structfaiss_1_1RandomRotationMatrix"><span class="std std-ref">faiss::RandomRotationMatrix</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss15LinearTransform5idx_tE">
<span id="_CPPv3N5faiss15LinearTransform5idx_tE"></span><span id="_CPPv2N5faiss15LinearTransform5idx_tE"></span><span id="faiss::LinearTransform::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15LinearTransform15LinearTransformEiib">
<span id="_CPPv3N5faiss15LinearTransform15LinearTransformEiib"></span><span id="_CPPv2N5faiss15LinearTransform15LinearTransformEiib"></span><span id="faiss::LinearTransform::LinearTransform__i.i.b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a7bf766de1abac428d18b8817208fcab0"></span><code class="sig-name descname">LinearTransform</code><span class="sig-paren">(</span>int <em>d_in</em> = 0, int <em>d_out</em> = 0, bool <em>have_bias</em> = false<span class="sig-paren">)</span><br /></dt>
<dd><p>both d_in &gt; d_out and d_out &lt; d_in are supported </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15LinearTransform13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss15LinearTransform13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss15LinearTransform13apply_noallocE5idx_tPKfPf"></span><span id="faiss::LinearTransform::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aefb0ae9416652e408a96604f18a78d7d"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransform5idx_tE" title="faiss::LinearTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15LinearTransform19transform_transposeE5idx_tPKfPf">
<span id="_CPPv3NK5faiss15LinearTransform19transform_transposeE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss15LinearTransform19transform_transposeE5idx_tPKfPf"></span><span id="faiss::LinearTransform::transform_transpose__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1a29af2cf35a13b538eb327aa64b07e474"></span>void <code class="sig-name descname">transform_transpose</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransform5idx_tE" title="faiss::LinearTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>y</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute x = A^T * (x - b) is reverse transform if A has orthonormal lines </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15LinearTransform17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss15LinearTransform17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss15LinearTransform17reverse_transformE5idx_tPKfPf"></span><span id="faiss::LinearTransform::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aabcea47432734c860fdf6fcc3a998563"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransform5idx_tE" title="faiss::LinearTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>works only if is_orthonormal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15LinearTransform18set_is_orthonormalEv">
<span id="_CPPv3N5faiss15LinearTransform18set_is_orthonormalEv"></span><span id="_CPPv2N5faiss15LinearTransform18set_is_orthonormalEv"></span><span id="faiss::LinearTransform::set_is_orthonormal"></span><span class="target" id="structfaiss_1_1LinearTransform_1a1f75b8a58b9f452eb08fd8e54c134fe0"></span>void <code class="sig-name descname">set_is_orthonormal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>compute A^T * A to set the is_orthonormal flag </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15LinearTransform16print_if_verboseEPKcRKNSt6vectorIdEEii">
<span id="_CPPv3NK5faiss15LinearTransform16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="_CPPv2NK5faiss15LinearTransform16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="faiss::LinearTransform::print_if_verbose__cCP.std::vector:double:CR.i.iC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aeca6faf0c5beb67a66b7a22182422bc5"></span>void <code class="sig-name descname">print_if_verbose</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>name</em>, <em class="property">const</em> std::vector&lt;double&gt; &amp;<em>mat</em>, int <em>n</em>, int <em>d</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15LinearTransformD0Ev">
<span id="_CPPv3N5faiss15LinearTransformD0Ev"></span><span id="_CPPv2N5faiss15LinearTransformD0Ev"></span><span id="faiss::LinearTransform::~LinearTransform"></span><span class="target" id="structfaiss_1_1LinearTransform_1a87a85f77d0b49d85f8d2d181b7835a04"></span><code class="sig-name descname">~LinearTransform</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15LinearTransform5trainE5idx_tPKf">
<span id="_CPPv3N5faiss15LinearTransform5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss15LinearTransform5trainE5idx_tPKf"></span><span id="faiss::LinearTransform::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab781e04a6c8afe04689b3fc64be512d5"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransform5idx_tE" title="faiss::LinearTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors. Does nothing by default.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15LinearTransform5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss15LinearTransform5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss15LinearTransform5applyE5idx_tPKf"></span><span id="faiss::LinearTransform::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransform5idx_tE" title="faiss::LinearTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15LinearTransform9have_biasE">
<span id="_CPPv3N5faiss15LinearTransform9have_biasE"></span><span id="_CPPv2N5faiss15LinearTransform9have_biasE"></span><span id="faiss::LinearTransform::have_bias__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a322401ba80cb96ac1e7846401f2bef24"></span>bool <code class="sig-name descname">have_bias</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15LinearTransform14is_orthonormalE">
<span id="_CPPv3N5faiss15LinearTransform14is_orthonormalE"></span><span id="_CPPv2N5faiss15LinearTransform14is_orthonormalE"></span><span id="faiss::LinearTransform::is_orthonormal__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a8a67a0178eab513cf87545f5d12d9569"></span>bool <code class="sig-name descname">is_orthonormal</code><br /></dt>
<dd><p>! whether to use the bias term </p>
<p>check if matrix A is orthonormal (enables reverse_transform) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15LinearTransform1AE">
<span id="_CPPv3N5faiss15LinearTransform1AE"></span><span id="_CPPv2N5faiss15LinearTransform1AE"></span><span id="faiss::LinearTransform::A__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1aa40e156ef57fe206cd5f3a58ec0660da"></span>std::vector&lt;float&gt; <code class="sig-name descname">A</code><br /></dt>
<dd><p>Transformation matrix, size d_out * d_in. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15LinearTransform1bE">
<span id="_CPPv3N5faiss15LinearTransform1bE"></span><span id="_CPPv2N5faiss15LinearTransform1bE"></span><span id="faiss::LinearTransform::b__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1ab0383f690aeb823876e9143febad1a87"></span>std::vector&lt;float&gt; <code class="sig-name descname">b</code><br /></dt>
<dd><p>bias vector, size d_out </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15LinearTransform7verboseE">
<span id="_CPPv3N5faiss15LinearTransform7verboseE"></span><span id="_CPPv2N5faiss15LinearTransform7verboseE"></span><span id="faiss::LinearTransform::verbose__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1ae351ccd1155b71ac9d2fbd8d11b7082a"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15LinearTransform4d_inE">
<span id="_CPPv3N5faiss15LinearTransform4d_inE"></span><span id="_CPPv2N5faiss15LinearTransform4d_inE"></span><span id="faiss::LinearTransform::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15LinearTransform5d_outE">
<span id="_CPPv3N5faiss15LinearTransform5d_outE"></span><span id="_CPPv2N5faiss15LinearTransform5d_outE"></span><span id="faiss::LinearTransform::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15LinearTransform10is_trainedE">
<span id="_CPPv3N5faiss15LinearTransform10is_trainedE"></span><span id="_CPPv2N5faiss15LinearTransform10is_trainedE"></span><span id="faiss::LinearTransform::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19MaskedInvertedListsE">
<span id="_CPPv3N5faiss19MaskedInvertedListsE"></span><span id="_CPPv2N5faiss19MaskedInvertedListsE"></span><span id="faiss::MaskedInvertedLists"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">MaskedInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedListsE" title="faiss::ReadOnlyInvertedLists">ReadOnlyInvertedLists</a><br /></dt>
<dd><em>#include &lt;InvertedLists.h&gt;</em><p>use the first inverted lists if they are non-empty otherwise use the second</p>
<p>This is useful if il1 has a few inverted lists that are too long, and that il0 has replacement lists for those, with empty lists for the others. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss19MaskedInvertedLists5idx_tE">
<span id="_CPPv3N5faiss19MaskedInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss19MaskedInvertedLists5idx_tE"></span><span id="faiss::MaskedInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19MaskedInvertedLists19MaskedInvertedListsEPK13InvertedListsPK13InvertedLists">
<span id="_CPPv3N5faiss19MaskedInvertedLists19MaskedInvertedListsEPK13InvertedListsPK13InvertedLists"></span><span id="_CPPv2N5faiss19MaskedInvertedLists19MaskedInvertedListsEPK13InvertedListsPK13InvertedLists"></span><span id="faiss::MaskedInvertedLists::MaskedInvertedLists__InvertedListsCP.InvertedListsCP"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1a5652627d0f311598a76c5f9ceea461c1"></span><code class="sig-name descname">MaskedInvertedLists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il0</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il1</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss19MaskedInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists9list_sizeE6size_t"></span><span id="faiss::MaskedInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1a5c400887da892a68ce47eff56e30dffc"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss19MaskedInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists9get_codesE6size_t"></span><span id="faiss::MaskedInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1aaee0fe78a47957d1397302877714bafd"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss19MaskedInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists7get_idsE6size_t"></span><span id="faiss::MaskedInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1aa877bb829e7dfdd0a8fe80e1a3484955"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19MaskedInvertedLists5idx_tE" title="faiss::MaskedInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss19MaskedInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::MaskedInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1a64e66ef4c7dc387091f533cc61d88273"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss19MaskedInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::MaskedInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1a86c8d8c022c79c32b3f776f2ad4f3b1e"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19MaskedInvertedLists5idx_tE" title="faiss::MaskedInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss19MaskedInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::MaskedInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1af0d9f7b61caef91e30124b0f7a9d44b9"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19MaskedInvertedLists5idx_tE" title="faiss::MaskedInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss19MaskedInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::MaskedInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1a53f2748924f85f77e24b9309fdecfba2"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss19MaskedInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::MaskedInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1a5fbd34b4052c314148c44f14b4d3c2d3"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19MaskedInvertedLists5idx_tE" title="faiss::MaskedInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MaskedInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19MaskedInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19MaskedInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::MaskedInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a0734538244d8c5969e3e23e38faf1c0c"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19MaskedInvertedLists5idx_tE" title="faiss::MaskedInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MaskedInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19MaskedInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19MaskedInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::MaskedInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a33c3a5174bcf6709dcefec8bdc4b9a52"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19MaskedInvertedLists5idx_tE" title="faiss::MaskedInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MaskedInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss19MaskedInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss19MaskedInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::MaskedInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a7b65c76388ba2fbc17a7060f6cf87039"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MaskedInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19MaskedInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19MaskedInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::MaskedInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19MaskedInvertedLists5idx_tE" title="faiss::MaskedInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MaskedInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19MaskedInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19MaskedInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::MaskedInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19MaskedInvertedLists5idx_tE" title="faiss::MaskedInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MaskedInvertedLists5resetEv">
<span id="_CPPv3N5faiss19MaskedInvertedLists5resetEv"></span><span id="_CPPv2N5faiss19MaskedInvertedLists5resetEv"></span><span id="faiss::MaskedInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MaskedInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss19MaskedInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss19MaskedInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::MaskedInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss19MaskedInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists16imbalance_factorEv"></span><span id="faiss::MaskedInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss19MaskedInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists11print_statsEv"></span><span id="faiss::MaskedInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MaskedInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss19MaskedInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss19MaskedInvertedLists14compute_ntotalEv"></span><span id="faiss::MaskedInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19MaskedInvertedLists3il0E">
<span id="_CPPv3N5faiss19MaskedInvertedLists3il0E"></span><span id="_CPPv2N5faiss19MaskedInvertedLists3il0E"></span><span id="faiss::MaskedInvertedLists::il0__InvertedListsCP"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1a7937835c69804149d23d532364e344ae"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">il0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MaskedInvertedLists3il1E">
<span id="_CPPv3N5faiss19MaskedInvertedLists3il1E"></span><span id="_CPPv2N5faiss19MaskedInvertedLists3il1E"></span><span id="faiss::MaskedInvertedLists::il1__InvertedListsCP"></span><span class="target" id="structfaiss_1_1MaskedInvertedLists_1a22ff765ca2af7d001da3dbcc1605a4e2"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">il1</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MaskedInvertedLists5nlistE">
<span id="_CPPv3N5faiss19MaskedInvertedLists5nlistE"></span><span id="_CPPv2N5faiss19MaskedInvertedLists5nlistE"></span><span id="faiss::MaskedInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MaskedInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss19MaskedInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss19MaskedInvertedLists9code_sizeE"></span><span id="faiss::MaskedInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19MaskedInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss19MaskedInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss19MaskedInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::MaskedInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11MatrixStatsE">
<span id="_CPPv3N5faiss11MatrixStatsE"></span><span id="_CPPv2N5faiss11MatrixStatsE"></span><span id="faiss::MatrixStats"></span><span class="target" id="structfaiss_1_1MatrixStats"></span><em class="property">struct </em><code class="sig-name descname">MatrixStats</code><br /></dt>
<dd><em>#include &lt;MatrixStats.h&gt;</em><p>Reports some statistics on a dataset and comments on them.</p>
<p>It is a class rather than a function so that all stats can also be accessed from code </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11MatrixStats11MatrixStatsE6size_t6size_tPKf">
<span id="_CPPv3N5faiss11MatrixStats11MatrixStatsE6size_t6size_tPKf"></span><span id="_CPPv2N5faiss11MatrixStats11MatrixStatsE6size_t6size_tPKf"></span><span id="faiss::MatrixStats::MatrixStats__s.s.floatCP"></span><span class="target" id="structfaiss_1_1MatrixStats_1add5a53b274bce4decd3de1a91eeb1036"></span><code class="sig-name descname">MatrixStats</code><span class="sig-paren">(</span>size_t <em>n</em>, size_t <em>d</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11MatrixStats10do_commentEPKcz">
<span id="_CPPv3N5faiss11MatrixStats10do_commentEPKcz"></span><span id="_CPPv2N5faiss11MatrixStats10do_commentEPKcz"></span><span id="faiss::MatrixStats::do_comment__cCP.z"></span><span class="target" id="structfaiss_1_1MatrixStats_1af3bd3fcc97e8752995e986da026adb46"></span>void <code class="sig-name descname">do_comment</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fmt</em>, ...<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats8commentsE">
<span id="_CPPv3N5faiss11MatrixStats8commentsE"></span><span id="_CPPv2N5faiss11MatrixStats8commentsE"></span><span id="faiss::MatrixStats::comments__ss"></span><span class="target" id="structfaiss_1_1MatrixStats_1a4c8fa1b0c904e48d18ddc3a0a3c40dea"></span>std::string <code class="sig-name descname">comments</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats1nE">
<span id="_CPPv3N5faiss11MatrixStats1nE"></span><span id="_CPPv2N5faiss11MatrixStats1nE"></span><span id="faiss::MatrixStats::n__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1aedb6ba91543e124fbfef68bc5ced5e02"></span>size_t <code class="sig-name descname">n</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats1dE">
<span id="_CPPv3N5faiss11MatrixStats1dE"></span><span id="_CPPv2N5faiss11MatrixStats1dE"></span><span id="faiss::MatrixStats::d__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1a204212670e82a7ad92de1018af72da7e"></span>size_t <code class="sig-name descname">d</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11n_collisionE">
<span id="_CPPv3N5faiss11MatrixStats11n_collisionE"></span><span id="_CPPv2N5faiss11MatrixStats11n_collisionE"></span><span id="faiss::MatrixStats::n_collision__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1a3a5ef65b99fef1bf1249e51925e4dd98"></span>size_t <code class="sig-name descname">n_collision</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats7n_validE">
<span id="_CPPv3N5faiss11MatrixStats7n_validE"></span><span id="_CPPv2N5faiss11MatrixStats7n_validE"></span><span id="faiss::MatrixStats::n_valid__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1a4d1496f745ed63ce4742319d0aa722c6"></span>size_t <code class="sig-name descname">n_valid</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats2n0E">
<span id="_CPPv3N5faiss11MatrixStats2n0E"></span><span id="_CPPv2N5faiss11MatrixStats2n0E"></span><span id="faiss::MatrixStats::n0__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1a494ebb8acad6fc220fe80f8fd37f939e"></span>size_t <code class="sig-name descname">n0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats9min_norm2E">
<span id="_CPPv3N5faiss11MatrixStats9min_norm2E"></span><span id="_CPPv2N5faiss11MatrixStats9min_norm2E"></span><span id="faiss::MatrixStats::min_norm2__double"></span><span class="target" id="structfaiss_1_1MatrixStats_1af5c803ddc5c517af17711fde8538eb3a"></span>double <code class="sig-name descname">min_norm2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats9max_norm2E">
<span id="_CPPv3N5faiss11MatrixStats9max_norm2E"></span><span id="_CPPv2N5faiss11MatrixStats9max_norm2E"></span><span id="faiss::MatrixStats::max_norm2__double"></span><span class="target" id="structfaiss_1_1MatrixStats_1ad6486a75bcbaf34af5312adac36f7252"></span>double <code class="sig-name descname">max_norm2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats13per_dim_statsE">
<span id="_CPPv3N5faiss11MatrixStats13per_dim_statsE"></span><span id="_CPPv2N5faiss11MatrixStats13per_dim_statsE"></span><span id="faiss::MatrixStats::per_dim_stats__std::vector:PerDimStats:"></span><span class="target" id="structfaiss_1_1MatrixStats_1a00f2d2a3ea1ed81ff4a36b5cbdbe218b"></span>std::vector&lt;<a class="reference internal" href="../file/MatrixStats_8h.html#_CPPv4N5faiss11MatrixStats11PerDimStatsE" title="faiss::MatrixStats::PerDimStats">PerDimStats</a>&gt; <code class="sig-name descname">per_dim_stats</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11occurrencesE">
<span id="_CPPv3N5faiss11MatrixStats11occurrencesE"></span><span id="_CPPv2N5faiss11MatrixStats11occurrencesE"></span><span id="faiss::MatrixStats::occurrences__std::unordered_map:uint64_t.Occurrence:"></span><span class="target" id="structfaiss_1_1MatrixStats_1ae072d04f76165117f77bec53aa24fd1a"></span>std::unordered_map&lt;uint64_t, <a class="reference internal" href="../file/MatrixStats_8h.html#_CPPv4N5faiss11MatrixStats10OccurrenceE" title="faiss::MatrixStats::Occurrence">Occurrence</a>&gt; <code class="sig-name descname">occurrences</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats3bufE">
<span id="_CPPv3N5faiss11MatrixStats3bufE"></span><span id="_CPPv2N5faiss11MatrixStats3bufE"></span><span id="faiss::MatrixStats::buf__cP"></span><span class="target" id="structfaiss_1_1MatrixStats_1a29fd8accddea0e4ba5773c7a4353292b"></span>char *<code class="sig-name descname">buf</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats4nbufE">
<span id="_CPPv3N5faiss11MatrixStats4nbufE"></span><span id="_CPPv2N5faiss11MatrixStats4nbufE"></span><span id="faiss::MatrixStats::nbuf__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1af44cf226b2ba9ecb3182d8ecae61d019"></span>size_t <code class="sig-name descname">nbuf</code><br /></dt>
<dd></dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss11MatrixStats10OccurrenceE">
<span id="_CPPv3N5faiss11MatrixStats10OccurrenceE"></span><span id="_CPPv2N5faiss11MatrixStats10OccurrenceE"></span><span id="faiss::MatrixStats::Occurrence"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1Occurrence"></span><em class="property">struct </em><code class="sig-name descname">Occurrence</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats10Occurrence5firstE">
<span id="_CPPv3N5faiss11MatrixStats10Occurrence5firstE"></span><span id="_CPPv2N5faiss11MatrixStats10Occurrence5firstE"></span><span id="faiss::MatrixStats::Occurrence::first__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1Occurrence_1a676322945bc00b01f75e5e979e87174c"></span>size_t <code class="sig-name descname">first</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats10Occurrence5countE">
<span id="_CPPv3N5faiss11MatrixStats10Occurrence5countE"></span><span id="_CPPv2N5faiss11MatrixStats10Occurrence5countE"></span><span id="faiss::MatrixStats::Occurrence::count__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1Occurrence_1ad447aa2e5b2d087de3c1ff9dd6d2b442"></span>size_t <code class="sig-name descname">count</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStatsE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStatsE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStatsE"></span><span id="faiss::MatrixStats::PerDimStats"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats"></span><em class="property">struct </em><code class="sig-name descname">PerDimStats</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats11PerDimStatsEv">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats11PerDimStatsEv"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats11PerDimStatsEv"></span><span id="faiss::MatrixStats::PerDimStats::PerDimStats"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a0974f23063edde22b5934008196b9c5b"></span><code class="sig-name descname">PerDimStats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats3addEf">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats3addEf"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats3addEf"></span><span id="faiss::MatrixStats::PerDimStats::add__float"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1aa375fcebcf96dd460552e8a415d1d1b2"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span>float <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats16compute_mean_stdEv">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats16compute_mean_stdEv"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats16compute_mean_stdEv"></span><span id="faiss::MatrixStats::PerDimStats::compute_mean_std"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1ab2b27edb089cbe1d2faca98cc82d2aa0"></span>void <code class="sig-name descname">compute_mean_std</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats1nE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats1nE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats1nE"></span><span id="faiss::MatrixStats::PerDimStats::n__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a868f5f042ce9f8c1d9cbb18884ad7603"></span>size_t <code class="sig-name descname">n</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats5n_nanE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats5n_nanE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats5n_nanE"></span><span id="faiss::MatrixStats::PerDimStats::n_nan__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1aeb2a2627c4b81e44016fba44ebf43560"></span>size_t <code class="sig-name descname">n_nan</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats5n_infE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats5n_infE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats5n_infE"></span><span id="faiss::MatrixStats::PerDimStats::n_inf__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a798961b570c2906e0ecdd9e1932ce1fe"></span>size_t <code class="sig-name descname">n_inf</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats2n0E">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats2n0E"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats2n0E"></span><span id="faiss::MatrixStats::PerDimStats::n0__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a2b7a2d8232f3fa3c09833d8cd6962fe1"></span>size_t <code class="sig-name descname">n0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats3minE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats3minE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats3minE"></span><span id="faiss::MatrixStats::PerDimStats::min__float"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1afbbef55ed677db21add1f0847dd2427c"></span>float <code class="sig-name descname">min</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats3maxE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats3maxE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats3maxE"></span><span id="faiss::MatrixStats::PerDimStats::max__float"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a055fdde358a6159f4eca99cb6801415b"></span>float <code class="sig-name descname">max</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats3sumE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats3sumE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats3sumE"></span><span id="faiss::MatrixStats::PerDimStats::sum__double"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1af7b66d8bee2301bf0e48b755e29f7145"></span>double <code class="sig-name descname">sum</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats4sum2E">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats4sum2E"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats4sum2E"></span><span id="faiss::MatrixStats::PerDimStats::sum2__double"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a12f17876bcb0df55cd191001b1f569d3"></span>double <code class="sig-name descname">sum2</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats7n_validE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats7n_validE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats7n_validE"></span><span id="faiss::MatrixStats::PerDimStats::n_valid__s"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a12c78f5ef7c6ffd2287f1184a03a88fe"></span>size_t <code class="sig-name descname">n_valid</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats4meanE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats4meanE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats4meanE"></span><span id="faiss::MatrixStats::PerDimStats::mean__double"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a78d220cd08414efb1fb31c5181472a57"></span>double <code class="sig-name descname">mean</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11MatrixStats11PerDimStats6stddevE">
<span id="_CPPv3N5faiss11MatrixStats11PerDimStats6stddevE"></span><span id="_CPPv2N5faiss11MatrixStats11PerDimStats6stddevE"></span><span id="faiss::MatrixStats::PerDimStats::stddev__double"></span><span class="target" id="structfaiss_1_1MatrixStats_1_1PerDimStats_1a4a8222891e00c0a34cf8c415d85b3034"></span>double <code class="sig-name descname">stddev</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19MultiIndexQuantizerE">
<span id="_CPPv3N5faiss19MultiIndexQuantizerE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizerE"></span><span id="faiss::MultiIndexQuantizer"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer"></span><em class="property">struct </em><code class="sig-name descname">MultiIndexQuantizer</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><em>#include &lt;IndexPQ.h&gt;</em><p>Quantizer where centroids are virtual: they are the Cartesian product of sub-centroids. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1MultiIndexQuantizer2"><span class="std std-ref">faiss::MultiIndexQuantizer2</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer5idx_tE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer5idx_tE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer11component_tE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer11component_tE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer11component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer10distance_tE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer10distance_tE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer10distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer19MultiIndexQuantizerEi6size_t6size_t">
<span id="_CPPv3N5faiss19MultiIndexQuantizer19MultiIndexQuantizerEi6size_t6size_t"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer19MultiIndexQuantizerEi6size_t6size_t"></span><span id="faiss::MultiIndexQuantizer::MultiIndexQuantizer__i.s.s"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1a01a568055ebc1e841f7e4218722efa01"></span><code class="sig-name descname">MultiIndexQuantizer</code><span class="sig-paren">(</span>int <em>d</em>, size_t <em>M</em>, size_t <em>nbits</em><span class="sig-paren">)</span><br /></dt>
<dd><p>number of bit per subvector index </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: dimension of the input vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: number of subquantizers </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer5trainE5idx_tPKf">
<span id="_CPPv3N5faiss19MultiIndexQuantizer5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer5trainE5idx_tPKf"></span><span id="faiss::MultiIndexQuantizer::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1a6fa1d1a295eb2d4377b8de5096ab3ef4"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer6searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::MultiIndexQuantizer::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1a999ee03f4e65f453377e209d10e25681"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer3addE5idx_tPKf">
<span id="_CPPv3N5faiss19MultiIndexQuantizer3addE5idx_tPKf"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer3addE5idx_tPKf"></span><span id="faiss::MultiIndexQuantizer::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1aa72640bcbe2e5d9029954c2fa6633453"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>add and reset will crash at runtime </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer5resetEv">
<span id="_CPPv3N5faiss19MultiIndexQuantizer5resetEv"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer5resetEv"></span><span id="faiss::MultiIndexQuantizer::reset"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1a4808ce22fcc95c7af902b97969f2a90d"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer19MultiIndexQuantizerEv">
<span id="_CPPv3N5faiss19MultiIndexQuantizer19MultiIndexQuantizerEv"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer19MultiIndexQuantizerEv"></span><span id="faiss::MultiIndexQuantizer::MultiIndexQuantizer"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1a264dcdabc0e57a137c8a7a4b368ba405"></span><code class="sig-name descname">MultiIndexQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer11reconstructE5idx_tPf"></span><span id="faiss::MultiIndexQuantizer::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1aa5bd578560419955a4bf7035cf09a392"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer12add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss19MultiIndexQuantizer12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer12add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::MultiIndexQuantizer::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer12add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::MultiIndexQuantizer::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer12range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer6assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer6assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::MultiIndexQuantizer::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer6assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss19MultiIndexQuantizer10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer10remove_idsERK10IDSelector"></span><span id="faiss::MultiIndexQuantizer::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer10remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::MultiIndexQuantizer::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer13reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::MultiIndexQuantizer::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer16compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer16compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer16compute_residualEPKfPf5idx_t"></span><span id="faiss::MultiIndexQuantizer::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer16compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::MultiIndexQuantizer::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer18compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer21get_distance_computerEv">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer21get_distance_computerEv"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer21get_distance_computerEv"></span><span id="faiss::MultiIndexQuantizer::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer21get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer12sa_code_sizeEv">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer12sa_code_sizeEv"></span><span id="faiss::MultiIndexQuantizer::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer12sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::MultiIndexQuantizer::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer9sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19MultiIndexQuantizer9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss19MultiIndexQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss19MultiIndexQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::MultiIndexQuantizer::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19MultiIndexQuantizer9sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer2pqE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer2pqE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer2pqE"></span><span id="faiss::MultiIndexQuantizer::pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1a8ddb6030d00d326268b3a8ded2f83dac"></span>ProductQuantizer <code class="sig-name descname">pq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer1dE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer1dE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer1dE"></span><span id="faiss::MultiIndexQuantizer::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer1dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer6ntotalE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer6ntotalE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer6ntotalE"></span><span id="faiss::MultiIndexQuantizer::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss19MultiIndexQuantizer5idx_tE" title="faiss::MultiIndexQuantizer::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer6ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer7verboseE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer7verboseE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer7verboseE"></span><span id="faiss::MultiIndexQuantizer::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer10is_trainedE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer10is_trainedE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer10is_trainedE"></span><span id="faiss::MultiIndexQuantizer::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer10is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer11metric_typeE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer11metric_typeE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer11metric_typeE"></span><span id="faiss::MultiIndexQuantizer::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer11metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19MultiIndexQuantizer10metric_argE">
<span id="_CPPv3N5faiss19MultiIndexQuantizer10metric_argE"></span><span id="_CPPv2N5faiss19MultiIndexQuantizer10metric_argE"></span><span id="faiss::MultiIndexQuantizer::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss19MultiIndexQuantizer10metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer2E">
<span id="_CPPv3N5faiss20MultiIndexQuantizer2E"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer2E"></span><span id="faiss::MultiIndexQuantizer2"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer2"></span><em class="property">struct </em><code class="sig-name descname">MultiIndexQuantizer2</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexPQ_8h.html#_CPPv4N5faiss19MultiIndexQuantizerE" title="faiss::MultiIndexQuantizer">MultiIndexQuantizer</a><br /></dt>
<dd><em>#include &lt;IndexPQ.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer.html#structfaiss_1_1MultiIndexQuantizer"><span class="std std-ref">MultiIndexQuantizer</span></a> where the PQ assignmnet is performed by sub-indexes </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer25idx_tE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer25idx_tE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer25idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer211component_tE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer211component_tE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer211component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer211component_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer210distance_tE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer210distance_tE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer210distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer210distance_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer220MultiIndexQuantizer2Ei6size_t6size_tPP5Index">
<span id="_CPPv3N5faiss20MultiIndexQuantizer220MultiIndexQuantizer2Ei6size_t6size_tPP5Index"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer220MultiIndexQuantizer2Ei6size_t6size_tPP5Index"></span><span id="faiss::MultiIndexQuantizer2::MultiIndexQuantizer2__i.s.s.IndexPP"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer2_1a8c780f592bb7fcf58dc81045babc576e"></span><code class="sig-name descname">MultiIndexQuantizer2</code><span class="sig-paren">(</span>int <em>d</em>, size_t <em>M</em>, size_t <em>nbits</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> **<em>indexes</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer220MultiIndexQuantizer2Ei6size_tP5IndexP5Index">
<span id="_CPPv3N5faiss20MultiIndexQuantizer220MultiIndexQuantizer2Ei6size_tP5IndexP5Index"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer220MultiIndexQuantizer2Ei6size_tP5IndexP5Index"></span><span id="faiss::MultiIndexQuantizer2::MultiIndexQuantizer2__i.s.IndexP.IndexP"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer2_1a0d4ce8d3c0658643e60b9e468a65ddcb"></span><code class="sig-name descname">MultiIndexQuantizer2</code><span class="sig-paren">(</span>int <em>d</em>, size_t <em>nbits</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>assign_index_0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>assign_index_1</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer25trainE5idx_tPKf">
<span id="_CPPv3N5faiss20MultiIndexQuantizer25trainE5idx_tPKf"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer25trainE5idx_tPKf"></span><span id="faiss::MultiIndexQuantizer2::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer2_1a553b9a33e9be7f231ffdc0ac53c59e7c"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer26searchE5idx_tPKf5idx_tPfP5idx_t">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer26searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer26searchE5idx_tPKf5idx_tPfP5idx_t"></span><span id="faiss::MultiIndexQuantizer2::search__idx_t.floatCP.idx_t.floatP.idx_tPC"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer2_1adff25d40c18f5d7a65d359d1cd80ea29"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer23addE5idx_tPKf">
<span id="_CPPv3N5faiss20MultiIndexQuantizer23addE5idx_tPKf"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer23addE5idx_tPKf"></span><span id="faiss::MultiIndexQuantizer2::add__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1aa72640bcbe2e5d9029954c2fa6633453"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>add and reset will crash at runtime </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer25resetEv">
<span id="_CPPv3N5faiss20MultiIndexQuantizer25resetEv"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer25resetEv"></span><span id="faiss::MultiIndexQuantizer2::reset"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1a4808ce22fcc95c7af902b97969f2a90d"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer211reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer211reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer211reconstructE5idx_tPf"></span><span id="faiss::MultiIndexQuantizer2::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1aa5bd578560419955a4bf7035cf09a392"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer212add_with_idsE5idx_tPKfPK5idx_t">
<span id="_CPPv3N5faiss20MultiIndexQuantizer212add_with_idsE5idx_tPKfPK5idx_t"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer212add_with_idsE5idx_tPKfPK5idx_t"></span><span id="faiss::MultiIndexQuantizer2::add_with_ids__idx_t.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1Index_1a13b30ab195baded94b6db98d8e111ed7"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer212add_with_idsE5idx_tPKfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer212range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer212range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer212range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::MultiIndexQuantizer2::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer212range_searchE5idx_tPKffP17RangeSearchResult" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer26assignE5idx_tPKfP5idx_t5idx_t">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer26assignE5idx_tPKfP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer26assignE5idx_tPKfP5idx_t5idx_t"></span><span id="faiss::MultiIndexQuantizer2::assign__idx_t.floatCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a010ae05c4ba70d309f9821d9b03182aa"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer26assignE5idx_tPKfP5idx_t5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical as search but only return labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer210remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss20MultiIndexQuantizer210remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer210remove_idsERK10IDSelector"></span><span id="faiss::MultiIndexQuantizer2::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer210remove_idsERK10IDSelector" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer213reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer213reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer213reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::MultiIndexQuantizer2::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer213reconstruct_nE5idx_t5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::MultiIndexQuantizer2::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer216compute_residualEPKfPf5idx_t">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer216compute_residualEPKfPf5idx_t"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer216compute_residualEPKfPf5idx_t"></span><span id="faiss::MultiIndexQuantizer2::compute_residual__floatCP.floatP.idx_tC"></span><span class="target" id="structfaiss_1_1Index_1a1f12e2118b37a511f51d63e1aa9c0c20"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer216compute_residualEPKfPf5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residual</span></code>: output residual vector, size d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer218compute_residual_nE5idx_tPKfPfPK5idx_t">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer218compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer218compute_residual_nE5idx_tPKfPfPK5idx_t"></span><span id="faiss::MultiIndexQuantizer2::compute_residual_n__idx_t.floatCP.floatP.idx_tCPC"></span><span class="target" id="structfaiss_1_1Index_1aff98fbf8e7dadf9ff528a031c53a43fa"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer218compute_residual_nE5idx_tPKfPfPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Computes a residual vector after indexing encoding (batch form). Equivalent to calling compute_residual for each vector.</p>
<p>The residual vector is the difference between a vector and the reconstruction that can be decoded from its representation in the index. The residual can be used for multiple-stage indexing methods, like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs methods.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xs</span></code>: input vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">residuals</span></code>: output residual vectors, size (n x d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keys</span></code>: encoded index, as returned by search and assign </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer221get_distance_computerEv">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer221get_distance_computerEv"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer221get_distance_computerEv"></span><span id="faiss::MultiIndexQuantizer2::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer221get_distance_computerEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer212sa_code_sizeEv">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer212sa_code_sizeEv"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer212sa_code_sizeEv"></span><span id="faiss::MultiIndexQuantizer2::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer212sa_code_sizeEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer29sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer29sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer29sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::MultiIndexQuantizer2::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer29sa_encodeE5idx_tPKfP7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20MultiIndexQuantizer29sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss20MultiIndexQuantizer29sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss20MultiIndexQuantizer29sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::MultiIndexQuantizer2::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss20MultiIndexQuantizer29sa_decodeE5idx_tPK7uint8_tPf" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer214assign_indexesE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer214assign_indexesE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer214assign_indexesE"></span><span id="faiss::MultiIndexQuantizer2::assign_indexes__std::vector:IndexP:"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer2_1a7e5f4079fdca73aeab239d3c85c100da"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>*&gt; <code class="sig-name descname">assign_indexes</code><br /></dt>
<dd><p>M Indexes on d / M dimensions. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer210own_fieldsE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer210own_fieldsE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer210own_fieldsE"></span><span id="faiss::MultiIndexQuantizer2::own_fields__b"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer2_1a21b6a78845f3423b556676bf970af24f"></span>bool <code class="sig-name descname">own_fields</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer22pqE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer22pqE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer22pqE"></span><span id="faiss::MultiIndexQuantizer2::pq__ProductQuantizer"></span><span class="target" id="structfaiss_1_1MultiIndexQuantizer_1a8ddb6030d00d326268b3a8ded2f83dac"></span>ProductQuantizer <code class="sig-name descname">pq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer21dE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer21dE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer21dE"></span><span id="faiss::MultiIndexQuantizer2::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer21dE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer26ntotalE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer26ntotalE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer26ntotalE"></span><span id="faiss::MultiIndexQuantizer2::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="#_CPPv4N5faiss20MultiIndexQuantizer25idx_tE" title="faiss::MultiIndexQuantizer2::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer26ntotalE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer27verboseE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer27verboseE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer27verboseE"></span><span id="faiss::MultiIndexQuantizer2::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer27verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer210is_trainedE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer210is_trainedE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer210is_trainedE"></span><span id="faiss::MultiIndexQuantizer2::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer210is_trainedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer211metric_typeE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer211metric_typeE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer211metric_typeE"></span><span id="faiss::MultiIndexQuantizer2::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer211metric_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20MultiIndexQuantizer210metric_argE">
<span id="_CPPv3N5faiss20MultiIndexQuantizer210metric_argE"></span><span id="_CPPv2N5faiss20MultiIndexQuantizer210metric_argE"></span><span id="faiss::MultiIndexQuantizer2::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><a class="headerlink" href="#_CPPv4N5faiss20MultiIndexQuantizer210metric_argE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss22NormalizationTransformE">
<span id="_CPPv3N5faiss22NormalizationTransformE"></span><span id="_CPPv2N5faiss22NormalizationTransformE"></span><span id="faiss::NormalizationTransform"></span><span class="target" id="structfaiss_1_1NormalizationTransform"></span><em class="property">struct </em><code class="sig-name descname">NormalizationTransform</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>per-vector normalization </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss22NormalizationTransform5idx_tE">
<span id="_CPPv3N5faiss22NormalizationTransform5idx_tE"></span><span id="_CPPv2N5faiss22NormalizationTransform5idx_tE"></span><span id="faiss::NormalizationTransform::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss22NormalizationTransform22NormalizationTransformEif">
<span id="_CPPv3N5faiss22NormalizationTransform22NormalizationTransformEif"></span><span id="_CPPv2N5faiss22NormalizationTransform22NormalizationTransformEif"></span><span id="faiss::NormalizationTransform::NormalizationTransform__i.float"></span><span class="target" id="structfaiss_1_1NormalizationTransform_1a8f51546dbc1303d0872e762e3e2f350c"></span><code class="sig-name descname">NormalizationTransform</code><span class="sig-paren">(</span>int <em>d</em>, float <em>norm</em> = 2.0<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22NormalizationTransform22NormalizationTransformEv">
<span id="_CPPv3N5faiss22NormalizationTransform22NormalizationTransformEv"></span><span id="_CPPv2N5faiss22NormalizationTransform22NormalizationTransformEv"></span><span id="faiss::NormalizationTransform::NormalizationTransform"></span><span class="target" id="structfaiss_1_1NormalizationTransform_1a0b81cf1bcc8fd322b54c25b8e1d67a37"></span><code class="sig-name descname">NormalizationTransform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22NormalizationTransform13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss22NormalizationTransform13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss22NormalizationTransform13apply_noallocE5idx_tPKfPf"></span><span id="faiss::NormalizationTransform::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1NormalizationTransform_1a282007331f7f6d96792c89fe1f9ecefd"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss22NormalizationTransform5idx_tE" title="faiss::NormalizationTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22NormalizationTransform17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss22NormalizationTransform17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss22NormalizationTransform17reverse_transformE5idx_tPKfPf"></span><span id="faiss::NormalizationTransform::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1NormalizationTransform_1af280b21563b819ebb292a6f63d011ad1"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss22NormalizationTransform5idx_tE" title="faiss::NormalizationTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Identity transform since norm is not revertible. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22NormalizationTransform5trainE5idx_tPKf">
<span id="_CPPv3N5faiss22NormalizationTransform5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss22NormalizationTransform5trainE5idx_tPKf"></span><span id="faiss::NormalizationTransform::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab781e04a6c8afe04689b3fc64be512d5"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss22NormalizationTransform5idx_tE" title="faiss::NormalizationTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors. Does nothing by default.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22NormalizationTransform5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss22NormalizationTransform5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss22NormalizationTransform5applyE5idx_tPKf"></span><span id="faiss::NormalizationTransform::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss22NormalizationTransform5idx_tE" title="faiss::NormalizationTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss22NormalizationTransform4normE">
<span id="_CPPv3N5faiss22NormalizationTransform4normE"></span><span id="_CPPv2N5faiss22NormalizationTransform4normE"></span><span id="faiss::NormalizationTransform::norm__float"></span><span class="target" id="structfaiss_1_1NormalizationTransform_1ab79b9cb8dc4cf3a597cab563043568b9"></span>float <code class="sig-name descname">norm</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss22NormalizationTransform4d_inE">
<span id="_CPPv3N5faiss22NormalizationTransform4d_inE"></span><span id="_CPPv2N5faiss22NormalizationTransform4d_inE"></span><span id="faiss::NormalizationTransform::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss22NormalizationTransform5d_outE">
<span id="_CPPv3N5faiss22NormalizationTransform5d_outE"></span><span id="_CPPv2N5faiss22NormalizationTransform5d_outE"></span><span id="faiss::NormalizationTransform::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss22NormalizationTransform10is_trainedE">
<span id="_CPPv3N5faiss22NormalizationTransform10is_trainedE"></span><span id="_CPPv2N5faiss22NormalizationTransform10is_trainedE"></span><span id="faiss::NormalizationTransform::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19OnDiskInvertedListsE">
<span id="_CPPv3N5faiss19OnDiskInvertedListsE"></span><span id="_CPPv2N5faiss19OnDiskInvertedListsE"></span><span id="faiss::OnDiskInvertedLists"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">OnDiskInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a><br /></dt>
<dd><em>#include &lt;OnDiskInvertedLists.h&gt;</em><p>On-disk storage of inverted lists.</p>
<p>The data is stored in a mmapped chunk of memory (base ptointer ptr, size totsize). Each list is a range of memory that contains (object List) that contains:</p>
<p><ul class="simple">
<li><p>uint8_t codes[capacity * code_size]</p></li>
<li><p>followed by idx_t ids[capacity]</p></li>
</ul>
</p>
<p>in each of the arrays, the size &lt;= capacity first elements are used, the rest is not initialized.</p>
<p>Addition and resize are supported by:<ul class="simple">
<li><p>roundind up the capacity of the lists to a power of two</p></li>
<li><p>maintaining a list of empty slots, sorted by size.</p></li>
<li><p>resizing the mmapped block is adjusted as needed.</p></li>
</ul>
</p>
<p>An <a class="reference internal" href="../struct/structfaiss_1_1OnDiskInvertedLists.html#structfaiss_1_1OnDiskInvertedLists"><span class="std std-ref">OnDiskInvertedLists</span></a> is compact if the size == capacity for all lists and there are no available slots.</p>
<p>Addition to the invlists is slow. For incremental add it is better to use a default <a class="reference internal" href="../struct/structfaiss_1_1ArrayInvertedLists.html#structfaiss_1_1ArrayInvertedLists"><span class="std std-ref">ArrayInvertedLists</span></a> object and convert it to an OnDisk with merge_from.</p>
<p>When it is known that a set of lists will be accessed, it is useful to call prefetch_lists, that launches a set of threads to read the lists in parallel. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists4ListE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists4ListE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists4ListE"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1ab0bdb727091e04f877db89e733aeab7c"></span><em class="property">using </em><code class="sig-name descname">List</code> = <a class="reference internal" href="../file/OnDiskInvertedLists_8h.html#_CPPv4N5faiss13OnDiskOneListE" title="faiss::OnDiskOneList">OnDiskOneList</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists5idx_tE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists5idx_tE"></span><span id="faiss::OnDiskInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><a class="headerlink" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists19OnDiskInvertedListsE6size_t6size_tPKc">
<span id="_CPPv3N5faiss19OnDiskInvertedLists19OnDiskInvertedListsE6size_t6size_tPKc"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists19OnDiskInvertedListsE6size_t6size_tPKc"></span><span id="faiss::OnDiskInvertedLists::OnDiskInvertedLists__s.s.cCP"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1acce006c1c63aee12d45c7f7dbeb8bb23"></span><code class="sig-name descname">OnDiskInvertedLists</code><span class="sig-paren">(</span>size_t <em>nlist</em>, size_t <em>code_size</em>, <em class="property">const</em> char *<em>filename</em><span class="sig-paren">)</span><br /></dt>
<dd><p>are inverted lists mapped read-only </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists9list_sizeE6size_t"></span><span id="faiss::OnDiskInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a19b264dfe5a541c1427d3b635ad887f5"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists9get_codesE6size_t"></span><span id="faiss::OnDiskInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a0fd755d5a0a55e9b9bf36f4ad32b2290"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists7get_idsE6size_t"></span><span id="faiss::OnDiskInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a6849bca243f4b90d04bd3ee089b3a73e"></span><em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="faiss::OnDiskInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::OnDiskInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a762cfcc06fe60dbaa807ce72723531a9"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="faiss::OnDiskInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::OnDiskInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a4d64d34d7ce9b242bb840c218fc3059c"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="faiss::OnDiskInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::OnDiskInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a6b2faf11aea3dcb1dbf07a52af33099b"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists10merge_fromEPPK13InvertedListsib">
<span id="_CPPv3N5faiss19OnDiskInvertedLists10merge_fromEPPK13InvertedListsib"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists10merge_fromEPPK13InvertedListsib"></span><span id="faiss::OnDiskInvertedLists::merge_from__InvertedListsCPP.i.b"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1abd32c2ce4f8b530dc5934a12a138e8ce"></span>size_t <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> **<em>ils</em>, int <em>n_il</em>, bool <em>verbose</em> = false<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists12merge_from_1EPK13InvertedListsb">
<span id="_CPPv3N5faiss19OnDiskInvertedLists12merge_from_1EPK13InvertedListsb"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists12merge_from_1EPK13InvertedListsb"></span><span id="faiss::OnDiskInvertedLists::merge_from_1__InvertedListsCP.b"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1af5d433fa2f151e2d32a216d83c977e17"></span>size_t <code class="sig-name descname">merge_from_1</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, bool <em>verbose</em> = false<span class="sig-paren">)</span><br /></dt>
<dd><p>same as merge_from for a single invlist </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists13crop_invlistsE6size_t6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists13crop_invlistsE6size_t6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists13crop_invlistsE6size_t6size_t"></span><span id="faiss::OnDiskInvertedLists::crop_invlists__s.s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a0dbb919e454c26aaa1b907bdf35d3b55"></span>void <code class="sig-name descname">crop_invlists</code><span class="sig-paren">(</span>size_t <em>l0</em>, size_t <em>l1</em><span class="sig-paren">)</span><br /></dt>
<dd><p>restrict the inverted lists to l0:l1 without touching the mmapped region </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::OnDiskInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a04ad61e3a23ced0aea032bf1e699436d"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="faiss::OnDiskInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedListsD0Ev">
<span id="_CPPv3N5faiss19OnDiskInvertedListsD0Ev"></span><span id="_CPPv2N5faiss19OnDiskInvertedListsD0Ev"></span><span id="faiss::OnDiskInvertedLists::~OnDiskInvertedLists"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1ac8f4c9cf887ec62b1e75e2af2f98253f"></span><code class="sig-name descname">~OnDiskInvertedLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists7do_mmapEv">
<span id="_CPPv3N5faiss19OnDiskInvertedLists7do_mmapEv"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists7do_mmapEv"></span><span id="faiss::OnDiskInvertedLists::do_mmap"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1afbdee1f61b80b7748028fa95d3d09a6b"></span>void <code class="sig-name descname">do_mmap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists14update_totsizeE6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists14update_totsizeE6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists14update_totsizeE6size_t"></span><span id="faiss::OnDiskInvertedLists::update_totsize__s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a11bf6949899bc7f11be17322dec68ee5"></span>void <code class="sig-name descname">update_totsize</code><span class="sig-paren">(</span>size_t <em>new_totsize</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists13resize_lockedE6size_t6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists13resize_lockedE6size_t6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists13resize_lockedE6size_t6size_t"></span><span id="faiss::OnDiskInvertedLists::resize_locked__s.s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a48854bce4aa01698b5b3fb0d636caac0"></span>void <code class="sig-name descname">resize_locked</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists13allocate_slotE6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists13allocate_slotE6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists13allocate_slotE6size_t"></span><span id="faiss::OnDiskInvertedLists::allocate_slot__s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a8f351c2423c5f87f61241eb7df8d50f0"></span>size_t <code class="sig-name descname">allocate_slot</code><span class="sig-paren">(</span>size_t <em>capacity</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists9free_slotE6size_t6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists9free_slotE6size_t6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists9free_slotE6size_t6size_t"></span><span id="faiss::OnDiskInvertedLists::free_slot__s.s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a27fc559dcc2e48a7dded1a99540cb22a"></span>void <code class="sig-name descname">free_slot</code><span class="sig-paren">(</span>size_t <em>offset</em>, size_t <em>capacity</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists19set_all_lists_sizesEPK6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists19set_all_lists_sizesEPK6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists19set_all_lists_sizesEPK6size_t"></span><span id="faiss::OnDiskInvertedLists::set_all_lists_sizes__sCP"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1afac59f9ed8a6a70ade1eda9df31a977a"></span>void <code class="sig-name descname">set_all_lists_sizes</code><span class="sig-paren">(</span><em class="property">const</em> size_t *<em>sizes</em><span class="sig-paren">)</span><br /></dt>
<dd><p>override all list sizes and make a packed storage </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists19OnDiskInvertedListsEv">
<span id="_CPPv3N5faiss19OnDiskInvertedLists19OnDiskInvertedListsEv"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists19OnDiskInvertedListsEv"></span><span id="faiss::OnDiskInvertedLists::OnDiskInvertedLists"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a5a2191421cbe2e3be7a3c25fb9de3793"></span><code class="sig-name descname">OnDiskInvertedLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::OnDiskInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a9a24bd313ece4e8e281f8bb28b5f528c"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19OnDiskInvertedLists13release_codesE6size_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::OnDiskInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ad9bd9641ac86e0851d39a96119db3e78"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="faiss::OnDiskInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19OnDiskInvertedLists11release_idsE6size_tPK5idx_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::OnDiskInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac1fb72410cefa4f4d28ec90677c02ab3"></span><a class="reference internal" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="faiss::OnDiskInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19OnDiskInvertedLists13get_single_idE6size_t6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::OnDiskInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a8d3382c2a672340abd227c00cf84ad42"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19OnDiskInvertedLists15get_single_codeE6size_t6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::OnDiskInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="faiss::OnDiskInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss19OnDiskInvertedLists9add_entryE6size_t5idx_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::OnDiskInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="#_CPPv4N5faiss19OnDiskInvertedLists5idx_tE" title="faiss::OnDiskInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss19OnDiskInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists5resetEv">
<span id="_CPPv3N5faiss19OnDiskInvertedLists5resetEv"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists5resetEv"></span><span id="faiss::OnDiskInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss19OnDiskInvertedLists5resetEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::OnDiskInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss19OnDiskInvertedLists10merge_fromEP13InvertedLists6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists16imbalance_factorEv"></span><span id="faiss::OnDiskInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19OnDiskInvertedLists16imbalance_factorEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists11print_statsEv"></span><span id="faiss::OnDiskInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19OnDiskInvertedLists11print_statsEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19OnDiskInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss19OnDiskInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss19OnDiskInvertedLists14compute_ntotalEv"></span><span id="faiss::OnDiskInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss19OnDiskInvertedLists14compute_ntotalEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists5listsE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists5listsE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists5listsE"></span><span id="faiss::OnDiskInvertedLists::lists__std::vector:List:"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a96715d36dae381fc45204f091198d932"></span>std::vector&lt;<a class="reference internal" href="../file/OnDiskInvertedLists_8h.html#_CPPv4N5faiss19OnDiskInvertedLists4ListE" title="faiss::OnDiskInvertedLists::List">List</a>&gt; <code class="sig-name descname">lists</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists5slotsE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists5slotsE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists5slotsE"></span><span id="faiss::OnDiskInvertedLists::slots__std::list:Slot:"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1acb138d838eeb3c732a8cf0b460f051a0"></span>std::list&lt;<a class="reference internal" href="../file/OnDiskInvertedLists_8h.html#_CPPv4N5faiss19OnDiskInvertedLists4SlotE" title="faiss::OnDiskInvertedLists::Slot">Slot</a>&gt; <code class="sig-name descname">slots</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists8filenameE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists8filenameE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists8filenameE"></span><span id="faiss::OnDiskInvertedLists::filename__ss"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a9a6b94bbf12d81248cf3a093d8dddee0"></span>std::string <code class="sig-name descname">filename</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists7totsizeE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists7totsizeE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists7totsizeE"></span><span id="faiss::OnDiskInvertedLists::totsize__s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a85ad4a6336e9593450aa555ea598194c"></span>size_t <code class="sig-name descname">totsize</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists3ptrE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists3ptrE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists3ptrE"></span><span id="faiss::OnDiskInvertedLists::ptr__uint8_tP"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a0adc16674053bb53b34b284f0a9c02a6"></span>uint8_t *<code class="sig-name descname">ptr</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists9read_onlyE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists9read_onlyE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists9read_onlyE"></span><span id="faiss::OnDiskInvertedLists::read_only__b"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1accf9f3461466233fa612402437d0e5ff"></span>bool <code class="sig-name descname">read_only</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists5locksE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists5locksE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists5locksE"></span><span id="faiss::OnDiskInvertedLists::locks__LockLevelsP"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1aebd05c108fe85af4b095dad8e8915421"></span>LockLevels *<code class="sig-name descname">locks</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists2pfE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists2pfE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists2pfE"></span><span id="faiss::OnDiskInvertedLists::pf__OngoingPrefetchP"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1a93eb0db0f7b9774061e956ef20f46550"></span>OngoingPrefetch *<code class="sig-name descname">pf</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists16prefetch_nthreadE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists16prefetch_nthreadE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists16prefetch_nthreadE"></span><span id="faiss::OnDiskInvertedLists::prefetch_nthread__i"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1af8d76f7a52fe47da75e2845d2ac36797"></span>int <code class="sig-name descname">prefetch_nthread</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists5nlistE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists5nlistE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists5nlistE"></span><span id="faiss::OnDiskInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><a class="headerlink" href="#_CPPv4N5faiss19OnDiskInvertedLists5nlistE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists9code_sizeE"></span><span id="faiss::OnDiskInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><a class="headerlink" href="#_CPPv4N5faiss19OnDiskInvertedLists9code_sizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::OnDiskInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<a class="headerlink" href="#_CPPv4N5faiss19OnDiskInvertedLists17INVALID_CODE_SIZEE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists4SlotE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists4SlotE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists4SlotE"></span><span id="faiss::OnDiskInvertedLists::Slot"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1_1Slot"></span><em class="property">struct </em><code class="sig-name descname">Slot</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists4Slot4SlotE6size_t6size_t">
<span id="_CPPv3N5faiss19OnDiskInvertedLists4Slot4SlotE6size_t6size_t"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists4Slot4SlotE6size_t6size_t"></span><span id="faiss::OnDiskInvertedLists::Slot::Slot__s.s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1_1Slot_1abb6e828d751c385dbcbfb492f65a148f"></span><code class="sig-name descname">Slot</code><span class="sig-paren">(</span>size_t <em>offset</em>, size_t <em>capacity</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists4Slot4SlotEv">
<span id="_CPPv3N5faiss19OnDiskInvertedLists4Slot4SlotEv"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists4Slot4SlotEv"></span><span id="faiss::OnDiskInvertedLists::Slot::Slot"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1_1Slot_1a58fa6d66711e1567ea362504f844fa88"></span><code class="sig-name descname">Slot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists4Slot6offsetE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists4Slot6offsetE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists4Slot6offsetE"></span><span id="faiss::OnDiskInvertedLists::Slot::offset__s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1_1Slot_1a9a8e27932a37a7b7a2a8bef7758bc837"></span>size_t <code class="sig-name descname">offset</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19OnDiskInvertedLists4Slot8capacityE">
<span id="_CPPv3N5faiss19OnDiskInvertedLists4Slot8capacityE"></span><span id="_CPPv2N5faiss19OnDiskInvertedLists4Slot8capacityE"></span><span id="faiss::OnDiskInvertedLists::Slot::capacity__s"></span><span class="target" id="structfaiss_1_1OnDiskInvertedLists_1_1Slot_1a951bfd38d5e79339607aae033e9646ac"></span>size_t <code class="sig-name descname">capacity</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss25OnDiskInvertedListsIOHookE">
<span id="_CPPv3N5faiss25OnDiskInvertedListsIOHookE"></span><span id="_CPPv2N5faiss25OnDiskInvertedListsIOHookE"></span><span id="faiss::OnDiskInvertedListsIOHook"></span><span class="target" id="structfaiss_1_1OnDiskInvertedListsIOHook"></span><em class="property">struct </em><code class="sig-name descname">OnDiskInvertedListsIOHook</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss25OnDiskInvertedListsIOHook25OnDiskInvertedListsIOHookEv">
<span id="_CPPv3N5faiss25OnDiskInvertedListsIOHook25OnDiskInvertedListsIOHookEv"></span><span id="_CPPv2N5faiss25OnDiskInvertedListsIOHook25OnDiskInvertedListsIOHookEv"></span><span id="faiss::OnDiskInvertedListsIOHook::OnDiskInvertedListsIOHook"></span><span class="target" id="structfaiss_1_1OnDiskInvertedListsIOHook_1a5edfba9d0d85444cb5fe90375ab65b36"></span><code class="sig-name descname">OnDiskInvertedListsIOHook</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss25OnDiskInvertedListsIOHook5writeEPK13InvertedListsP8IOWriter">
<span id="_CPPv3NK5faiss25OnDiskInvertedListsIOHook5writeEPK13InvertedListsP8IOWriter"></span><span id="_CPPv2NK5faiss25OnDiskInvertedListsIOHook5writeEPK13InvertedListsP8IOWriter"></span><span id="faiss::OnDiskInvertedListsIOHook::write__InvertedListsCP.IOWriterPC"></span><span class="target" id="structfaiss_1_1OnDiskInvertedListsIOHook_1ab1acdd64fa8a9cb97fafbd5902122ddd"></span>void <code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>ils</em>, IOWriter *<em>f</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>write the index to the IOWriter (including the fourcc) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss25OnDiskInvertedListsIOHook4readEP8IOReaderi">
<span id="_CPPv3NK5faiss25OnDiskInvertedListsIOHook4readEP8IOReaderi"></span><span id="_CPPv2NK5faiss25OnDiskInvertedListsIOHook4readEP8IOReaderi"></span><span id="faiss::OnDiskInvertedListsIOHook::read__IOReaderP.iC"></span><span class="target" id="structfaiss_1_1OnDiskInvertedListsIOHook_1a9c5def4c9b6b157ee931d2d7f1ec2910"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">read</code><span class="sig-paren">(</span>IOReader *<em>f</em>, int <em>io_flags</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>called when the fourcc matches this classâs fourcc </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss25OnDiskInvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE">
<span id="_CPPv3NK5faiss25OnDiskInvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE"></span><span id="_CPPv2NK5faiss25OnDiskInvertedListsIOHook23read_ArrayInvertedListsEP8IOReaderi6size_t6size_tRKNSt6vectorI6size_tEE"></span><span id="faiss::OnDiskInvertedListsIOHook::read_ArrayInvertedLists__IOReaderP.i.s.s.std::vector:s:CRC"></span><span class="target" id="structfaiss_1_1OnDiskInvertedListsIOHook_1a9b69d2e66d8dc44f2a7c78848d565c84"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">read_ArrayInvertedLists</code><span class="sig-paren">(</span>IOReader *<em>f</em>, int <em>io_flags</em>, size_t <em>nlist</em>, size_t <em>code_size</em>, <em class="property">const</em> std::vector&lt;size_t&gt; &amp;<em>sizes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>read from a <a class="reference internal" href="../struct/structfaiss_1_1ArrayInvertedLists.html#structfaiss_1_1ArrayInvertedLists"><span class="std std-ref">ArrayInvertedLists</span></a> into this invertedlist type. For this to work, the callback has to be enabled and the io_flag has to be set to IO_FLAG_SKIP_IVF_DATA | (16 upper bits of the fourcc)</p>
<p>(default implementation fails) </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss25OnDiskInvertedListsIOHook3keyE">
<span id="_CPPv3N5faiss25OnDiskInvertedListsIOHook3keyE"></span><span id="_CPPv2N5faiss25OnDiskInvertedListsIOHook3keyE"></span><span id="faiss::OnDiskInvertedListsIOHook::key__ssC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a81292158052e31c66fc0f175310113ae"></span><em class="property">const</em> std::string <code class="sig-name descname">key</code><a class="headerlink" href="#_CPPv4N5faiss25OnDiskInvertedListsIOHook3keyE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>string version of the fourcc </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss25OnDiskInvertedListsIOHook9classnameE">
<span id="_CPPv3N5faiss25OnDiskInvertedListsIOHook9classnameE"></span><span id="_CPPv2N5faiss25OnDiskInvertedListsIOHook9classnameE"></span><span id="faiss::OnDiskInvertedListsIOHook::classname__ssC"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1aaf9a95368179893d044d1670a29a7a71"></span><em class="property">const</em> std::string <code class="sig-name descname">classname</code><a class="headerlink" href="#_CPPv4N5faiss25OnDiskInvertedListsIOHook9classnameE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>typeid.name </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss25OnDiskInvertedListsIOHook12add_callbackEP19InvertedListsIOHook">
<span id="_CPPv3N5faiss25OnDiskInvertedListsIOHook12add_callbackEP19InvertedListsIOHook"></span><span id="_CPPv2N5faiss25OnDiskInvertedListsIOHook12add_callbackEP19InvertedListsIOHook"></span><span id="faiss::OnDiskInvertedListsIOHook::add_callback__InvertedListsIOHookP"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a7852d13afc3e94745f6738c58858098c"></span>void <code class="sig-name descname">add_callback</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a>*<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss25OnDiskInvertedListsIOHook12add_callbackEP19InvertedListsIOHook" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss25OnDiskInvertedListsIOHook15print_callbacksEv">
<span id="_CPPv3N5faiss25OnDiskInvertedListsIOHook15print_callbacksEv"></span><span id="_CPPv2N5faiss25OnDiskInvertedListsIOHook15print_callbacksEv"></span><span id="faiss::OnDiskInvertedListsIOHook::print_callbacks"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a6f602d3d0f4f06eaf0ebe99e45d7c53b"></span>void <code class="sig-name descname">print_callbacks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss25OnDiskInvertedListsIOHook15print_callbacksEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss25OnDiskInvertedListsIOHook6lookupEi">
<span id="_CPPv3N5faiss25OnDiskInvertedListsIOHook6lookupEi"></span><span id="_CPPv2N5faiss25OnDiskInvertedListsIOHook6lookupEi"></span><span id="faiss::OnDiskInvertedListsIOHook::lookup__i"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1afea628376e67f00243952ae6e5aa2bc4"></span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a> *<code class="sig-name descname">lookup</code><span class="sig-paren">(</span>int <em>h</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss25OnDiskInvertedListsIOHook6lookupEi" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss25OnDiskInvertedListsIOHook16lookup_classnameERKNSt6stringE">
<span id="_CPPv3N5faiss25OnDiskInvertedListsIOHook16lookup_classnameERKNSt6stringE"></span><span id="_CPPv2N5faiss25OnDiskInvertedListsIOHook16lookup_classnameERKNSt6stringE"></span><span id="faiss::OnDiskInvertedListsIOHook::lookup_classname__ssCR"></span><span class="target" id="structfaiss_1_1InvertedListsIOHook_1a2f4b40119498c66604b04cac588340a6"></span><a class="reference internal" href="../file/InvertedListsIOHook_8h.html#_CPPv4N5faiss19InvertedListsIOHookE" title="faiss::InvertedListsIOHook">InvertedListsIOHook</a> *<code class="sig-name descname">lookup_classname</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>classname</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss25OnDiskInvertedListsIOHook16lookup_classnameERKNSt6stringE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss13OnDiskOneListE">
<span id="_CPPv3N5faiss13OnDiskOneListE"></span><span id="_CPPv2N5faiss13OnDiskOneListE"></span><span id="faiss::OnDiskOneList"></span><span class="target" id="structfaiss_1_1OnDiskOneList"></span><em class="property">struct </em><code class="sig-name descname">OnDiskOneList</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss13OnDiskOneList13OnDiskOneListEv">
<span id="_CPPv3N5faiss13OnDiskOneList13OnDiskOneListEv"></span><span id="_CPPv2N5faiss13OnDiskOneList13OnDiskOneListEv"></span><span id="faiss::OnDiskOneList::OnDiskOneList"></span><span class="target" id="structfaiss_1_1OnDiskOneList_1aee43ab23bfac0c55a9a1cb26b6c421db"></span><code class="sig-name descname">OnDiskOneList</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss13OnDiskOneList4sizeE">
<span id="_CPPv3N5faiss13OnDiskOneList4sizeE"></span><span id="_CPPv2N5faiss13OnDiskOneList4sizeE"></span><span id="faiss::OnDiskOneList::size__s"></span><span class="target" id="structfaiss_1_1OnDiskOneList_1a82948bfa0399754ff4274eef58d93874"></span>size_t <code class="sig-name descname">size</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13OnDiskOneList8capacityE">
<span id="_CPPv3N5faiss13OnDiskOneList8capacityE"></span><span id="_CPPv2N5faiss13OnDiskOneList8capacityE"></span><span id="faiss::OnDiskOneList::capacity__s"></span><span class="target" id="structfaiss_1_1OnDiskOneList_1abd2ec43b560ff4ae9c056de1438752e1"></span>size_t <code class="sig-name descname">capacity</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss13OnDiskOneList6offsetE">
<span id="_CPPv3N5faiss13OnDiskOneList6offsetE"></span><span id="_CPPv2N5faiss13OnDiskOneList6offsetE"></span><span id="faiss::OnDiskOneList::offset__s"></span><span class="target" id="structfaiss_1_1OnDiskOneList_1a8298eb2a691566cd3225a7e4ff329043"></span>size_t <code class="sig-name descname">offset</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterionE">
<span id="_CPPv3N5faiss21OneRecallAtRCriterionE"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterionE"></span><span id="faiss::OneRecallAtRCriterion"></span><span class="target" id="structfaiss_1_1OneRecallAtRCriterion"></span><em class="property">struct </em><code class="sig-name descname">OneRecallAtRCriterion</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterionE" title="faiss::AutoTuneCriterion">AutoTuneCriterion</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion5idx_tE"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion5idx_tE"></span><span id="faiss::OneRecallAtRCriterion::idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a7873f86515af86a77eaaea1f6b13e982"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion21OneRecallAtRCriterionE5idx_t5idx_t">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion21OneRecallAtRCriterionE5idx_t5idx_t"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion21OneRecallAtRCriterionE5idx_t5idx_t"></span><span id="faiss::OneRecallAtRCriterion::OneRecallAtRCriterion__idx_t.idx_t"></span><span class="target" id="structfaiss_1_1OneRecallAtRCriterion_1a96f1529ebce808a196972e017fb17950"></span><code class="sig-name descname">OneRecallAtRCriterion</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> <em>nq</em>, <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> <em>R</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21OneRecallAtRCriterion8evaluateEPKfPK5idx_t">
<span id="_CPPv3NK5faiss21OneRecallAtRCriterion8evaluateEPKfPK5idx_t"></span><span id="_CPPv2NK5faiss21OneRecallAtRCriterion8evaluateEPKfPK5idx_t"></span><span id="faiss::OneRecallAtRCriterion::evaluate__floatCP.idx_tCPC"></span><span class="target" id="structfaiss_1_1OneRecallAtRCriterion_1afe472c2ae38534c293b02feebf87988d"></span>double <code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterionD0Ev">
<span id="_CPPv3N5faiss21OneRecallAtRCriterionD0Ev"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterionD0Ev"></span><span id="faiss::OneRecallAtRCriterion::~OneRecallAtRCriterion"></span><span class="target" id="structfaiss_1_1OneRecallAtRCriterion_1a79b1af707034d3984debd15a6aa34255"></span><code class="sig-name descname">~OneRecallAtRCriterion</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion15set_groundtruthEiPKfPK5idx_t">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion15set_groundtruthEiPKfPK5idx_t"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion15set_groundtruthEiPKfPK5idx_t"></span><span id="faiss::OneRecallAtRCriterion::set_groundtruth__i.floatCP.idx_tCP"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a174f0de8e6fd01905f5fa2170f5039d8"></span>void <code class="sig-name descname">set_groundtruth</code><span class="sig-paren">(</span>int <em>gt_nnn</em>, <em class="property">const</em> float *<em>gt_D_in</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> *<em>gt_I_in</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Intitializes the gt_D and gt_I vectors. Must be called before evaluating</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">gt_D_in</span></code>: size nq * gt_nnn </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gt_I_in</span></code>: size nq * gt_nnn </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1AutoTuneCriterion_1a9084449e216b331c5f753a10c6de6a47"></span>double <code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>D</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> *<em>I</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Evaluate the criterion.</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>the criterion, between 0 and 1. Larger is better. </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">D</span></code>: size nq * nnn </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: size nq * nnn </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion1RE">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion1RE"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion1RE"></span><span id="faiss::OneRecallAtRCriterion::R__idx_t"></span><span class="target" id="structfaiss_1_1OneRecallAtRCriterion_1ab25af5442746a34451a7ceeebd40f380"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> <code class="sig-name descname">R</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion2nqE">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion2nqE"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion2nqE"></span><span id="faiss::OneRecallAtRCriterion::nq__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1adcfaafb3f1b3449e2cfd553f0f603a5b"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> <code class="sig-name descname">nq</code><br /></dt>
<dd><p>nb of queries this criterion is evaluated on </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion3nnnE">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion3nnnE"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion3nnnE"></span><span id="faiss::OneRecallAtRCriterion::nnn__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a3bb11e873707a812999f8391869aafab"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> <code class="sig-name descname">nnn</code><br /></dt>
<dd><p>nb of NNs that the query should request </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion6gt_nnnE">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion6gt_nnnE"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion6gt_nnnE"></span><span id="faiss::OneRecallAtRCriterion::gt_nnn__idx_t"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a9b3a2242729a0873d255c1684881bbd4"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a> <code class="sig-name descname">gt_nnn</code><br /></dt>
<dd><p>nb of GT NNs required to evaluate crterion </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion4gt_DE">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion4gt_DE"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion4gt_DE"></span><span id="faiss::OneRecallAtRCriterion::gt_D__std::vector:float:"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1a40e91caa9232a597c16fc946d0befd9b"></span>std::vector&lt;float&gt; <code class="sig-name descname">gt_D</code><br /></dt>
<dd><p>Ground-truth distances (size nq * gt_nnn) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21OneRecallAtRCriterion4gt_IE">
<span id="_CPPv3N5faiss21OneRecallAtRCriterion4gt_IE"></span><span id="_CPPv2N5faiss21OneRecallAtRCriterion4gt_IE"></span><span id="faiss::OneRecallAtRCriterion::gt_I__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1AutoTuneCriterion_1af915fc4df215e3c8d9f71ff42d526144"></span>std::vector&lt;<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss21OneRecallAtRCriterion5idx_tE" title="faiss::OneRecallAtRCriterion::idx_t">idx_t</a>&gt; <code class="sig-name descname">gt_I</code><br /></dt>
<dd><p>Ground-truth indexes (size nq * gt_nnn) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss14OperatingPointE">
<span id="_CPPv3N5faiss14OperatingPointE"></span><span id="_CPPv2N5faiss14OperatingPointE"></span><span id="faiss::OperatingPoint"></span><span class="target" id="structfaiss_1_1OperatingPoint"></span><em class="property">struct </em><code class="sig-name descname">OperatingPoint</code><br /></dt>
<dd><em>#include &lt;AutoTune.h&gt;</em><p>Maintains a list of experimental results. Each operating point is a (perf, t, key) triplet, where higher perf and lower t is better. The key field is an arbitrary identifier for the operating point.</p>
<p>Includes primitives to extract the Pareto-optimal operating points in the (perf, t) space. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss14OperatingPoint4perfE">
<span id="_CPPv3N5faiss14OperatingPoint4perfE"></span><span id="_CPPv2N5faiss14OperatingPoint4perfE"></span><span id="faiss::OperatingPoint::perf__double"></span><span class="target" id="structfaiss_1_1OperatingPoint_1ad218d1641b6e32d043a215542485a457"></span>double <code class="sig-name descname">perf</code><br /></dt>
<dd><p>performance measure (output of a Criterion) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14OperatingPoint1tE">
<span id="_CPPv3N5faiss14OperatingPoint1tE"></span><span id="_CPPv2N5faiss14OperatingPoint1tE"></span><span id="faiss::OperatingPoint::t__double"></span><span class="target" id="structfaiss_1_1OperatingPoint_1a886492ffe2b337539fadc798c8f4a6a8"></span>double <code class="sig-name descname">t</code><br /></dt>
<dd><p>corresponding execution time (ms) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14OperatingPoint3keyE">
<span id="_CPPv3N5faiss14OperatingPoint3keyE"></span><span id="_CPPv2N5faiss14OperatingPoint3keyE"></span><span id="faiss::OperatingPoint::key__ss"></span><span class="target" id="structfaiss_1_1OperatingPoint_1aa13782d6d26168531764cb64da941ced"></span>std::string <code class="sig-name descname">key</code><br /></dt>
<dd><p>key that identifies this op pt </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14OperatingPoint3cnoE">
<span id="_CPPv3N5faiss14OperatingPoint3cnoE"></span><span id="_CPPv2N5faiss14OperatingPoint3cnoE"></span><span id="faiss::OperatingPoint::cno__int64_t"></span><span class="target" id="structfaiss_1_1OperatingPoint_1ac9f4b8e26b022e847e6cbbfc4aed22f1"></span>int64_t <code class="sig-name descname">cno</code><br /></dt>
<dd><p>integer identifer </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15OperatingPointsE">
<span id="_CPPv3N5faiss15OperatingPointsE"></span><span id="_CPPv2N5faiss15OperatingPointsE"></span><span id="faiss::OperatingPoints"></span><span class="target" id="structfaiss_1_1OperatingPoints"></span><em class="property">struct </em><code class="sig-name descname">OperatingPoints</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15OperatingPoints15OperatingPointsEv">
<span id="_CPPv3N5faiss15OperatingPoints15OperatingPointsEv"></span><span id="_CPPv2N5faiss15OperatingPoints15OperatingPointsEv"></span><span id="faiss::OperatingPoints::OperatingPoints"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a65530fa64d46bcaca21719cf0b1126f7"></span><code class="sig-name descname">OperatingPoints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15OperatingPoints10merge_withERK15OperatingPointsRKNSt6stringE">
<span id="_CPPv3N5faiss15OperatingPoints10merge_withERK15OperatingPointsRKNSt6stringE"></span><span id="_CPPv2N5faiss15OperatingPoints10merge_withERK15OperatingPointsRKNSt6stringE"></span><span id="faiss::OperatingPoints::merge_with__OperatingPointsCR.ssCR"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a84baddccd8b803dee460739f8bcbc0c9"></span>int <code class="sig-name descname">merge_with</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss15OperatingPointsE" title="faiss::OperatingPoints">OperatingPoints</a> &amp;<em>other</em>, <em class="property">const</em> std::string &amp;<em>prefix</em> = &quot;&quot;<span class="sig-paren">)</span><br /></dt>
<dd><p>add operating points from other to this, with a prefix to the keys </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15OperatingPoints5clearEv">
<span id="_CPPv3N5faiss15OperatingPoints5clearEv"></span><span id="_CPPv2N5faiss15OperatingPoints5clearEv"></span><span id="faiss::OperatingPoints::clear"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a1702eeb680ce73ca8c1fd071955f0679"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15OperatingPoints3addEddRKNSt6stringE6size_t">
<span id="_CPPv3N5faiss15OperatingPoints3addEddRKNSt6stringE6size_t"></span><span id="_CPPv2N5faiss15OperatingPoints3addEddRKNSt6stringE6size_t"></span><span id="faiss::OperatingPoints::add__double.double.ssCR.s"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a7afabe0576800255eeec680486cb30df"></span>bool <code class="sig-name descname">add</code><span class="sig-paren">(</span>double <em>perf</em>, double <em>t</em>, <em class="property">const</em> std::string &amp;<em>key</em>, size_t <em>cno</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd><p>add a performance measure. Return whether it is an optimal point </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15OperatingPoints10t_for_perfEd">
<span id="_CPPv3NK5faiss15OperatingPoints10t_for_perfEd"></span><span id="_CPPv2NK5faiss15OperatingPoints10t_for_perfEd"></span><span id="faiss::OperatingPoints::t_for_perf__doubleC"></span><span class="target" id="structfaiss_1_1OperatingPoints_1ad06f915a9b8f8cfd8c7a00858c6c24ae"></span>double <code class="sig-name descname">t_for_perf</code><span class="sig-paren">(</span>double <em>perf</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>get time required to obtain a given performance measure </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15OperatingPoints7displayEb">
<span id="_CPPv3NK5faiss15OperatingPoints7displayEb"></span><span id="_CPPv2NK5faiss15OperatingPoints7displayEb"></span><span id="faiss::OperatingPoints::display__bC"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a3fe8cd962524dfdfb8e7bba8c984024d"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span>bool <em>only_optimal</em> = true<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>easy-to-read output </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15OperatingPoints14all_to_gnuplotEPKc">
<span id="_CPPv3NK5faiss15OperatingPoints14all_to_gnuplotEPKc"></span><span id="_CPPv2NK5faiss15OperatingPoints14all_to_gnuplotEPKc"></span><span id="faiss::OperatingPoints::all_to_gnuplot__cCPC"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a355e16cdecf1905c995120a35ba08ac5"></span>void <code class="sig-name descname">all_to_gnuplot</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fname</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>output to a format easy to digest by gnuplot </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15OperatingPoints18optimal_to_gnuplotEPKc">
<span id="_CPPv3NK5faiss15OperatingPoints18optimal_to_gnuplotEPKc"></span><span id="_CPPv2NK5faiss15OperatingPoints18optimal_to_gnuplotEPKc"></span><span id="faiss::OperatingPoints::optimal_to_gnuplot__cCPC"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a1223380199823ba94945bdd4dd2ccc24"></span>void <code class="sig-name descname">optimal_to_gnuplot</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fname</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15OperatingPoints7all_ptsE">
<span id="_CPPv3N5faiss15OperatingPoints7all_ptsE"></span><span id="_CPPv2N5faiss15OperatingPoints7all_ptsE"></span><span id="faiss::OperatingPoints::all_pts__std::vector:OperatingPoint:"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a48f457047b0511ecc531f250ef8b19c3"></span>std::vector&lt;<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14OperatingPointE" title="faiss::OperatingPoint">OperatingPoint</a>&gt; <code class="sig-name descname">all_pts</code><br /></dt>
<dd><p>all operating points </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15OperatingPoints11optimal_ptsE">
<span id="_CPPv3N5faiss15OperatingPoints11optimal_ptsE"></span><span id="_CPPv2N5faiss15OperatingPoints11optimal_ptsE"></span><span id="faiss::OperatingPoints::optimal_pts__std::vector:OperatingPoint:"></span><span class="target" id="structfaiss_1_1OperatingPoints_1a2829e78e01cc42c3a341622947663b31"></span>std::vector&lt;<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14OperatingPointE" title="faiss::OperatingPoint">OperatingPoint</a>&gt; <code class="sig-name descname">optimal_pts</code><br /></dt>
<dd><p>optimal operating points, sorted by perf </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss9OPQMatrixE">
<span id="_CPPv3N5faiss9OPQMatrixE"></span><span id="_CPPv2N5faiss9OPQMatrixE"></span><span id="faiss::OPQMatrix"></span><span class="target" id="structfaiss_1_1OPQMatrix"></span><em class="property">struct </em><code class="sig-name descname">OPQMatrix</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransformE" title="faiss::LinearTransform">LinearTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>Applies a rotation to align the dimensions with a PQ to minimize the reconstruction error. Can be used before an <a class="reference internal" href="../struct/structfaiss_1_1IndexPQ.html#structfaiss_1_1IndexPQ"><span class="std std-ref">IndexPQ</span></a> or an <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFPQ.html#structfaiss_1_1IndexIVFPQ"><span class="std std-ref">IndexIVFPQ</span></a>. The method is the non-parametric version described in:</p>
<p>âOptimized Product Quantization for Approximate Nearest Neighbor Searchâ Tiezheng Ge, Kaiming He, Qifa Ke, Jian Sun, CVPRâ13 </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss9OPQMatrix5idx_tE">
<span id="_CPPv3N5faiss9OPQMatrix5idx_tE"></span><span id="_CPPv2N5faiss9OPQMatrix5idx_tE"></span><span id="faiss::OPQMatrix::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss9OPQMatrix9OPQMatrixEiii">
<span id="_CPPv3N5faiss9OPQMatrix9OPQMatrixEiii"></span><span id="_CPPv2N5faiss9OPQMatrix9OPQMatrixEiii"></span><span id="faiss::OPQMatrix::OPQMatrix__i.i.i"></span><span class="target" id="structfaiss_1_1OPQMatrix_1a377b53c090c7ab05814aaf9d6ec58fcf"></span><code class="sig-name descname">OPQMatrix</code><span class="sig-paren">(</span>int <em>d</em> = 0, int <em>M</em> = 1, int <em>d2</em> = -1<span class="sig-paren">)</span><br /></dt>
<dd><p>if d2 != -1, output vectors of this dimension </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9OPQMatrix5trainE5idx_tPKf">
<span id="_CPPv3N5faiss9OPQMatrix5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss9OPQMatrix5trainE5idx_tPKf"></span><span id="faiss::OPQMatrix::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1OPQMatrix_1abc57f03c88623a5844c7ac06a927ab6a"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9OPQMatrix5idx_tE" title="faiss::OPQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors. Does nothing by default.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9OPQMatrix13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9OPQMatrix13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9OPQMatrix13apply_noallocE5idx_tPKfPf"></span><span id="faiss::OPQMatrix::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aefb0ae9416652e408a96604f18a78d7d"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9OPQMatrix5idx_tE" title="faiss::OPQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9OPQMatrix19transform_transposeE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9OPQMatrix19transform_transposeE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9OPQMatrix19transform_transposeE5idx_tPKfPf"></span><span id="faiss::OPQMatrix::transform_transpose__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1a29af2cf35a13b538eb327aa64b07e474"></span>void <code class="sig-name descname">transform_transpose</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9OPQMatrix5idx_tE" title="faiss::OPQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>y</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute x = A^T * (x - b) is reverse transform if A has orthonormal lines </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9OPQMatrix17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9OPQMatrix17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9OPQMatrix17reverse_transformE5idx_tPKfPf"></span><span id="faiss::OPQMatrix::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aabcea47432734c860fdf6fcc3a998563"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9OPQMatrix5idx_tE" title="faiss::OPQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>works only if is_orthonormal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9OPQMatrix18set_is_orthonormalEv">
<span id="_CPPv3N5faiss9OPQMatrix18set_is_orthonormalEv"></span><span id="_CPPv2N5faiss9OPQMatrix18set_is_orthonormalEv"></span><span id="faiss::OPQMatrix::set_is_orthonormal"></span><span class="target" id="structfaiss_1_1LinearTransform_1a1f75b8a58b9f452eb08fd8e54c134fe0"></span>void <code class="sig-name descname">set_is_orthonormal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>compute A^T * A to set the is_orthonormal flag </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9OPQMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii">
<span id="_CPPv3NK5faiss9OPQMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="_CPPv2NK5faiss9OPQMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="faiss::OPQMatrix::print_if_verbose__cCP.std::vector:double:CR.i.iC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aeca6faf0c5beb67a66b7a22182422bc5"></span>void <code class="sig-name descname">print_if_verbose</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>name</em>, <em class="property">const</em> std::vector&lt;double&gt; &amp;<em>mat</em>, int <em>n</em>, int <em>d</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9OPQMatrix5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss9OPQMatrix5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss9OPQMatrix5applyE5idx_tPKf"></span><span id="faiss::OPQMatrix::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9OPQMatrix5idx_tE" title="faiss::OPQMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix1ME">
<span id="_CPPv3N5faiss9OPQMatrix1ME"></span><span id="_CPPv2N5faiss9OPQMatrix1ME"></span><span id="faiss::OPQMatrix::M__i"></span><span class="target" id="structfaiss_1_1OPQMatrix_1a07ad0c0c84f96a6880c1c8eaf09596e3"></span>int <code class="sig-name descname">M</code><br /></dt>
<dd><p>nb of subquantizers </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix5niterE">
<span id="_CPPv3N5faiss9OPQMatrix5niterE"></span><span id="_CPPv2N5faiss9OPQMatrix5niterE"></span><span id="faiss::OPQMatrix::niter__i"></span><span class="target" id="structfaiss_1_1OPQMatrix_1a12cb3e05989dee37592b682070c31000"></span>int <code class="sig-name descname">niter</code><br /></dt>
<dd><p>Number of outer training iterations. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix8niter_pqE">
<span id="_CPPv3N5faiss9OPQMatrix8niter_pqE"></span><span id="_CPPv2N5faiss9OPQMatrix8niter_pqE"></span><span id="faiss::OPQMatrix::niter_pq__i"></span><span class="target" id="structfaiss_1_1OPQMatrix_1ab88c87a3931ec356904abf5f1f797a83"></span>int <code class="sig-name descname">niter_pq</code><br /></dt>
<dd><p>Number of training iterations for the PQ. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix10niter_pq_0E">
<span id="_CPPv3N5faiss9OPQMatrix10niter_pq_0E"></span><span id="_CPPv2N5faiss9OPQMatrix10niter_pq_0E"></span><span id="faiss::OPQMatrix::niter_pq_0__i"></span><span class="target" id="structfaiss_1_1OPQMatrix_1a6406e97b05c831cc19b9343be3b43a1f"></span>int <code class="sig-name descname">niter_pq_0</code><br /></dt>
<dd><p>same, for the first outer iteration </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix16max_train_pointsE">
<span id="_CPPv3N5faiss9OPQMatrix16max_train_pointsE"></span><span id="_CPPv2N5faiss9OPQMatrix16max_train_pointsE"></span><span id="faiss::OPQMatrix::max_train_points__s"></span><span class="target" id="structfaiss_1_1OPQMatrix_1afdd5b2c74d19ccc5c7a6e0199333321a"></span>size_t <code class="sig-name descname">max_train_points</code><br /></dt>
<dd><p>if there are too many training points, resample </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix7verboseE">
<span id="_CPPv3N5faiss9OPQMatrix7verboseE"></span><span id="_CPPv2N5faiss9OPQMatrix7verboseE"></span><span id="faiss::OPQMatrix::verbose__b"></span><span class="target" id="structfaiss_1_1OPQMatrix_1abf181dd944511a81803abba538ecc4b5"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix2pqE">
<span id="_CPPv3N5faiss9OPQMatrix2pqE"></span><span id="_CPPv2N5faiss9OPQMatrix2pqE"></span><span id="faiss::OPQMatrix::pq__ProductQuantizerP"></span><span class="target" id="structfaiss_1_1OPQMatrix_1a01d3736c8e725f596b99440324544a59"></span>ProductQuantizer *<code class="sig-name descname">pq</code><br /></dt>
<dd><p>if non-NULL, use this product quantizer for training should be constructed with (d_out, M, _) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix9have_biasE">
<span id="_CPPv3N5faiss9OPQMatrix9have_biasE"></span><span id="_CPPv2N5faiss9OPQMatrix9have_biasE"></span><span id="faiss::OPQMatrix::have_bias__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a322401ba80cb96ac1e7846401f2bef24"></span>bool <code class="sig-name descname">have_bias</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix14is_orthonormalE">
<span id="_CPPv3N5faiss9OPQMatrix14is_orthonormalE"></span><span id="_CPPv2N5faiss9OPQMatrix14is_orthonormalE"></span><span id="faiss::OPQMatrix::is_orthonormal__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a8a67a0178eab513cf87545f5d12d9569"></span>bool <code class="sig-name descname">is_orthonormal</code><br /></dt>
<dd><p>! whether to use the bias term </p>
<p>check if matrix A is orthonormal (enables reverse_transform) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix1AE">
<span id="_CPPv3N5faiss9OPQMatrix1AE"></span><span id="_CPPv2N5faiss9OPQMatrix1AE"></span><span id="faiss::OPQMatrix::A__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1aa40e156ef57fe206cd5f3a58ec0660da"></span>std::vector&lt;float&gt; <code class="sig-name descname">A</code><br /></dt>
<dd><p>Transformation matrix, size d_out * d_in. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix1bE">
<span id="_CPPv3N5faiss9OPQMatrix1bE"></span><span id="_CPPv2N5faiss9OPQMatrix1bE"></span><span id="faiss::OPQMatrix::b__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1ab0383f690aeb823876e9143febad1a87"></span>std::vector&lt;float&gt; <code class="sig-name descname">b</code><br /></dt>
<dd><p>bias vector, size d_out </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix4d_inE">
<span id="_CPPv3N5faiss9OPQMatrix4d_inE"></span><span id="_CPPv2N5faiss9OPQMatrix4d_inE"></span><span id="faiss::OPQMatrix::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix5d_outE">
<span id="_CPPv3N5faiss9OPQMatrix5d_outE"></span><span id="_CPPv2N5faiss9OPQMatrix5d_outE"></span><span id="faiss::OPQMatrix::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9OPQMatrix10is_trainedE">
<span id="_CPPv3N5faiss9OPQMatrix10is_trainedE"></span><span id="_CPPv2N5faiss9OPQMatrix10is_trainedE"></span><span id="faiss::OPQMatrix::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss14ParameterRangeE">
<span id="_CPPv3N5faiss14ParameterRangeE"></span><span id="_CPPv2N5faiss14ParameterRangeE"></span><span id="faiss::ParameterRange"></span><span class="target" id="structfaiss_1_1ParameterRange"></span><em class="property">struct </em><code class="sig-name descname">ParameterRange</code><br /></dt>
<dd><em>#include &lt;AutoTune.h&gt;</em><p>possible values of a parameter, sorted from least to most expensive/accurate </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss14ParameterRange4nameE">
<span id="_CPPv3N5faiss14ParameterRange4nameE"></span><span id="_CPPv2N5faiss14ParameterRange4nameE"></span><span id="faiss::ParameterRange::name__ss"></span><span class="target" id="structfaiss_1_1ParameterRange_1a5db7cd6389a8303c7fb98d668b9a7625"></span>std::string <code class="sig-name descname">name</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14ParameterRange6valuesE">
<span id="_CPPv3N5faiss14ParameterRange6valuesE"></span><span id="_CPPv2N5faiss14ParameterRange6valuesE"></span><span id="faiss::ParameterRange::values__std::vector:double:"></span><span class="target" id="structfaiss_1_1ParameterRange_1a5e4f4836fe1f0c9be007c8009a068c7a"></span>std::vector&lt;double&gt; <code class="sig-name descname">values</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss14ParameterSpaceE">
<span id="_CPPv3N5faiss14ParameterSpaceE"></span><span id="_CPPv2N5faiss14ParameterSpaceE"></span><span id="faiss::ParameterSpace"></span><span class="target" id="structfaiss_1_1ParameterSpace"></span><em class="property">struct </em><code class="sig-name descname">ParameterSpace</code><br /></dt>
<dd><em>#include &lt;AutoTune.h&gt;</em><p>Uses a-priori knowledge on the Faiss indexes to extract tunable parameters. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuParameterSpace.html#structfaiss_1_1gpu_1_1GpuParameterSpace"><span class="std std-ref">faiss::gpu::GpuParameterSpace</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss14ParameterSpace14ParameterSpaceEv">
<span id="_CPPv3N5faiss14ParameterSpace14ParameterSpaceEv"></span><span id="_CPPv2N5faiss14ParameterSpace14ParameterSpaceEv"></span><span id="faiss::ParameterSpace::ParameterSpace"></span><span class="target" id="structfaiss_1_1ParameterSpace_1ad9c41b66db298ddf8c43b14d8eb88a67"></span><code class="sig-name descname">ParameterSpace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace14n_combinationsEv">
<span id="_CPPv3NK5faiss14ParameterSpace14n_combinationsEv"></span><span id="_CPPv2NK5faiss14ParameterSpace14n_combinationsEv"></span><span id="faiss::ParameterSpace::n_combinationsC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a255b1e3bf93f8b0cbbe16eae66478acc"></span>size_t <code class="sig-name descname">n_combinations</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>nb of combinations, = product of values sizes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace14combination_geE6size_t6size_t">
<span id="_CPPv3NK5faiss14ParameterSpace14combination_geE6size_t6size_t"></span><span id="_CPPv2NK5faiss14ParameterSpace14combination_geE6size_t6size_t"></span><span id="faiss::ParameterSpace::combination_ge__s.sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1ab311c622327c18b42aa66e2b9bcd5a7f"></span>bool <code class="sig-name descname">combination_ge</code><span class="sig-paren">(</span>size_t <em>c1</em>, size_t <em>c2</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>returns whether combinations c1 &gt;= c2 in the tuple sense </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace16combination_nameE6size_t">
<span id="_CPPv3NK5faiss14ParameterSpace16combination_nameE6size_t"></span><span id="_CPPv2NK5faiss14ParameterSpace16combination_nameE6size_t"></span><span id="faiss::ParameterSpace::combination_name__sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1af5081b3739982c6be702e46df666fec4"></span>std::string <code class="sig-name descname">combination_name</code><span class="sig-paren">(</span>size_t <em>cno</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>get string representation of the combination </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace7displayEv">
<span id="_CPPv3NK5faiss14ParameterSpace7displayEv"></span><span id="_CPPv2NK5faiss14ParameterSpace7displayEv"></span><span id="faiss::ParameterSpace::displayC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a066ae6501cf7b31b1b5bb1e34bb8d0dc"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>print a description on stdout </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14ParameterSpace9add_rangeERKNSt6stringE">
<span id="_CPPv3N5faiss14ParameterSpace9add_rangeERKNSt6stringE"></span><span id="_CPPv2N5faiss14ParameterSpace9add_rangeERKNSt6stringE"></span><span id="faiss::ParameterSpace::add_range__ssCR"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a48fcb0d8a091c768dd59b4234c0733c1"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14ParameterRangeE" title="faiss::ParameterRange">ParameterRange</a> &amp;<code class="sig-name descname">add_range</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add a new parameter (or return it if it exists) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14ParameterSpace10initializeEPK5Index">
<span id="_CPPv3N5faiss14ParameterSpace10initializeEPK5Index"></span><span id="_CPPv2N5faiss14ParameterSpace10initializeEPK5Index"></span><span id="faiss::ParameterSpace::initialize__IndexCP"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a3e2e52e7b04f838473e01d018afde832"></span>void <code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>initialize with reasonable parameters for the index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace20set_index_parametersEP5Index6size_t">
<span id="_CPPv3NK5faiss14ParameterSpace20set_index_parametersEP5Index6size_t"></span><span id="_CPPv2NK5faiss14ParameterSpace20set_index_parametersEP5Index6size_t"></span><span id="faiss::ParameterSpace::set_index_parameters__IndexP.sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a613036d9ce9b2d89856043782975a30a"></span>void <code class="sig-name descname">set_index_parameters</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, size_t <em>cno</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>set a combination of parameters on an index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace20set_index_parametersEP5IndexPKc">
<span id="_CPPv3NK5faiss14ParameterSpace20set_index_parametersEP5IndexPKc"></span><span id="_CPPv2NK5faiss14ParameterSpace20set_index_parametersEP5IndexPKc"></span><span id="faiss::ParameterSpace::set_index_parameters__IndexP.cCPC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1acaf902b57394d802a32dcbdfa6bcd7b8"></span>void <code class="sig-name descname">set_index_parameters</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> char *<em>param_string</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>set a combination of parameters described by a string </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace19set_index_parameterEP5IndexRKNSt6stringEd">
<span id="_CPPv3NK5faiss14ParameterSpace19set_index_parameterEP5IndexRKNSt6stringEd"></span><span id="_CPPv2NK5faiss14ParameterSpace19set_index_parameterEP5IndexRKNSt6stringEd"></span><span id="faiss::ParameterSpace::set_index_parameter__IndexP.ssCR.doubleC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1ad9e630ff62561acf6a55b972ee7bb309"></span>void <code class="sig-name descname">set_index_parameter</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> std::string &amp;<em>name</em>, double <em>val</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>set one of the parameters, returns whether setting was successful </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd">
<span id="_CPPv3NK5faiss14ParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd"></span><span id="_CPPv2NK5faiss14ParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd"></span><span id="faiss::ParameterSpace::update_bounds__s.OperatingPointCR.doubleP.doublePC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a8b8ca45f0a520a7100b4ad9c7be1e079"></span>void <code class="sig-name descname">update_bounds</code><span class="sig-paren">(</span>size_t <em>cno</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14OperatingPointE" title="faiss::OperatingPoint">OperatingPoint</a> &amp;<em>op</em>, double *<em>upper_bound_perf</em>, double *<em>lower_bound_t</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>find an upper bound on the performance and a lower bound on t for configuration cno given another operating point op </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss14ParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints">
<span id="_CPPv3NK5faiss14ParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints"></span><span id="_CPPv2NK5faiss14ParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints"></span><span id="faiss::ParameterSpace::explore__IndexP.s.floatCP.AutoTuneCriterionCR.OperatingPointsPC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1abf95f9ac04d0a2d1d4ac9e3b685bfcc3"></span>void <code class="sig-name descname">explore</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, size_t <em>nq</em>, <em class="property">const</em> float *<em>xq</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterionE" title="faiss::AutoTuneCriterion">AutoTuneCriterion</a> &amp;<em>crit</em>, <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss15OperatingPointsE" title="faiss::OperatingPoints">OperatingPoints</a> *<em>ops</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>explore operating points <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: index to run on </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xq</span></code>: query vectors (size nq * index.d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crit</span></code>: selection criterion </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ops</span></code>: resulting operating points </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14ParameterSpaceD0Ev">
<span id="_CPPv3N5faiss14ParameterSpaceD0Ev"></span><span id="_CPPv2N5faiss14ParameterSpaceD0Ev"></span><span id="faiss::ParameterSpace::~ParameterSpace"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a75fbe38ddf6cdca0928316dae9f17764"></span><code class="sig-name descname">~ParameterSpace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss14ParameterSpace16parameter_rangesE">
<span id="_CPPv3N5faiss14ParameterSpace16parameter_rangesE"></span><span id="_CPPv2N5faiss14ParameterSpace16parameter_rangesE"></span><span id="faiss::ParameterSpace::parameter_ranges__std::vector:ParameterRange:"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a334c1bb54bc2b70950a4a63950728cbb"></span>std::vector&lt;<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14ParameterRangeE" title="faiss::ParameterRange">ParameterRange</a>&gt; <code class="sig-name descname">parameter_ranges</code><br /></dt>
<dd><p>all tunable parameters </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14ParameterSpace7verboseE">
<span id="_CPPv3N5faiss14ParameterSpace7verboseE"></span><span id="_CPPv2N5faiss14ParameterSpace7verboseE"></span><span id="faiss::ParameterSpace::verbose__i"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a7a9f2292c4e0ac3aad569434edea87b0"></span>int <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity during exploration </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14ParameterSpace13n_experimentsE">
<span id="_CPPv3N5faiss14ParameterSpace13n_experimentsE"></span><span id="_CPPv2N5faiss14ParameterSpace13n_experimentsE"></span><span id="faiss::ParameterSpace::n_experiments__i"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a76aeae25b3269fb24a26194fbe013b86"></span>int <code class="sig-name descname">n_experiments</code><br /></dt>
<dd><p>nb of experiments during optimization (0 = try all combinations) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14ParameterSpace9batchsizeE">
<span id="_CPPv3N5faiss14ParameterSpace9batchsizeE"></span><span id="_CPPv2N5faiss14ParameterSpace9batchsizeE"></span><span id="faiss::ParameterSpace::batchsize__s"></span><span class="target" id="structfaiss_1_1ParameterSpace_1aee8fd44e15656ba80fe98de4c65ed767"></span>size_t <code class="sig-name descname">batchsize</code><br /></dt>
<dd><p>maximum number of queries to submit at a time. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14ParameterSpace19thread_over_batchesE">
<span id="_CPPv3N5faiss14ParameterSpace19thread_over_batchesE"></span><span id="_CPPv2N5faiss14ParameterSpace19thread_over_batchesE"></span><span id="faiss::ParameterSpace::thread_over_batches__b"></span><span class="target" id="structfaiss_1_1ParameterSpace_1af6dc3b9c5631b509cbae99bf0f24170b"></span>bool <code class="sig-name descname">thread_over_batches</code><br /></dt>
<dd><p>use multithreading over batches (useful to benchmark independent single-searches) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14ParameterSpace17min_test_durationE">
<span id="_CPPv3N5faiss14ParameterSpace17min_test_durationE"></span><span id="_CPPv2N5faiss14ParameterSpace17min_test_durationE"></span><span id="faiss::ParameterSpace::min_test_duration__double"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a50d9d784d69d9812c12dc9b2baf9351d"></span>double <code class="sig-name descname">min_test_duration</code><br /></dt>
<dd><p>run tests several times until they reach at least this duration (to avoid jittering in MT mode) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss14PartitionStatsE">
<span id="_CPPv3N5faiss14PartitionStatsE"></span><span id="_CPPv2N5faiss14PartitionStatsE"></span><span id="faiss::PartitionStats"></span><span class="target" id="structfaiss_1_1PartitionStats"></span><em class="property">struct </em><code class="sig-name descname">PartitionStats</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss14PartitionStats14PartitionStatsEv">
<span id="_CPPv3N5faiss14PartitionStats14PartitionStatsEv"></span><span id="_CPPv2N5faiss14PartitionStats14PartitionStatsEv"></span><span id="faiss::PartitionStats::PartitionStats"></span><span class="target" id="structfaiss_1_1PartitionStats_1aa9f9c8030b1ea6fd37df7f3cfff04d4f"></span><code class="sig-name descname">PartitionStats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss14PartitionStats5resetEv">
<span id="_CPPv3N5faiss14PartitionStats5resetEv"></span><span id="_CPPv2N5faiss14PartitionStats5resetEv"></span><span id="faiss::PartitionStats::reset"></span><span class="target" id="structfaiss_1_1PartitionStats_1a2d09e115d4435fecc6af519e5fc10802"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss14PartitionStats14bissect_cyclesE">
<span id="_CPPv3N5faiss14PartitionStats14bissect_cyclesE"></span><span id="_CPPv2N5faiss14PartitionStats14bissect_cyclesE"></span><span id="faiss::PartitionStats::bissect_cycles__uint64_t"></span><span class="target" id="structfaiss_1_1PartitionStats_1a46c75f722bb31664cb0604cce4e003da"></span>uint64_t <code class="sig-name descname">bissect_cycles</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss14PartitionStats15compress_cyclesE">
<span id="_CPPv3N5faiss14PartitionStats15compress_cyclesE"></span><span id="_CPPv2N5faiss14PartitionStats15compress_cyclesE"></span><span id="faiss::PartitionStats::compress_cycles__uint64_t"></span><span class="target" id="structfaiss_1_1PartitionStats_1aa6a83efd703c803b59684910ba3bac52"></span>uint64_t <code class="sig-name descname">compress_cycles</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss9PCAMatrixE">
<span id="_CPPv3N5faiss9PCAMatrixE"></span><span id="_CPPv2N5faiss9PCAMatrixE"></span><span id="faiss::PCAMatrix"></span><span class="target" id="structfaiss_1_1PCAMatrix"></span><em class="property">struct </em><code class="sig-name descname">PCAMatrix</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransformE" title="faiss::LinearTransform">LinearTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>Applies a principal component analysis on a set of vectors, with optionally whitening and random rotation. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss9PCAMatrix5idx_tE">
<span id="_CPPv3N5faiss9PCAMatrix5idx_tE"></span><span id="_CPPv2N5faiss9PCAMatrix5idx_tE"></span><span id="faiss::PCAMatrix::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss9PCAMatrix9PCAMatrixEiifb">
<span id="_CPPv3N5faiss9PCAMatrix9PCAMatrixEiifb"></span><span id="_CPPv2N5faiss9PCAMatrix9PCAMatrixEiifb"></span><span id="faiss::PCAMatrix::PCAMatrix__i.i.float.b"></span><span class="target" id="structfaiss_1_1PCAMatrix_1aacc73b1e114a0331172236745a8f1e25"></span><code class="sig-name descname">PCAMatrix</code><span class="sig-paren">(</span>int <em>d_in</em> = 0, int <em>d_out</em> = 0, float <em>eigen_power</em> = 0, bool <em>random_rotation</em> = false<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9PCAMatrix5trainE5idx_tPKf">
<span id="_CPPv3N5faiss9PCAMatrix5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss9PCAMatrix5trainE5idx_tPKf"></span><span id="faiss::PCAMatrix::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1PCAMatrix_1a42f2fefbabe122868c59ea35b4ff080b"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9PCAMatrix5idx_tE" title="faiss::PCAMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>train on n vectors. If n &lt; d_in then the eigenvector matrix will be completed with 0s </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9PCAMatrix9copy_fromERK9PCAMatrix">
<span id="_CPPv3N5faiss9PCAMatrix9copy_fromERK9PCAMatrix"></span><span id="_CPPv2N5faiss9PCAMatrix9copy_fromERK9PCAMatrix"></span><span id="faiss::PCAMatrix::copy_from__PCAMatrixCR"></span><span class="target" id="structfaiss_1_1PCAMatrix_1a5eeb75861ade62cf606d003da398a09f"></span>void <code class="sig-name descname">copy_from</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9PCAMatrixE" title="faiss::PCAMatrix">PCAMatrix</a> &amp;<em>other</em><span class="sig-paren">)</span><br /></dt>
<dd><p>copy pre-trained PCA matrix </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9PCAMatrix10prepare_AbEv">
<span id="_CPPv3N5faiss9PCAMatrix10prepare_AbEv"></span><span id="_CPPv2N5faiss9PCAMatrix10prepare_AbEv"></span><span id="faiss::PCAMatrix::prepare_Ab"></span><span class="target" id="structfaiss_1_1PCAMatrix_1ac13555c4d9007ae338d3392882b8e0db"></span>void <code class="sig-name descname">prepare_Ab</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>called after mean, PCAMat and eigenvalues are computed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9PCAMatrix13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9PCAMatrix13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9PCAMatrix13apply_noallocE5idx_tPKfPf"></span><span id="faiss::PCAMatrix::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aefb0ae9416652e408a96604f18a78d7d"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9PCAMatrix5idx_tE" title="faiss::PCAMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9PCAMatrix19transform_transposeE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9PCAMatrix19transform_transposeE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9PCAMatrix19transform_transposeE5idx_tPKfPf"></span><span id="faiss::PCAMatrix::transform_transpose__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1a29af2cf35a13b538eb327aa64b07e474"></span>void <code class="sig-name descname">transform_transpose</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9PCAMatrix5idx_tE" title="faiss::PCAMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>y</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute x = A^T * (x - b) is reverse transform if A has orthonormal lines </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9PCAMatrix17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss9PCAMatrix17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss9PCAMatrix17reverse_transformE5idx_tPKfPf"></span><span id="faiss::PCAMatrix::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aabcea47432734c860fdf6fcc3a998563"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9PCAMatrix5idx_tE" title="faiss::PCAMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>works only if is_orthonormal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss9PCAMatrix18set_is_orthonormalEv">
<span id="_CPPv3N5faiss9PCAMatrix18set_is_orthonormalEv"></span><span id="_CPPv2N5faiss9PCAMatrix18set_is_orthonormalEv"></span><span id="faiss::PCAMatrix::set_is_orthonormal"></span><span class="target" id="structfaiss_1_1LinearTransform_1a1f75b8a58b9f452eb08fd8e54c134fe0"></span>void <code class="sig-name descname">set_is_orthonormal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>compute A^T * A to set the is_orthonormal flag </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9PCAMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii">
<span id="_CPPv3NK5faiss9PCAMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="_CPPv2NK5faiss9PCAMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="faiss::PCAMatrix::print_if_verbose__cCP.std::vector:double:CR.i.iC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aeca6faf0c5beb67a66b7a22182422bc5"></span>void <code class="sig-name descname">print_if_verbose</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>name</em>, <em class="property">const</em> std::vector&lt;double&gt; &amp;<em>mat</em>, int <em>n</em>, int <em>d</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss9PCAMatrix5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss9PCAMatrix5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss9PCAMatrix5applyE5idx_tPKf"></span><span id="faiss::PCAMatrix::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss9PCAMatrix5idx_tE" title="faiss::PCAMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix11eigen_powerE">
<span id="_CPPv3N5faiss9PCAMatrix11eigen_powerE"></span><span id="_CPPv2N5faiss9PCAMatrix11eigen_powerE"></span><span id="faiss::PCAMatrix::eigen_power__float"></span><span class="target" id="structfaiss_1_1PCAMatrix_1a4e48e801f98ba2cf57c03b0913d6fafc"></span>float <code class="sig-name descname">eigen_power</code><br /></dt>
<dd><p>after transformation the components are multiplied by eigenvalues^eigen_power</p>
<p>=0: no whitening =-0.5: full whitening </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix15random_rotationE">
<span id="_CPPv3N5faiss9PCAMatrix15random_rotationE"></span><span id="_CPPv2N5faiss9PCAMatrix15random_rotationE"></span><span id="faiss::PCAMatrix::random_rotation__b"></span><span class="target" id="structfaiss_1_1PCAMatrix_1af111f055b7571703a3aa270d89e99321"></span>bool <code class="sig-name descname">random_rotation</code><br /></dt>
<dd><p>random rotation after PCA </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix16max_points_per_dE">
<span id="_CPPv3N5faiss9PCAMatrix16max_points_per_dE"></span><span id="_CPPv2N5faiss9PCAMatrix16max_points_per_dE"></span><span id="faiss::PCAMatrix::max_points_per_d__s"></span><span class="target" id="structfaiss_1_1PCAMatrix_1abdce90f57a3c4401f5230f03da901e0d"></span>size_t <code class="sig-name descname">max_points_per_d</code><br /></dt>
<dd><p>ratio between # training vectors and dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix13balanced_binsE">
<span id="_CPPv3N5faiss9PCAMatrix13balanced_binsE"></span><span id="_CPPv2N5faiss9PCAMatrix13balanced_binsE"></span><span id="faiss::PCAMatrix::balanced_bins__i"></span><span class="target" id="structfaiss_1_1PCAMatrix_1ac9a4c97b5861081dfd8ca5881bb1a677"></span>int <code class="sig-name descname">balanced_bins</code><br /></dt>
<dd><p>try to distribute output eigenvectors in this many bins </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix4meanE">
<span id="_CPPv3N5faiss9PCAMatrix4meanE"></span><span id="_CPPv2N5faiss9PCAMatrix4meanE"></span><span id="faiss::PCAMatrix::mean__std::vector:float:"></span><span class="target" id="structfaiss_1_1PCAMatrix_1a721c338c1df5c99471db82e6d3dc8f93"></span>std::vector&lt;float&gt; <code class="sig-name descname">mean</code><br /></dt>
<dd><p>Mean, size d_in. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix11eigenvaluesE">
<span id="_CPPv3N5faiss9PCAMatrix11eigenvaluesE"></span><span id="_CPPv2N5faiss9PCAMatrix11eigenvaluesE"></span><span id="faiss::PCAMatrix::eigenvalues__std::vector:float:"></span><span class="target" id="structfaiss_1_1PCAMatrix_1ae80e130c0667b66cea608c4926d7d561"></span>std::vector&lt;float&gt; <code class="sig-name descname">eigenvalues</code><br /></dt>
<dd><p>eigenvalues of covariance matrix (= squared singular values) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix6PCAMatE">
<span id="_CPPv3N5faiss9PCAMatrix6PCAMatE"></span><span id="_CPPv2N5faiss9PCAMatrix6PCAMatE"></span><span id="faiss::PCAMatrix::PCAMat__std::vector:float:"></span><span class="target" id="structfaiss_1_1PCAMatrix_1aef5c130774e5d4f697a3e1c82647bfd3"></span>std::vector&lt;float&gt; <code class="sig-name descname">PCAMat</code><br /></dt>
<dd><p>PCA matrix, size d_in * d_in. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix9have_biasE">
<span id="_CPPv3N5faiss9PCAMatrix9have_biasE"></span><span id="_CPPv2N5faiss9PCAMatrix9have_biasE"></span><span id="faiss::PCAMatrix::have_bias__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a322401ba80cb96ac1e7846401f2bef24"></span>bool <code class="sig-name descname">have_bias</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix14is_orthonormalE">
<span id="_CPPv3N5faiss9PCAMatrix14is_orthonormalE"></span><span id="_CPPv2N5faiss9PCAMatrix14is_orthonormalE"></span><span id="faiss::PCAMatrix::is_orthonormal__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a8a67a0178eab513cf87545f5d12d9569"></span>bool <code class="sig-name descname">is_orthonormal</code><br /></dt>
<dd><p>! whether to use the bias term </p>
<p>check if matrix A is orthonormal (enables reverse_transform) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix1AE">
<span id="_CPPv3N5faiss9PCAMatrix1AE"></span><span id="_CPPv2N5faiss9PCAMatrix1AE"></span><span id="faiss::PCAMatrix::A__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1aa40e156ef57fe206cd5f3a58ec0660da"></span>std::vector&lt;float&gt; <code class="sig-name descname">A</code><br /></dt>
<dd><p>Transformation matrix, size d_out * d_in. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix1bE">
<span id="_CPPv3N5faiss9PCAMatrix1bE"></span><span id="_CPPv2N5faiss9PCAMatrix1bE"></span><span id="faiss::PCAMatrix::b__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1ab0383f690aeb823876e9143febad1a87"></span>std::vector&lt;float&gt; <code class="sig-name descname">b</code><br /></dt>
<dd><p>bias vector, size d_out </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix7verboseE">
<span id="_CPPv3N5faiss9PCAMatrix7verboseE"></span><span id="_CPPv2N5faiss9PCAMatrix7verboseE"></span><span id="faiss::PCAMatrix::verbose__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1ae351ccd1155b71ac9d2fbd8d11b7082a"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix4d_inE">
<span id="_CPPv3N5faiss9PCAMatrix4d_inE"></span><span id="_CPPv2N5faiss9PCAMatrix4d_inE"></span><span id="faiss::PCAMatrix::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix5d_outE">
<span id="_CPPv3N5faiss9PCAMatrix5d_outE"></span><span id="_CPPv2N5faiss9PCAMatrix5d_outE"></span><span id="faiss::PCAMatrix::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss9PCAMatrix10is_trainedE">
<span id="_CPPv3N5faiss9PCAMatrix10is_trainedE"></span><span id="_CPPv2N5faiss9PCAMatrix10is_trainedE"></span><span id="faiss::PCAMatrix::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15RandomGeneratorE">
<span id="_CPPv3N5faiss15RandomGeneratorE"></span><span id="_CPPv2N5faiss15RandomGeneratorE"></span><span id="faiss::RandomGenerator"></span><span class="target" id="structfaiss_1_1RandomGenerator"></span><em class="property">struct </em><code class="sig-name descname">RandomGenerator</code><br /></dt>
<dd><em>#include &lt;random.h&gt;</em><p>random generator that can be used in multithreaded contexts </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15RandomGenerator8rand_intEv">
<span id="_CPPv3N5faiss15RandomGenerator8rand_intEv"></span><span id="_CPPv2N5faiss15RandomGenerator8rand_intEv"></span><span id="faiss::RandomGenerator::rand_int"></span><span class="target" id="structfaiss_1_1RandomGenerator_1a583f124ecacdbe037ac96e23a44dd420"></span>int <code class="sig-name descname">rand_int</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>random positive integer </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15RandomGenerator10rand_int64Ev">
<span id="_CPPv3N5faiss15RandomGenerator10rand_int64Ev"></span><span id="_CPPv2N5faiss15RandomGenerator10rand_int64Ev"></span><span id="faiss::RandomGenerator::rand_int64"></span><span class="target" id="structfaiss_1_1RandomGenerator_1a3c1d4f4e81baf1507961409af6219da3"></span>int64_t <code class="sig-name descname">rand_int64</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>random int64_t </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15RandomGenerator8rand_intEi">
<span id="_CPPv3N5faiss15RandomGenerator8rand_intEi"></span><span id="_CPPv2N5faiss15RandomGenerator8rand_intEi"></span><span id="faiss::RandomGenerator::rand_int__i"></span><span class="target" id="structfaiss_1_1RandomGenerator_1aa460b9bac2593cd1d71305e10ab51af6"></span>int <code class="sig-name descname">rand_int</code><span class="sig-paren">(</span>int <em>max</em><span class="sig-paren">)</span><br /></dt>
<dd><p>generate random integer between 0 and max-1 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15RandomGenerator10rand_floatEv">
<span id="_CPPv3N5faiss15RandomGenerator10rand_floatEv"></span><span id="_CPPv2N5faiss15RandomGenerator10rand_floatEv"></span><span id="faiss::RandomGenerator::rand_float"></span><span class="target" id="structfaiss_1_1RandomGenerator_1ac82a433d7bfa56d750907ba5cf74aed7"></span>float <code class="sig-name descname">rand_float</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>between 0 and 1 </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15RandomGenerator11rand_doubleEv">
<span id="_CPPv3N5faiss15RandomGenerator11rand_doubleEv"></span><span id="_CPPv2N5faiss15RandomGenerator11rand_doubleEv"></span><span id="faiss::RandomGenerator::rand_double"></span><span class="target" id="structfaiss_1_1RandomGenerator_1abd824911e83a956b21d0168f8b4f2364"></span>double <code class="sig-name descname">rand_double</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15RandomGenerator15RandomGeneratorE7int64_t">
<span id="_CPPv3N5faiss15RandomGenerator15RandomGeneratorE7int64_t"></span><span id="_CPPv2N5faiss15RandomGenerator15RandomGeneratorE7int64_t"></span><span id="faiss::RandomGenerator::RandomGenerator__int64_t"></span><span class="target" id="structfaiss_1_1RandomGenerator_1a8d2ce09ee883bb4e840e6aabafbbbdea"></span><code class="sig-name descname">RandomGenerator</code><span class="sig-paren">(</span>int64_t <em>seed</em> = 1234<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15RandomGenerator2mtE">
<span id="_CPPv3N5faiss15RandomGenerator2mtE"></span><span id="_CPPv2N5faiss15RandomGenerator2mtE"></span><span id="faiss::RandomGenerator::mt__std::mt19937"></span><span class="target" id="structfaiss_1_1RandomGenerator_1a1cb04ff503cdcdac5977274b8a2591d8"></span>std::mt19937 <code class="sig-name descname">mt</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss20RandomRotationMatrixE">
<span id="_CPPv3N5faiss20RandomRotationMatrixE"></span><span id="_CPPv2N5faiss20RandomRotationMatrixE"></span><span id="faiss::RandomRotationMatrix"></span><span class="target" id="structfaiss_1_1RandomRotationMatrix"></span><em class="property">struct </em><code class="sig-name descname">RandomRotationMatrix</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15LinearTransformE" title="faiss::LinearTransform">LinearTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>Randomly rotate a set of vectors. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss20RandomRotationMatrix5idx_tE">
<span id="_CPPv3N5faiss20RandomRotationMatrix5idx_tE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix5idx_tE"></span><span id="faiss::RandomRotationMatrix::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss20RandomRotationMatrix20RandomRotationMatrixEii">
<span id="_CPPv3N5faiss20RandomRotationMatrix20RandomRotationMatrixEii"></span><span id="_CPPv2N5faiss20RandomRotationMatrix20RandomRotationMatrixEii"></span><span id="faiss::RandomRotationMatrix::RandomRotationMatrix__i.i"></span><span class="target" id="structfaiss_1_1RandomRotationMatrix_1a64e406c8f73c7692bcf7d97b27305fc6"></span><code class="sig-name descname">RandomRotationMatrix</code><span class="sig-paren">(</span>int <em>d_in</em>, int <em>d_out</em><span class="sig-paren">)</span><br /></dt>
<dd><p>both d_in &gt; d_out and d_out &lt; d_in are supported </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20RandomRotationMatrix4initEi">
<span id="_CPPv3N5faiss20RandomRotationMatrix4initEi"></span><span id="_CPPv2N5faiss20RandomRotationMatrix4initEi"></span><span id="faiss::RandomRotationMatrix::init__i"></span><span class="target" id="structfaiss_1_1RandomRotationMatrix_1a35d70d2b2e01b10ac041002e8851d5ce"></span>void <code class="sig-name descname">init</code><span class="sig-paren">(</span>int <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd><p>must be called before the transform is used </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20RandomRotationMatrix5trainE5idx_tPKf">
<span id="_CPPv3N5faiss20RandomRotationMatrix5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss20RandomRotationMatrix5trainE5idx_tPKf"></span><span id="faiss::RandomRotationMatrix::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1RandomRotationMatrix_1a8d7cd3057072bc2db0527ae4ac84b181"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss20RandomRotationMatrix5idx_tE" title="faiss::RandomRotationMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Perform training on a representative set of vectors. Does nothing by default.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20RandomRotationMatrix20RandomRotationMatrixEv">
<span id="_CPPv3N5faiss20RandomRotationMatrix20RandomRotationMatrixEv"></span><span id="_CPPv2N5faiss20RandomRotationMatrix20RandomRotationMatrixEv"></span><span id="faiss::RandomRotationMatrix::RandomRotationMatrix"></span><span class="target" id="structfaiss_1_1RandomRotationMatrix_1a98da7196e79373717fba4efb6b189781"></span><code class="sig-name descname">RandomRotationMatrix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20RandomRotationMatrix13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss20RandomRotationMatrix13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss20RandomRotationMatrix13apply_noallocE5idx_tPKfPf"></span><span id="faiss::RandomRotationMatrix::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aefb0ae9416652e408a96604f18a78d7d"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss20RandomRotationMatrix5idx_tE" title="faiss::RandomRotationMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20RandomRotationMatrix19transform_transposeE5idx_tPKfPf">
<span id="_CPPv3NK5faiss20RandomRotationMatrix19transform_transposeE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss20RandomRotationMatrix19transform_transposeE5idx_tPKfPf"></span><span id="faiss::RandomRotationMatrix::transform_transpose__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1a29af2cf35a13b538eb327aa64b07e474"></span>void <code class="sig-name descname">transform_transpose</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss20RandomRotationMatrix5idx_tE" title="faiss::RandomRotationMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>y</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>compute x = A^T * (x - b) is reverse transform if A has orthonormal lines </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20RandomRotationMatrix17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss20RandomRotationMatrix17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss20RandomRotationMatrix17reverse_transformE5idx_tPKfPf"></span><span id="faiss::RandomRotationMatrix::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aabcea47432734c860fdf6fcc3a998563"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss20RandomRotationMatrix5idx_tE" title="faiss::RandomRotationMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>works only if is_orthonormal </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss20RandomRotationMatrix18set_is_orthonormalEv">
<span id="_CPPv3N5faiss20RandomRotationMatrix18set_is_orthonormalEv"></span><span id="_CPPv2N5faiss20RandomRotationMatrix18set_is_orthonormalEv"></span><span id="faiss::RandomRotationMatrix::set_is_orthonormal"></span><span class="target" id="structfaiss_1_1LinearTransform_1a1f75b8a58b9f452eb08fd8e54c134fe0"></span>void <code class="sig-name descname">set_is_orthonormal</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>compute A^T * A to set the is_orthonormal flag </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20RandomRotationMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii">
<span id="_CPPv3NK5faiss20RandomRotationMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="_CPPv2NK5faiss20RandomRotationMatrix16print_if_verboseEPKcRKNSt6vectorIdEEii"></span><span id="faiss::RandomRotationMatrix::print_if_verbose__cCP.std::vector:double:CR.i.iC"></span><span class="target" id="structfaiss_1_1LinearTransform_1aeca6faf0c5beb67a66b7a22182422bc5"></span>void <code class="sig-name descname">print_if_verbose</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>name</em>, <em class="property">const</em> std::vector&lt;double&gt; &amp;<em>mat</em>, int <em>n</em>, int <em>d</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss20RandomRotationMatrix5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss20RandomRotationMatrix5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss20RandomRotationMatrix5applyE5idx_tPKf"></span><span id="faiss::RandomRotationMatrix::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss20RandomRotationMatrix5idx_tE" title="faiss::RandomRotationMatrix::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss20RandomRotationMatrix9have_biasE">
<span id="_CPPv3N5faiss20RandomRotationMatrix9have_biasE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix9have_biasE"></span><span id="faiss::RandomRotationMatrix::have_bias__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a322401ba80cb96ac1e7846401f2bef24"></span>bool <code class="sig-name descname">have_bias</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20RandomRotationMatrix14is_orthonormalE">
<span id="_CPPv3N5faiss20RandomRotationMatrix14is_orthonormalE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix14is_orthonormalE"></span><span id="faiss::RandomRotationMatrix::is_orthonormal__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1a8a67a0178eab513cf87545f5d12d9569"></span>bool <code class="sig-name descname">is_orthonormal</code><br /></dt>
<dd><p>! whether to use the bias term </p>
<p>check if matrix A is orthonormal (enables reverse_transform) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20RandomRotationMatrix1AE">
<span id="_CPPv3N5faiss20RandomRotationMatrix1AE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix1AE"></span><span id="faiss::RandomRotationMatrix::A__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1aa40e156ef57fe206cd5f3a58ec0660da"></span>std::vector&lt;float&gt; <code class="sig-name descname">A</code><br /></dt>
<dd><p>Transformation matrix, size d_out * d_in. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20RandomRotationMatrix1bE">
<span id="_CPPv3N5faiss20RandomRotationMatrix1bE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix1bE"></span><span id="faiss::RandomRotationMatrix::b__std::vector:float:"></span><span class="target" id="structfaiss_1_1LinearTransform_1ab0383f690aeb823876e9143febad1a87"></span>std::vector&lt;float&gt; <code class="sig-name descname">b</code><br /></dt>
<dd><p>bias vector, size d_out </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20RandomRotationMatrix7verboseE">
<span id="_CPPv3N5faiss20RandomRotationMatrix7verboseE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix7verboseE"></span><span id="faiss::RandomRotationMatrix::verbose__b"></span><span class="target" id="structfaiss_1_1LinearTransform_1ae351ccd1155b71ac9d2fbd8d11b7082a"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20RandomRotationMatrix4d_inE">
<span id="_CPPv3N5faiss20RandomRotationMatrix4d_inE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix4d_inE"></span><span id="faiss::RandomRotationMatrix::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20RandomRotationMatrix5d_outE">
<span id="_CPPv3N5faiss20RandomRotationMatrix5d_outE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix5d_outE"></span><span id="faiss::RandomRotationMatrix::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss20RandomRotationMatrix10is_trainedE">
<span id="_CPPv3N5faiss20RandomRotationMatrix10is_trainedE"></span><span id="_CPPv2N5faiss20RandomRotationMatrix10is_trainedE"></span><span id="faiss::RandomRotationMatrix::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedListsE">
<span id="_CPPv3N5faiss21ReadOnlyInvertedListsE"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedListsE"></span><span id="faiss::ReadOnlyInvertedLists"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">ReadOnlyInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a><br /></dt>
<dd><em>#include &lt;InvertedLists.h&gt;</em><p>invlists that fail for all write functions </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1HStackInvertedLists.html#structfaiss_1_1HStackInvertedLists"><span class="std std-ref">faiss::HStackInvertedLists</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1MaskedInvertedLists.html#structfaiss_1_1MaskedInvertedLists"><span class="std std-ref">faiss::MaskedInvertedLists</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1SliceInvertedLists.html#structfaiss_1_1SliceInvertedLists"><span class="std std-ref">faiss::SliceInvertedLists</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1StopWordsInvertedLists.html#structfaiss_1_1StopWordsInvertedLists"><span class="std std-ref">faiss::StopWordsInvertedLists</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1VStackInvertedLists.html#structfaiss_1_1VStackInvertedLists"><span class="std std-ref">faiss::VStackInvertedLists</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists5idx_tE"></span><span id="faiss::ReadOnlyInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists21ReadOnlyInvertedListsE6size_t6size_t">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists21ReadOnlyInvertedListsE6size_t6size_t"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists21ReadOnlyInvertedListsE6size_t6size_t"></span><span id="faiss::ReadOnlyInvertedLists::ReadOnlyInvertedLists__s.s"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a38b8814659bc9dd48a96191aa3f1b01c"></span><code class="sig-name descname">ReadOnlyInvertedLists</code><span class="sig-paren">(</span>size_t <em>nlist</em>, size_t <em>code_size</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::ReadOnlyInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a0734538244d8c5969e3e23e38faf1c0c"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE" title="faiss::ReadOnlyInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::ReadOnlyInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a33c3a5174bcf6709dcefec8bdc4b9a52"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE" title="faiss::ReadOnlyInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::ReadOnlyInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a7b65c76388ba2fbc17a7060f6cf87039"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists9list_sizeE6size_t"></span><span id="faiss::ReadOnlyInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a9bd256053ee360473842105460fe285f"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists9get_codesE6size_t"></span><span id="faiss::ReadOnlyInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a60b12f9efe940b617a8380adceef4032"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists7get_idsE6size_t"></span><span id="faiss::ReadOnlyInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a3ab6b389d8d85c5fbf23889064df7e95"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE" title="faiss::ReadOnlyInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::ReadOnlyInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a9a24bd313ece4e8e281f8bb28b5f528c"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::ReadOnlyInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ad9bd9641ac86e0851d39a96119db3e78"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE" title="faiss::ReadOnlyInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::ReadOnlyInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac1fb72410cefa4f4d28ec90677c02ab3"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE" title="faiss::ReadOnlyInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::ReadOnlyInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a8d3382c2a672340abd227c00cf84ad42"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::ReadOnlyInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa661652a062ecb58b02f10d2a671c9fe"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE" title="faiss::ReadOnlyInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::ReadOnlyInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE" title="faiss::ReadOnlyInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::ReadOnlyInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedLists5idx_tE" title="faiss::ReadOnlyInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists5resetEv">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists5resetEv"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists5resetEv"></span><span id="faiss::ReadOnlyInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::ReadOnlyInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists16imbalance_factorEv"></span><span id="faiss::ReadOnlyInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists11print_statsEv"></span><span id="faiss::ReadOnlyInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss21ReadOnlyInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss21ReadOnlyInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss21ReadOnlyInvertedLists14compute_ntotalEv"></span><span id="faiss::ReadOnlyInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists5nlistE">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists5nlistE"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists5nlistE"></span><span id="faiss::ReadOnlyInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists9code_sizeE"></span><span id="faiss::ReadOnlyInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss21ReadOnlyInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss21ReadOnlyInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss21ReadOnlyInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::ReadOnlyInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss24ReconstructFromNeighborsE">
<span id="_CPPv3N5faiss24ReconstructFromNeighborsE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighborsE"></span><span id="faiss::ReconstructFromNeighbors"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors"></span><em class="property">struct </em><code class="sig-name descname">ReconstructFromNeighbors</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors5idx_tE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors5idx_tE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors5idx_tE"></span><span id="faiss::ReconstructFromNeighbors::idx_t"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a67dc908b2ace7c07b20075059b4bb454"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors13storage_idx_tE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors13storage_idx_tE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors13storage_idx_tE"></span><span id="faiss::ReconstructFromNeighbors::storage_idx_t"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a799355a749bf0e6632e7d2deeb0e7a0f"></span><em class="property">typedef </em>HNSW::storage_idx_t <code class="sig-name descname">storage_idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors24ReconstructFromNeighborsERK9IndexHNSW6size_t6size_t">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors24ReconstructFromNeighborsERK9IndexHNSW6size_t6size_t"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors24ReconstructFromNeighborsERK9IndexHNSW6size_t6size_t"></span><span id="faiss::ReconstructFromNeighbors::ReconstructFromNeighbors__IndexHNSWCR.s.s"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a8c02da3c304ddf56e8bc4e51bebc07ad"></span><code class="sig-name descname">ReconstructFromNeighbors</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSWE" title="faiss::IndexHNSW">IndexHNSW</a> &amp;<em>index</em>, size_t <em>k</em> = 256, size_t <em>nsq</em> = 1<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors9add_codesE6size_tPKf">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors9add_codesE6size_tPKf"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors9add_codesE6size_tPKf"></span><span id="faiss::ReconstructFromNeighbors::add_codes__s.floatCP"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a454b7a5f7437a257df7404f5778fc833"></span>void <code class="sig-name descname">add_codes</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>codes must be added in the correct order and the <a class="reference internal" href="../struct/structfaiss_1_1IndexHNSW.html#structfaiss_1_1IndexHNSW"><span class="std std-ref">IndexHNSW</span></a> must be populated and sorted </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24ReconstructFromNeighbors17compute_distancesE6size_tPK5idx_tPKfPf">
<span id="_CPPv3NK5faiss24ReconstructFromNeighbors17compute_distancesE6size_tPK5idx_tPKfPf"></span><span id="_CPPv2NK5faiss24ReconstructFromNeighbors17compute_distancesE6size_tPK5idx_tPKfPf"></span><span id="faiss::ReconstructFromNeighbors::compute_distances__s.idx_tCP.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1ad4ba74fb24c09e638acccb6d92052e2d"></span>size_t <code class="sig-name descname">compute_distances</code><span class="sig-paren">(</span>size_t <em>n</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighbors5idx_tE" title="faiss::ReconstructFromNeighbors::idx_t">idx_t</a> *<em>shortlist</em>, <em class="property">const</em> float *<em>query</em>, float *<em>distances</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24ReconstructFromNeighbors13estimate_codeEPKf13storage_idx_tP7uint8_t">
<span id="_CPPv3NK5faiss24ReconstructFromNeighbors13estimate_codeEPKf13storage_idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss24ReconstructFromNeighbors13estimate_codeEPKf13storage_idx_tP7uint8_t"></span><span id="faiss::ReconstructFromNeighbors::estimate_code__floatCP.storage_idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a4b4b324ee73095e95c6692a75556f330"></span>void <code class="sig-name descname">estimate_code</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighbors13storage_idx_tE" title="faiss::ReconstructFromNeighbors::storage_idx_t">storage_idx_t</a> <em>i</em>, uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>called by add_codes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24ReconstructFromNeighbors11reconstructE13storage_idx_tPfPf">
<span id="_CPPv3NK5faiss24ReconstructFromNeighbors11reconstructE13storage_idx_tPfPf"></span><span id="_CPPv2NK5faiss24ReconstructFromNeighbors11reconstructE13storage_idx_tPfPf"></span><span id="faiss::ReconstructFromNeighbors::reconstruct__storage_idx_t.floatP.floatPC"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1ae96899a06bd54901f856081d72adef5a"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighbors13storage_idx_tE" title="faiss::ReconstructFromNeighbors::storage_idx_t">storage_idx_t</a> <em>i</em>, float *<em>x</em>, float *<em>tmp</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>called by compute_distances </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24ReconstructFromNeighbors13reconstruct_nE13storage_idx_t13storage_idx_tPf">
<span id="_CPPv3NK5faiss24ReconstructFromNeighbors13reconstruct_nE13storage_idx_t13storage_idx_tPf"></span><span id="_CPPv2NK5faiss24ReconstructFromNeighbors13reconstruct_nE13storage_idx_t13storage_idx_tPf"></span><span id="faiss::ReconstructFromNeighbors::reconstruct_n__storage_idx_t.storage_idx_t.floatPC"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a50275f0f56de60400cee11b039c98339"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighbors13storage_idx_tE" title="faiss::ReconstructFromNeighbors::storage_idx_t">storage_idx_t</a> <em>n0</em>, <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighbors13storage_idx_tE" title="faiss::ReconstructFromNeighbors::storage_idx_t">storage_idx_t</a> <em>ni</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24ReconstructFromNeighbors18get_neighbor_tableE13storage_idx_tPf">
<span id="_CPPv3NK5faiss24ReconstructFromNeighbors18get_neighbor_tableE13storage_idx_tPf"></span><span id="_CPPv2NK5faiss24ReconstructFromNeighbors18get_neighbor_tableE13storage_idx_tPf"></span><span id="faiss::ReconstructFromNeighbors::get_neighbor_table__storage_idx_t.floatPC"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a6c6a4664893430278c7da1f0606d4adf"></span>void <code class="sig-name descname">get_neighbor_table</code><span class="sig-paren">(</span><a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss24ReconstructFromNeighbors13storage_idx_tE" title="faiss::ReconstructFromNeighbors::storage_idx_t">storage_idx_t</a> <em>i</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>get the M+1 -by-d table for neighbor coordinates for vector i </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors5indexE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors5indexE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors5indexE"></span><span id="faiss::ReconstructFromNeighbors::index__IndexHNSWCR"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a14034b43a0743e94ff70fab84fb7a66e"></span><em class="property">const</em> <a class="reference internal" href="../file/IndexHNSW_8h.html#_CPPv4N5faiss9IndexHNSWE" title="faiss::IndexHNSW">IndexHNSW</a> &amp;<code class="sig-name descname">index</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors1ME">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors1ME"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors1ME"></span><span id="faiss::ReconstructFromNeighbors::M__s"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1aa5a61e87d73f40064dd83c22ab94c3cc"></span>size_t <code class="sig-name descname">M</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors1kE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors1kE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors1kE"></span><span id="faiss::ReconstructFromNeighbors::k__s"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a6a2ce9a449053820ce88aff51139805c"></span>size_t <code class="sig-name descname">k</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors3nsqE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors3nsqE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors3nsqE"></span><span id="faiss::ReconstructFromNeighbors::nsq__s"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a9d469402cdcfdfcf45b56e8406259d8b"></span>size_t <code class="sig-name descname">nsq</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors9code_sizeE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors9code_sizeE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors9code_sizeE"></span><span id="faiss::ReconstructFromNeighbors::code_size__s"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1aeae1c3969821123277b203a185362a4a"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors9k_reorderE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors9k_reorderE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors9k_reorderE"></span><span id="faiss::ReconstructFromNeighbors::k_reorder__i"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a6e5003517c06696a00f3e5c6b4bc18f1"></span>int <code class="sig-name descname">k_reorder</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors8codebookE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors8codebookE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors8codebookE"></span><span id="faiss::ReconstructFromNeighbors::codebook__std::vector:float:"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1ad7302ca13df0e8df9860ff649277c037"></span>std::vector&lt;float&gt; <code class="sig-name descname">codebook</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors5codesE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors5codesE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors5codesE"></span><span id="faiss::ReconstructFromNeighbors::codes__std::vector:uint8_t:"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1af9cf27d32e77ed1768ec3de7485e56ee"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">codes</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors6ntotalE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors6ntotalE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors6ntotalE"></span><span id="faiss::ReconstructFromNeighbors::ntotal__s"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a4ed30d9a18a0d68c84a14ded6b91eba3"></span>size_t <code class="sig-name descname">ntotal</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors1dE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors1dE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors1dE"></span><span id="faiss::ReconstructFromNeighbors::d__s"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1aef8405a7dd11023f29f9a759ca900e5d"></span>size_t <code class="sig-name descname">d</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24ReconstructFromNeighbors4dsubE">
<span id="_CPPv3N5faiss24ReconstructFromNeighbors4dsubE"></span><span id="_CPPv2N5faiss24ReconstructFromNeighbors4dsubE"></span><span id="faiss::ReconstructFromNeighbors::dsub__s"></span><span class="target" id="structfaiss_1_1ReconstructFromNeighbors_1a108b1d722af230240f7092b3fc371a12"></span>size_t <code class="sig-name descname">dsub</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss24RemapDimensionsTransformE">
<span id="_CPPv3N5faiss24RemapDimensionsTransformE"></span><span id="_CPPv2N5faiss24RemapDimensionsTransformE"></span><span id="faiss::RemapDimensionsTransform"></span><span class="target" id="structfaiss_1_1RemapDimensionsTransform"></span><em class="property">struct </em><code class="sig-name descname">RemapDimensionsTransform</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>remap dimensions for intput vectors, possibly inserting 0s strictly speaking this is also a linear transform but we donât want to compute it with matrix multiplies </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform5idx_tE">
<span id="_CPPv3N5faiss24RemapDimensionsTransform5idx_tE"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform5idx_tE"></span><span id="faiss::RemapDimensionsTransform::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEiiPKi">
<span id="_CPPv3N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEiiPKi"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEiiPKi"></span><span id="faiss::RemapDimensionsTransform::RemapDimensionsTransform__i.i.iCP"></span><span class="target" id="structfaiss_1_1RemapDimensionsTransform_1ac8253ba2e8bbe4c67cdc7c2d53443394"></span><code class="sig-name descname">RemapDimensionsTransform</code><span class="sig-paren">(</span>int <em>d_in</em>, int <em>d_out</em>, <em class="property">const</em> int *<em>map</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEiib">
<span id="_CPPv3N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEiib"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEiib"></span><span id="faiss::RemapDimensionsTransform::RemapDimensionsTransform__i.i.b"></span><span class="target" id="structfaiss_1_1RemapDimensionsTransform_1a9d0b75731ea2b7cc46c40ee5afe94b14"></span><code class="sig-name descname">RemapDimensionsTransform</code><span class="sig-paren">(</span>int <em>d_in</em>, int <em>d_out</em>, bool <em>uniform</em> = true<span class="sig-paren">)</span><br /></dt>
<dd><p>remap input to output, skipping or inserting dimensions as needed if uniform: distribute dimensions uniformly otherwise just take the d_out first ones. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24RemapDimensionsTransform13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss24RemapDimensionsTransform13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss24RemapDimensionsTransform13apply_noallocE5idx_tPKfPf"></span><span id="faiss::RemapDimensionsTransform::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1RemapDimensionsTransform_1aa3028183624634f5ab0d7d3fe78ffa9e"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss24RemapDimensionsTransform5idx_tE" title="faiss::RemapDimensionsTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24RemapDimensionsTransform17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss24RemapDimensionsTransform17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss24RemapDimensionsTransform17reverse_transformE5idx_tPKfPf"></span><span id="faiss::RemapDimensionsTransform::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1RemapDimensionsTransform_1ac94a16755e3eb8693547f3a7ae90cec3"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss24RemapDimensionsTransform5idx_tE" title="faiss::RemapDimensionsTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>reverse transform correct only when the mapping is a permutation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEv">
<span id="_CPPv3N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEv"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform24RemapDimensionsTransformEv"></span><span id="faiss::RemapDimensionsTransform::RemapDimensionsTransform"></span><span class="target" id="structfaiss_1_1RemapDimensionsTransform_1a7b23aeea127c7be06165b3da983f6a85"></span><code class="sig-name descname">RemapDimensionsTransform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform5trainE5idx_tPKf">
<span id="_CPPv3N5faiss24RemapDimensionsTransform5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform5trainE5idx_tPKf"></span><span id="faiss::RemapDimensionsTransform::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab781e04a6c8afe04689b3fc64be512d5"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss24RemapDimensionsTransform5idx_tE" title="faiss::RemapDimensionsTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors. Does nothing by default.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss24RemapDimensionsTransform5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss24RemapDimensionsTransform5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss24RemapDimensionsTransform5applyE5idx_tPKf"></span><span id="faiss::RemapDimensionsTransform::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss24RemapDimensionsTransform5idx_tE" title="faiss::RemapDimensionsTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform3mapE">
<span id="_CPPv3N5faiss24RemapDimensionsTransform3mapE"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform3mapE"></span><span id="faiss::RemapDimensionsTransform::map__std::vector:i:"></span><span class="target" id="structfaiss_1_1RemapDimensionsTransform_1a09202a195ff5f75f83e68792751a637f"></span>std::vector&lt;int&gt; <code class="sig-name descname">map</code><br /></dt>
<dd><p>map from output dimension to input, size d_out -1 -&gt; set output to 0 </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform4d_inE">
<span id="_CPPv3N5faiss24RemapDimensionsTransform4d_inE"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform4d_inE"></span><span id="faiss::RemapDimensionsTransform::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform5d_outE">
<span id="_CPPv3N5faiss24RemapDimensionsTransform5d_outE"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform5d_outE"></span><span id="faiss::RemapDimensionsTransform::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss24RemapDimensionsTransform10is_trainedE">
<span id="_CPPv3N5faiss24RemapDimensionsTransform10is_trainedE"></span><span id="_CPPv2N5faiss24RemapDimensionsTransform10is_trainedE"></span><span id="faiss::RemapDimensionsTransform::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss12simd16uint16E">
<span id="_CPPv3N5faiss12simd16uint16E"></span><span id="_CPPv2N5faiss12simd16uint16E"></span><span id="faiss::simd16uint16"></span><span class="target" id="structfaiss_1_1simd16uint16"></span><em class="property">struct </em><code class="sig-name descname">simd16uint16</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a><br /></dt>
<dd><em>#include &lt;simdlib_avx2.h&gt;</em><p>vector of 16 elements in uint16 </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint1612simd16uint16Ev">
<span id="_CPPv3N5faiss12simd16uint1612simd16uint16Ev"></span><span id="_CPPv2N5faiss12simd16uint1612simd16uint16Ev"></span><span id="faiss::simd16uint16::simd16uint16"></span><span class="target" id="structfaiss_1_1simd16uint16_1a3547dd39bb0c4bab633bb29706a7fbea"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint1612simd16uint16E7__m256i">
<span id="_CPPv3N5faiss12simd16uint1612simd16uint16E7__m256i"></span><span id="_CPPv2N5faiss12simd16uint1612simd16uint16E7__m256i"></span><span id="faiss::simd16uint16::simd16uint16____m256i"></span><span class="target" id="structfaiss_1_1simd16uint16_1a9f1a895a1616aff805c44192aec50063"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span>__m256i <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint1612simd16uint16Ei">
<span id="_CPPv3N5faiss12simd16uint1612simd16uint16Ei"></span><span id="_CPPv2N5faiss12simd16uint1612simd16uint16Ei"></span><span id="faiss::simd16uint16::simd16uint16__i"></span><span class="target" id="structfaiss_1_1simd16uint16_1a35d2938ab0d0dabd62e3c8e853382f37"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span>int <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint1612simd16uint16E8uint16_t">
<span id="_CPPv3N5faiss12simd16uint1612simd16uint16E8uint16_t"></span><span id="_CPPv2N5faiss12simd16uint1612simd16uint16E8uint16_t"></span><span id="faiss::simd16uint16::simd16uint16__uint16_t"></span><span class="target" id="structfaiss_1_1simd16uint16_1a272eec70c6afc37de09319871deeb62b"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span>uint16_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint1612simd16uint16E10simd256bit">
<span id="_CPPv3N5faiss12simd16uint1612simd16uint16E10simd256bit"></span><span id="_CPPv2N5faiss12simd16uint1612simd16uint16E10simd256bit"></span><span id="faiss::simd16uint16::simd16uint16__simd256bit"></span><span class="target" id="structfaiss_1_1simd16uint16_1ac93f95d3a1479db25cccb8e463c481f8"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint1612simd16uint16EPK8uint16_t">
<span id="_CPPv3N5faiss12simd16uint1612simd16uint16EPK8uint16_t"></span><span id="_CPPv2N5faiss12simd16uint1612simd16uint16EPK8uint16_t"></span><span id="faiss::simd16uint16::simd16uint16__uint16_tCP"></span><span class="target" id="structfaiss_1_1simd16uint16_1a0c40372cb284afc9298708cfe83af617"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span><em class="property">const</em> uint16_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint1618elements_to_stringEPKc">
<span id="_CPPv3NK5faiss12simd16uint1618elements_to_stringEPKc"></span><span id="_CPPv2NK5faiss12simd16uint1618elements_to_stringEPKc"></span><span id="faiss::simd16uint16::elements_to_string__cCPC"></span><span class="target" id="structfaiss_1_1simd16uint16_1aef0543938a8157a759304c988e700aba"></span>std::string <code class="sig-name descname">elements_to_string</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fmt</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint163hexEv">
<span id="_CPPv3NK5faiss12simd16uint163hexEv"></span><span id="_CPPv2NK5faiss12simd16uint163hexEv"></span><span id="faiss::simd16uint16::hexC"></span><span class="target" id="structfaiss_1_1simd16uint16_1ab146955ce5866305af89821dfd255775"></span>std::string <code class="sig-name descname">hex</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint163decEv">
<span id="_CPPv3NK5faiss12simd16uint163decEv"></span><span id="_CPPv2NK5faiss12simd16uint163decEv"></span><span id="faiss::simd16uint16::decC"></span><span class="target" id="structfaiss_1_1simd16uint16_1a15b3195fa088ad30d6f9d712beeb54e0"></span>std::string <code class="sig-name descname">dec</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint164set1E8uint16_t">
<span id="_CPPv3N5faiss12simd16uint164set1E8uint16_t"></span><span id="_CPPv2N5faiss12simd16uint164set1E8uint16_t"></span><span id="faiss::simd16uint16::set1__uint16_t"></span><span class="target" id="structfaiss_1_1simd16uint16_1a6b42c729fb49ee838c9d10dea0aafede"></span>void <code class="sig-name descname">set1</code><span class="sig-paren">(</span>uint16_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16rsEKi">
<span id="_CPPv3NK5faiss12simd16uint16rsEKi"></span><span id="_CPPv2NK5faiss12simd16uint16rsEKi"></span><span id="faiss::simd16uint16::rshift-operator__iCC"></span><span class="target" id="structfaiss_1_1simd16uint16_1a9cc47e261e7a5d0d2f92f23159d39962"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator&gt;&gt;</code><span class="sig-paren">(</span><em class="property">const</em> int <em>shift</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16lsEKi">
<span id="_CPPv3NK5faiss12simd16uint16lsEKi"></span><span id="_CPPv2NK5faiss12simd16uint16lsEKi"></span><span id="faiss::simd16uint16::lshift-operator__iCC"></span><span class="target" id="structfaiss_1_1simd16uint16_1a37ec43cf3b69ff03a5179c26d0c35a37"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator&lt;&lt;</code><span class="sig-paren">(</span><em class="property">const</em> int <em>shift</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint16pLE12simd16uint16">
<span id="_CPPv3N5faiss12simd16uint16pLE12simd16uint16"></span><span id="_CPPv2N5faiss12simd16uint16pLE12simd16uint16"></span><span id="faiss::simd16uint16::add-assign-operator__simd16uint16"></span><span class="target" id="structfaiss_1_1simd16uint16_1ae0a837136abadaead1500c68436f7138"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator+=</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint16mIE12simd16uint16">
<span id="_CPPv3N5faiss12simd16uint16mIE12simd16uint16"></span><span id="_CPPv2N5faiss12simd16uint16mIE12simd16uint16"></span><span id="faiss::simd16uint16::sub-assign-operator__simd16uint16"></span><span class="target" id="structfaiss_1_1simd16uint16_1aa676f9e0e5d37679f277d41f7c7f83fe"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator-=</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16plE12simd16uint16">
<span id="_CPPv3NK5faiss12simd16uint16plE12simd16uint16"></span><span id="_CPPv2NK5faiss12simd16uint16plE12simd16uint16"></span><span id="faiss::simd16uint16::add-operator__simd16uint16C"></span><span class="target" id="structfaiss_1_1simd16uint16_1a0f93d38a2f5d3be0f20d67c83a9bbd5f"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator+</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16miE12simd16uint16">
<span id="_CPPv3NK5faiss12simd16uint16miE12simd16uint16"></span><span id="_CPPv2NK5faiss12simd16uint16miE12simd16uint16"></span><span id="faiss::simd16uint16::sub-operator__simd16uint16C"></span><span class="target" id="structfaiss_1_1simd16uint16_1a6d2d684064a30e4abed588f4e905d269"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator-</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16anE10simd256bit">
<span id="_CPPv3NK5faiss12simd16uint16anE10simd256bit"></span><span id="_CPPv2NK5faiss12simd16uint16anE10simd256bit"></span><span id="faiss::simd16uint16::and-operator__simd256bitC"></span><span class="target" id="structfaiss_1_1simd16uint16_1a5f51171ec82109ad8f5c9bc7175a286b"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator&amp;</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16orE10simd256bit">
<span id="_CPPv3NK5faiss12simd16uint16orE10simd256bit"></span><span id="_CPPv2NK5faiss12simd16uint16orE10simd256bit"></span><span id="faiss::simd16uint16::or-operator__simd256bitC"></span><span class="target" id="structfaiss_1_1simd16uint16_1a2b2d70d950af35b865d4689eef341daa"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator|</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16eqE10simd256bit">
<span id="_CPPv3NK5faiss12simd16uint16eqE10simd256bit"></span><span id="_CPPv2NK5faiss12simd16uint16eqE10simd256bit"></span><span id="faiss::simd16uint16::eq-operator__simd256bitC"></span><span class="target" id="structfaiss_1_1simd16uint16_1aad122575768011e04cf9e6901cef4448"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator==</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16coEv">
<span id="_CPPv3NK5faiss12simd16uint16coEv"></span><span id="_CPPv2NK5faiss12simd16uint16coEv"></span><span id="faiss::simd16uint16::inv-operatorC"></span><span class="target" id="structfaiss_1_1simd16uint16_1ac50c11751c0043f3a8232855a85982c5"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator~</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint1612get_scalar_0Ev">
<span id="_CPPv3NK5faiss12simd16uint1612get_scalar_0Ev"></span><span id="_CPPv2NK5faiss12simd16uint1612get_scalar_0Ev"></span><span id="faiss::simd16uint16::get_scalar_0C"></span><span class="target" id="structfaiss_1_1simd16uint16_1ae67c5d5d9daf09fa311013b44b7d2dbe"></span>uint16_t <code class="sig-name descname">get_scalar_0</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint167ge_maskE12simd16uint16">
<span id="_CPPv3NK5faiss12simd16uint167ge_maskE12simd16uint16"></span><span id="_CPPv2NK5faiss12simd16uint167ge_maskE12simd16uint16"></span><span id="faiss::simd16uint16::ge_mask__simd16uint16C"></span><span class="target" id="structfaiss_1_1simd16uint16_1aef7875d3071703dc6f2b0f3f3d6f798f"></span>uint32_t <code class="sig-name descname">ge_mask</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thresh</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint167le_maskE12simd16uint16">
<span id="_CPPv3NK5faiss12simd16uint167le_maskE12simd16uint16"></span><span id="_CPPv2NK5faiss12simd16uint167le_maskE12simd16uint16"></span><span id="faiss::simd16uint16::le_mask__simd16uint16C"></span><span class="target" id="structfaiss_1_1simd16uint16_1acdf47e395b385e4e3f84b012e0453903"></span>uint32_t <code class="sig-name descname">le_mask</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thresh</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint167gt_maskE12simd16uint16">
<span id="_CPPv3NK5faiss12simd16uint167gt_maskE12simd16uint16"></span><span id="_CPPv2NK5faiss12simd16uint167gt_maskE12simd16uint16"></span><span id="faiss::simd16uint16::gt_mask__simd16uint16C"></span><span class="target" id="structfaiss_1_1simd16uint16_1aecb5742af06f6598c2426577ddec8bd0"></span>uint32_t <code class="sig-name descname">gt_mask</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thresh</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint166all_gtE12simd16uint16">
<span id="_CPPv3NK5faiss12simd16uint166all_gtE12simd16uint16"></span><span id="_CPPv2NK5faiss12simd16uint166all_gtE12simd16uint16"></span><span id="faiss::simd16uint16::all_gt__simd16uint16C"></span><span class="target" id="structfaiss_1_1simd16uint16_1aa4aa63f98a9c0dfef806737ec8f0724f"></span>bool <code class="sig-name descname">all_gt</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thresh</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16ixEi">
<span id="_CPPv3NK5faiss12simd16uint16ixEi"></span><span id="_CPPv2NK5faiss12simd16uint16ixEi"></span><span id="faiss::simd16uint16::subscript-operator__iC"></span><span class="target" id="structfaiss_1_1simd16uint16_1aa8ec1f70e981766e7910aa809987a895"></span>uint16_t <code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint168accu_minE12simd16uint16">
<span id="_CPPv3N5faiss12simd16uint168accu_minE12simd16uint16"></span><span id="_CPPv2N5faiss12simd16uint168accu_minE12simd16uint16"></span><span id="faiss::simd16uint16::accu_min__simd16uint16"></span><span class="target" id="structfaiss_1_1simd16uint16_1acc920103a773f48241f39282aa489e81"></span>void <code class="sig-name descname">accu_min</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>incoming</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint168accu_maxE12simd16uint16">
<span id="_CPPv3N5faiss12simd16uint168accu_maxE12simd16uint16"></span><span id="_CPPv2N5faiss12simd16uint168accu_maxE12simd16uint16"></span><span id="faiss::simd16uint16::accu_max__simd16uint16"></span><span class="target" id="structfaiss_1_1simd16uint16_1a54f21f3123c9a87e49da22c9105cfa31"></span>void <code class="sig-name descname">accu_max</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>incoming</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a3547dd39bb0c4bab633bb29706a7fbea"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a35d2938ab0d0dabd62e3c8e853382f37"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span>int <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a272eec70c6afc37de09319871deeb62b"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span>uint16_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1ac93f95d3a1479db25cccb8e463c481f8"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a0c40372cb284afc9298708cfe83af617"></span><code class="sig-name descname">simd16uint16</code><span class="sig-paren">(</span><em class="property">const</em> uint16_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1aef0543938a8157a759304c988e700aba"></span>std::string <code class="sig-name descname">elements_to_string</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fmt</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1ab146955ce5866305af89821dfd255775"></span>std::string <code class="sig-name descname">hex</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a15b3195fa088ad30d6f9d712beeb54e0"></span>std::string <code class="sig-name descname">dec</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a6b42c729fb49ee838c9d10dea0aafede"></span>void <code class="sig-name descname">set1</code><span class="sig-paren">(</span>uint16_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a9cc47e261e7a5d0d2f92f23159d39962"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator&gt;&gt;</code><span class="sig-paren">(</span><em class="property">const</em> int <em>shift</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a37ec43cf3b69ff03a5179c26d0c35a37"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator&lt;&lt;</code><span class="sig-paren">(</span><em class="property">const</em> int <em>shift</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1ae0a837136abadaead1500c68436f7138"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator+=</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1aa676f9e0e5d37679f277d41f7c7f83fe"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator-=</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a0f93d38a2f5d3be0f20d67c83a9bbd5f"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator+</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a6d2d684064a30e4abed588f4e905d269"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator-</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a5f51171ec82109ad8f5c9bc7175a286b"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator&amp;</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a2b2d70d950af35b865d4689eef341daa"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator|</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint16eqE12simd16uint16">
<span id="_CPPv3NK5faiss12simd16uint16eqE12simd16uint16"></span><span id="_CPPv2NK5faiss12simd16uint16eqE12simd16uint16"></span><span id="faiss::simd16uint16::eq-operator__simd16uint16C"></span><span class="target" id="structfaiss_1_1simd16uint16_1adba6c3ab9355b0934114abbb080faf4e"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator==</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss12simd16uint16eqE12simd16uint16" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1ac50c11751c0043f3a8232855a85982c5"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">operator~</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1ae67c5d5d9daf09fa311013b44b7d2dbe"></span>uint16_t <code class="sig-name descname">get_scalar_0</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1aef7875d3071703dc6f2b0f3f3d6f798f"></span>uint32_t <code class="sig-name descname">ge_mask</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thresh</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1acdf47e395b385e4e3f84b012e0453903"></span>uint32_t <code class="sig-name descname">le_mask</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thresh</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1aecb5742af06f6598c2426577ddec8bd0"></span>uint32_t <code class="sig-name descname">gt_mask</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thresh</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1aa4aa63f98a9c0dfef806737ec8f0724f"></span>bool <code class="sig-name descname">all_gt</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>thresh</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1aa8ec1f70e981766e7910aa809987a895"></span>uint16_t <code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1acc920103a773f48241f39282aa489e81"></span>void <code class="sig-name descname">accu_min</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>incoming</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd16uint16_1a54f21f3123c9a87e49da22c9105cfa31"></span>void <code class="sig-name descname">accu_max</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>incoming</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint165clearEv">
<span id="_CPPv3N5faiss12simd16uint165clearEv"></span><span id="_CPPv2N5faiss12simd16uint165clearEv"></span><span id="faiss::simd16uint16::clear"></span><span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint166storeuEPv">
<span id="_CPPv3NK5faiss12simd16uint166storeuEPv"></span><span id="_CPPv2NK5faiss12simd16uint166storeuEPv"></span><span id="faiss::simd16uint16::storeu__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint165loaduEPKv">
<span id="_CPPv3N5faiss12simd16uint165loaduEPKv"></span><span id="_CPPv2N5faiss12simd16uint165loaduEPKv"></span><span id="faiss::simd16uint16::loadu__voidCP"></span><span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint165storeEPv">
<span id="_CPPv3NK5faiss12simd16uint165storeEPv"></span><span id="_CPPv2NK5faiss12simd16uint165storeEPv"></span><span id="faiss::simd16uint16::store__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint163binEAL257E_c">
<span id="_CPPv3NK5faiss12simd16uint163binEAL257E_c"></span><span id="_CPPv2NK5faiss12simd16uint163binEA257_c"></span><span id="faiss::simd16uint16::bin__cAC"></span><span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd16uint163binEv">
<span id="_CPPv3NK5faiss12simd16uint163binEv"></span><span id="_CPPv2NK5faiss12simd16uint163binEv"></span><span id="faiss::simd16uint16::binC"></span><span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd16uint161iE">
<span id="_CPPv3N5faiss12simd16uint161iE"></span><span id="_CPPv2N5faiss12simd16uint161iE"></span><span id="faiss::simd16uint16::i____m256i"></span><span class="target" id="structfaiss_1_1simd256bit_1a0061ab97fb706619dbb1db084d89c57e"></span>__m256i <code class="sig-name descname">i</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd16uint161fE">
<span id="_CPPv3N5faiss12simd16uint161fE"></span><span id="_CPPv2N5faiss12simd16uint161fE"></span><span id="faiss::simd16uint16::f____m256"></span><span class="target" id="structfaiss_1_1simd256bit_1a745d258c489056abcb18de77d04dc7da"></span>__m256 <code class="sig-name descname">f</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd16uint16Ut1_1E">
<span id="_CPPv3N5faiss12simd16uint16Ut1_1E"></span><span class="target" id="structfaiss_1_1simd256bit_1a1142cc58e944c92c58668dffee8d0aeb"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd16uint162u8E">
<span id="_CPPv3N5faiss12simd16uint162u8E"></span><span id="_CPPv2N5faiss12simd16uint162u8E"></span><span id="faiss::simd16uint16::u8__uint8_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1acb1ccdc5222ee156bacdc10a5f94d736"></span>uint8_t <code class="sig-name descname">u8</code>[32]<a class="headerlink" href="#_CPPv4N5faiss12simd16uint162u8E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd16uint163u16E">
<span id="_CPPv3N5faiss12simd16uint163u16E"></span><span id="_CPPv2N5faiss12simd16uint163u16E"></span><span id="faiss::simd16uint16::u16__uint16_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1ae1a0c5c5a086370f21a346bd20e2b378"></span>uint16_t <code class="sig-name descname">u16</code>[16]<a class="headerlink" href="#_CPPv4N5faiss12simd16uint163u16E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd16uint163u32E">
<span id="_CPPv3N5faiss12simd16uint163u32E"></span><span id="_CPPv2N5faiss12simd16uint163u32E"></span><span id="faiss::simd16uint16::u32__uint32_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1aa68a3cf73ecbc73107a720e8c3f1d25c"></span>uint32_t <code class="sig-name descname">u32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss12simd16uint163u32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd16uint163f32E">
<span id="_CPPv3N5faiss12simd16uint163f32E"></span><span id="_CPPv2N5faiss12simd16uint163f32E"></span><span id="faiss::simd16uint16::f32__floatA"></span><span class="target" id="structfaiss_1_1simd256bit_1a73b7c0cc868d44cc02c58688977ba4a7"></span>float <code class="sig-name descname">f32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss12simd16uint163f32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd16uint16Ut1_3E">
<span id="_CPPv3N5faiss12simd16uint16Ut1_3E"></span><span class="target" id="structfaiss_1_1simd256bit_1a41568f363b0e4ca2f7772717a68f40e2"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><a class="headerlink" href="#_CPPv4N5faiss12simd16uint16Ut1_3E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint1610unary_funcE12simd16uint16NSt8functionIF8uint16_t8uint16_tEEE">
<span id="_CPPv3N5faiss12simd16uint1610unary_funcE12simd16uint16NSt8functionIF8uint16_t8uint16_tEEE"></span><span id="_CPPv2N5faiss12simd16uint1610unary_funcE12simd16uint16NSt8functionIF8uint16_t8uint16_tEEE"></span><span class="target" id="structfaiss_1_1simd16uint16_1a773649473d770813d1319663eef343ca"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">unary_func</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>a</em>, std::function&lt;uint16_t<span class="sig-paren">(</span>uint16_t<span class="sig-paren">)</span>&gt; <em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12simd16uint1610unary_funcE12simd16uint16NSt8functionIF8uint16_t8uint16_tEEE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd16uint1611binary_funcE12simd16uint1612simd16uint16NSt8functionIF8uint16_t8uint16_t8uint16_tEEE">
<span id="_CPPv3N5faiss12simd16uint1611binary_funcE12simd16uint1612simd16uint16NSt8functionIF8uint16_t8uint16_t8uint16_tEEE"></span><span id="_CPPv2N5faiss12simd16uint1611binary_funcE12simd16uint1612simd16uint16NSt8functionIF8uint16_t8uint16_t8uint16_tEEE"></span><span class="target" id="structfaiss_1_1simd16uint16_1aaa29eec8de15800ff79a2828083ae733"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">binary_func</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <em>b</em>, std::function&lt;uint16_t<span class="sig-paren">(</span>uint16_t, uint16_t<span class="sig-paren">)</span>&gt; <em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12simd16uint1611binary_funcE12simd16uint1612simd16uint16NSt8functionIF8uint16_t8uint16_t8uint16_tEEE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss10simd256bitE">
<span id="_CPPv3N5faiss10simd256bitE"></span><span id="_CPPv2N5faiss10simd256bitE"></span><span id="faiss::simd256bit"></span><span class="target" id="structfaiss_1_1simd256bit"></span><em class="property">struct </em><code class="sig-name descname">simd256bit</code><br /></dt>
<dd><em>#include &lt;simdlib_avx2.h&gt;</em><p>256-bit representation without interpretation as a vector </p>
<p>Simple wrapper around the AVX 256-bit registers</p>
<p>The objective is to separate the different interpretations of the same registers (as a vector of uint8, uint16 or uint32), to provide printing functions, and to give more readable names to the AVX intrinsics. It does not pretend to be exhausitve, functions are added as needed. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1simd16uint16.html#structfaiss_1_1simd16uint16"><span class="std std-ref">faiss::simd16uint16</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1simd16uint16.html#structfaiss_1_1simd16uint16"><span class="std std-ref">faiss::simd16uint16</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1simd32uint8.html#structfaiss_1_1simd32uint8"><span class="std std-ref">faiss::simd32uint8</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1simd32uint8.html#structfaiss_1_1simd32uint8"><span class="std std-ref">faiss::simd32uint8</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1simd8float32.html#structfaiss_1_1simd8float32"><span class="std std-ref">faiss::simd8float32</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1simd8float32.html#structfaiss_1_1simd8float32"><span class="std std-ref">faiss::simd8float32</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1simd8uint32.html#structfaiss_1_1simd8uint32"><span class="std std-ref">faiss::simd8uint32</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1simd8uint32.html#structfaiss_1_1simd8uint32"><span class="std std-ref">faiss::simd8uint32</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss10simd256bit10simd256bitEv">
<span id="_CPPv3N5faiss10simd256bit10simd256bitEv"></span><span id="_CPPv2N5faiss10simd256bit10simd256bitEv"></span><span id="faiss::simd256bit::simd256bit"></span><span class="target" id="structfaiss_1_1simd256bit_1a7c98ba53fe0ec7eca4deb7ce4e47f20a"></span><code class="sig-name descname">simd256bit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10simd256bit10simd256bitE7__m256i">
<span id="_CPPv3N5faiss10simd256bit10simd256bitE7__m256i"></span><span id="_CPPv2N5faiss10simd256bit10simd256bitE7__m256i"></span><span id="faiss::simd256bit::simd256bit____m256i"></span><span class="target" id="structfaiss_1_1simd256bit_1a26e2b4465abb0656c42798b34d099ff9"></span><code class="sig-name descname">simd256bit</code><span class="sig-paren">(</span>__m256i <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10simd256bit10simd256bitE6__m256">
<span id="_CPPv3N5faiss10simd256bit10simd256bitE6__m256"></span><span id="_CPPv2N5faiss10simd256bit10simd256bitE6__m256"></span><span id="faiss::simd256bit::simd256bit____m256"></span><span class="target" id="structfaiss_1_1simd256bit_1addeecdb12ca2085ffc347894adfa1eff"></span><code class="sig-name descname">simd256bit</code><span class="sig-paren">(</span>__m256 <em>f</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10simd256bit10simd256bitEPKv">
<span id="_CPPv3N5faiss10simd256bit10simd256bitEPKv"></span><span id="_CPPv2N5faiss10simd256bit10simd256bitEPKv"></span><span id="faiss::simd256bit::simd256bit__voidCP"></span><span class="target" id="structfaiss_1_1simd256bit_1a68ba432289b25674f585043831580fb9"></span><code class="sig-name descname">simd256bit</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10simd256bit5clearEv">
<span id="_CPPv3N5faiss10simd256bit5clearEv"></span><span id="_CPPv2N5faiss10simd256bit5clearEv"></span><span id="faiss::simd256bit::clear"></span><span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10simd256bit6storeuEPv">
<span id="_CPPv3NK5faiss10simd256bit6storeuEPv"></span><span id="_CPPv2NK5faiss10simd256bit6storeuEPv"></span><span id="faiss::simd256bit::storeu__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss10simd256bit5loaduEPKv">
<span id="_CPPv3N5faiss10simd256bit5loaduEPKv"></span><span id="_CPPv2N5faiss10simd256bit5loaduEPKv"></span><span id="faiss::simd256bit::loadu__voidCP"></span><span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10simd256bit5storeEPv">
<span id="_CPPv3NK5faiss10simd256bit5storeEPv"></span><span id="_CPPv2NK5faiss10simd256bit5storeEPv"></span><span id="faiss::simd256bit::store__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10simd256bit3binEAL257E_c">
<span id="_CPPv3NK5faiss10simd256bit3binEAL257E_c"></span><span id="_CPPv2NK5faiss10simd256bit3binEA257_c"></span><span id="faiss::simd256bit::bin__cAC"></span><span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss10simd256bit3binEv">
<span id="_CPPv3NK5faiss10simd256bit3binEv"></span><span id="_CPPv2NK5faiss10simd256bit3binEv"></span><span id="faiss::simd256bit::binC"></span><span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a7c98ba53fe0ec7eca4deb7ce4e47f20a"></span><code class="sig-name descname">simd256bit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a68ba432289b25674f585043831580fb9"></span><code class="sig-name descname">simd256bit</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss10simd256bit1iE">
<span id="_CPPv3N5faiss10simd256bit1iE"></span><span id="_CPPv2N5faiss10simd256bit1iE"></span><span id="faiss::simd256bit::i____m256i"></span><span class="target" id="structfaiss_1_1simd256bit_1a0061ab97fb706619dbb1db084d89c57e"></span>__m256i <code class="sig-name descname">i</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10simd256bit1fE">
<span id="_CPPv3N5faiss10simd256bit1fE"></span><span id="_CPPv2N5faiss10simd256bit1fE"></span><span id="faiss::simd256bit::f____m256"></span><span class="target" id="structfaiss_1_1simd256bit_1a745d258c489056abcb18de77d04dc7da"></span>__m256 <code class="sig-name descname">f</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10simd256bitUt1_1E">
<span id="_CPPv3N5faiss10simd256bitUt1_1E"></span><span class="target" id="structfaiss_1_1simd256bit_1a1142cc58e944c92c58668dffee8d0aeb"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10simd256bit2u8E">
<span id="_CPPv3N5faiss10simd256bit2u8E"></span><span id="_CPPv2N5faiss10simd256bit2u8E"></span><span id="faiss::simd256bit::u8__uint8_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1acb1ccdc5222ee156bacdc10a5f94d736"></span>uint8_t <code class="sig-name descname">u8</code>[32]<a class="headerlink" href="#_CPPv4N5faiss10simd256bit2u8E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10simd256bit3u16E">
<span id="_CPPv3N5faiss10simd256bit3u16E"></span><span id="_CPPv2N5faiss10simd256bit3u16E"></span><span id="faiss::simd256bit::u16__uint16_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1ae1a0c5c5a086370f21a346bd20e2b378"></span>uint16_t <code class="sig-name descname">u16</code>[16]<a class="headerlink" href="#_CPPv4N5faiss10simd256bit3u16E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10simd256bit3u32E">
<span id="_CPPv3N5faiss10simd256bit3u32E"></span><span id="_CPPv2N5faiss10simd256bit3u32E"></span><span id="faiss::simd256bit::u32__uint32_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1aa68a3cf73ecbc73107a720e8c3f1d25c"></span>uint32_t <code class="sig-name descname">u32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss10simd256bit3u32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10simd256bit3f32E">
<span id="_CPPv3N5faiss10simd256bit3f32E"></span><span id="_CPPv2N5faiss10simd256bit3f32E"></span><span id="faiss::simd256bit::f32__floatA"></span><span class="target" id="structfaiss_1_1simd256bit_1a73b7c0cc868d44cc02c58688977ba4a7"></span>float <code class="sig-name descname">f32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss10simd256bit3f32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss10simd256bitUt1_3E">
<span id="_CPPv3N5faiss10simd256bitUt1_3E"></span><span class="target" id="structfaiss_1_1simd256bit_1a41568f363b0e4ca2f7772717a68f40e2"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><a class="headerlink" href="#_CPPv4N5faiss10simd256bitUt1_3E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11simd32uint8E">
<span id="_CPPv3N5faiss11simd32uint8E"></span><span id="_CPPv2N5faiss11simd32uint8E"></span><span id="faiss::simd32uint8"></span><span class="target" id="structfaiss_1_1simd32uint8"></span><em class="property">struct </em><code class="sig-name descname">simd32uint8</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint811simd32uint8Ev">
<span id="_CPPv3N5faiss11simd32uint811simd32uint8Ev"></span><span id="_CPPv2N5faiss11simd32uint811simd32uint8Ev"></span><span id="faiss::simd32uint8::simd32uint8"></span><span class="target" id="structfaiss_1_1simd32uint8_1af050f5b54ede870a1d6add3b089d2d42"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint811simd32uint8E7__m256i">
<span id="_CPPv3N5faiss11simd32uint811simd32uint8E7__m256i"></span><span id="_CPPv2N5faiss11simd32uint811simd32uint8E7__m256i"></span><span id="faiss::simd32uint8::simd32uint8____m256i"></span><span class="target" id="structfaiss_1_1simd32uint8_1a4eab8c7033bde28909f663d9e8915398"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span>__m256i <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint811simd32uint8Ei">
<span id="_CPPv3N5faiss11simd32uint811simd32uint8Ei"></span><span id="_CPPv2N5faiss11simd32uint811simd32uint8Ei"></span><span id="faiss::simd32uint8::simd32uint8__i"></span><span class="target" id="structfaiss_1_1simd32uint8_1a44349183b73ea0564729eb2283445a2c"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span>int <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint811simd32uint8E7uint8_t">
<span id="_CPPv3N5faiss11simd32uint811simd32uint8E7uint8_t"></span><span id="_CPPv2N5faiss11simd32uint811simd32uint8E7uint8_t"></span><span id="faiss::simd32uint8::simd32uint8__uint8_t"></span><span class="target" id="structfaiss_1_1simd32uint8_1aacac602e6ae5847325cd03a6f4fd5f25"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span>uint8_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint811simd32uint8E10simd256bit">
<span id="_CPPv3N5faiss11simd32uint811simd32uint8E10simd256bit"></span><span id="_CPPv2N5faiss11simd32uint811simd32uint8E10simd256bit"></span><span id="faiss::simd32uint8::simd32uint8__simd256bit"></span><span class="target" id="structfaiss_1_1simd32uint8_1a1701b6547afb41377eec42d2dd5c1d5d"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint811simd32uint8EPK7uint8_t">
<span id="_CPPv3N5faiss11simd32uint811simd32uint8EPK7uint8_t"></span><span id="_CPPv2N5faiss11simd32uint811simd32uint8EPK7uint8_t"></span><span id="faiss::simd32uint8::simd32uint8__uint8_tCP"></span><span class="target" id="structfaiss_1_1simd32uint8_1a963006a6994282e956e4ada482d0cf94"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint818elements_to_stringEPKc">
<span id="_CPPv3NK5faiss11simd32uint818elements_to_stringEPKc"></span><span id="_CPPv2NK5faiss11simd32uint818elements_to_stringEPKc"></span><span id="faiss::simd32uint8::elements_to_string__cCPC"></span><span class="target" id="structfaiss_1_1simd32uint8_1a475df0a6247a4b2f27c32747e43eb3a8"></span>std::string <code class="sig-name descname">elements_to_string</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fmt</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint83hexEv">
<span id="_CPPv3NK5faiss11simd32uint83hexEv"></span><span id="_CPPv2NK5faiss11simd32uint83hexEv"></span><span id="faiss::simd32uint8::hexC"></span><span class="target" id="structfaiss_1_1simd32uint8_1a3dd9c7e5676c98b54f4a5fe09b6e24d4"></span>std::string <code class="sig-name descname">hex</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint83decEv">
<span id="_CPPv3NK5faiss11simd32uint83decEv"></span><span id="_CPPv2NK5faiss11simd32uint83decEv"></span><span id="faiss::simd32uint8::decC"></span><span class="target" id="structfaiss_1_1simd32uint8_1ac962d91b9b95592d27786049f756b9fd"></span>std::string <code class="sig-name descname">dec</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint84set1E7uint8_t">
<span id="_CPPv3N5faiss11simd32uint84set1E7uint8_t"></span><span id="_CPPv2N5faiss11simd32uint84set1E7uint8_t"></span><span id="faiss::simd32uint8::set1__uint8_t"></span><span class="target" id="structfaiss_1_1simd32uint8_1aa5f0d78560238a22d1c2195ebe920aa8"></span>void <code class="sig-name descname">set1</code><span class="sig-paren">(</span>uint8_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint8anE10simd256bit">
<span id="_CPPv3NK5faiss11simd32uint8anE10simd256bit"></span><span id="_CPPv2NK5faiss11simd32uint8anE10simd256bit"></span><span id="faiss::simd32uint8::and-operator__simd256bitC"></span><span class="target" id="structfaiss_1_1simd32uint8_1a70bd47ca12a7960c5766cf2f2a963b88"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">operator&amp;</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint8plE11simd32uint8">
<span id="_CPPv3NK5faiss11simd32uint8plE11simd32uint8"></span><span id="_CPPv2NK5faiss11simd32uint8plE11simd32uint8"></span><span id="faiss::simd32uint8::add-operator__simd32uint8C"></span><span class="target" id="structfaiss_1_1simd32uint8_1a5a798e078468d52680065e303f0dcd69"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">operator+</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint814lookup_2_lanesE11simd32uint8">
<span id="_CPPv3NK5faiss11simd32uint814lookup_2_lanesE11simd32uint8"></span><span id="_CPPv2NK5faiss11simd32uint814lookup_2_lanesE11simd32uint8"></span><span id="faiss::simd32uint8::lookup_2_lanes__simd32uint8C"></span><span class="target" id="structfaiss_1_1simd32uint8_1a3e7e14811119074e4f425eed96b6ed3a"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">lookup_2_lanes</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>idx</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint815lane0_as_uint16Ev">
<span id="_CPPv3NK5faiss11simd32uint815lane0_as_uint16Ev"></span><span id="_CPPv2NK5faiss11simd32uint815lane0_as_uint16Ev"></span><span id="faiss::simd32uint8::lane0_as_uint16C"></span><span class="target" id="structfaiss_1_1simd32uint8_1a60712b19d7e880431c5a240185c84ead"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">lane0_as_uint16</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint815lane1_as_uint16Ev">
<span id="_CPPv3NK5faiss11simd32uint815lane1_as_uint16Ev"></span><span id="_CPPv2NK5faiss11simd32uint815lane1_as_uint16Ev"></span><span id="faiss::simd32uint8::lane1_as_uint16C"></span><span class="target" id="structfaiss_1_1simd32uint8_1aa529a14ff0594d8dacbeab2a1c942aa3"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd16uint16E" title="faiss::simd16uint16">simd16uint16</a> <code class="sig-name descname">lane1_as_uint16</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint8pLE11simd32uint8">
<span id="_CPPv3N5faiss11simd32uint8pLE11simd32uint8"></span><span id="_CPPv2N5faiss11simd32uint8pLE11simd32uint8"></span><span id="faiss::simd32uint8::add-assign-operator__simd32uint8"></span><span class="target" id="structfaiss_1_1simd32uint8_1a784675cb1a2d01a089ef4958d6c7f79a"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">operator+=</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint8ixEi">
<span id="_CPPv3NK5faiss11simd32uint8ixEi"></span><span id="_CPPv2NK5faiss11simd32uint8ixEi"></span><span id="faiss::simd32uint8::subscript-operator__iC"></span><span class="target" id="structfaiss_1_1simd32uint8_1a42caa7515646aa765aa0ff7682390b64"></span>uint8_t <code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1af050f5b54ede870a1d6add3b089d2d42"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a44349183b73ea0564729eb2283445a2c"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span>int <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1aacac602e6ae5847325cd03a6f4fd5f25"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span>uint8_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a1701b6547afb41377eec42d2dd5c1d5d"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a963006a6994282e956e4ada482d0cf94"></span><code class="sig-name descname">simd32uint8</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a475df0a6247a4b2f27c32747e43eb3a8"></span>std::string <code class="sig-name descname">elements_to_string</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fmt</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a3dd9c7e5676c98b54f4a5fe09b6e24d4"></span>std::string <code class="sig-name descname">hex</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1ac962d91b9b95592d27786049f756b9fd"></span>std::string <code class="sig-name descname">dec</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1aa5f0d78560238a22d1c2195ebe920aa8"></span>void <code class="sig-name descname">set1</code><span class="sig-paren">(</span>uint8_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a70bd47ca12a7960c5766cf2f2a963b88"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">operator&amp;</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a5a798e078468d52680065e303f0dcd69"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">operator+</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a3e7e14811119074e4f425eed96b6ed3a"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">lookup_2_lanes</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>idx</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a784675cb1a2d01a089ef4958d6c7f79a"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">operator+=</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>other</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd32uint8_1a42caa7515646aa765aa0ff7682390b64"></span>uint8_t <code class="sig-name descname">operator[]</code><span class="sig-paren">(</span>int <em>i</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint85clearEv">
<span id="_CPPv3N5faiss11simd32uint85clearEv"></span><span id="_CPPv2N5faiss11simd32uint85clearEv"></span><span id="faiss::simd32uint8::clear"></span><span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint86storeuEPv">
<span id="_CPPv3NK5faiss11simd32uint86storeuEPv"></span><span id="_CPPv2NK5faiss11simd32uint86storeuEPv"></span><span id="faiss::simd32uint8::storeu__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint85loaduEPKv">
<span id="_CPPv3N5faiss11simd32uint85loaduEPKv"></span><span id="_CPPv2N5faiss11simd32uint85loaduEPKv"></span><span id="faiss::simd32uint8::loadu__voidCP"></span><span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint85storeEPv">
<span id="_CPPv3NK5faiss11simd32uint85storeEPv"></span><span id="_CPPv2NK5faiss11simd32uint85storeEPv"></span><span id="faiss::simd32uint8::store__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint83binEAL257E_c">
<span id="_CPPv3NK5faiss11simd32uint83binEAL257E_c"></span><span id="_CPPv2NK5faiss11simd32uint83binEA257_c"></span><span id="faiss::simd32uint8::bin__cAC"></span><span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd32uint83binEv">
<span id="_CPPv3NK5faiss11simd32uint83binEv"></span><span id="_CPPv2NK5faiss11simd32uint83binEv"></span><span id="faiss::simd32uint8::binC"></span><span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd32uint81iE">
<span id="_CPPv3N5faiss11simd32uint81iE"></span><span id="_CPPv2N5faiss11simd32uint81iE"></span><span id="faiss::simd32uint8::i____m256i"></span><span class="target" id="structfaiss_1_1simd256bit_1a0061ab97fb706619dbb1db084d89c57e"></span>__m256i <code class="sig-name descname">i</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd32uint81fE">
<span id="_CPPv3N5faiss11simd32uint81fE"></span><span id="_CPPv2N5faiss11simd32uint81fE"></span><span id="faiss::simd32uint8::f____m256"></span><span class="target" id="structfaiss_1_1simd256bit_1a745d258c489056abcb18de77d04dc7da"></span>__m256 <code class="sig-name descname">f</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd32uint8Ut1_1E">
<span id="_CPPv3N5faiss11simd32uint8Ut1_1E"></span><span class="target" id="structfaiss_1_1simd256bit_1a1142cc58e944c92c58668dffee8d0aeb"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd32uint82u8E">
<span id="_CPPv3N5faiss11simd32uint82u8E"></span><span id="_CPPv2N5faiss11simd32uint82u8E"></span><span id="faiss::simd32uint8::u8__uint8_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1acb1ccdc5222ee156bacdc10a5f94d736"></span>uint8_t <code class="sig-name descname">u8</code>[32]<a class="headerlink" href="#_CPPv4N5faiss11simd32uint82u8E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd32uint83u16E">
<span id="_CPPv3N5faiss11simd32uint83u16E"></span><span id="_CPPv2N5faiss11simd32uint83u16E"></span><span id="faiss::simd32uint8::u16__uint16_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1ae1a0c5c5a086370f21a346bd20e2b378"></span>uint16_t <code class="sig-name descname">u16</code>[16]<a class="headerlink" href="#_CPPv4N5faiss11simd32uint83u16E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd32uint83u32E">
<span id="_CPPv3N5faiss11simd32uint83u32E"></span><span id="_CPPv2N5faiss11simd32uint83u32E"></span><span id="faiss::simd32uint8::u32__uint32_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1aa68a3cf73ecbc73107a720e8c3f1d25c"></span>uint32_t <code class="sig-name descname">u32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss11simd32uint83u32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd32uint83f32E">
<span id="_CPPv3N5faiss11simd32uint83f32E"></span><span id="_CPPv2N5faiss11simd32uint83f32E"></span><span id="faiss::simd32uint8::f32__floatA"></span><span class="target" id="structfaiss_1_1simd256bit_1a73b7c0cc868d44cc02c58688977ba4a7"></span>float <code class="sig-name descname">f32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss11simd32uint83f32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd32uint8Ut1_3E">
<span id="_CPPv3N5faiss11simd32uint8Ut1_3E"></span><span class="target" id="structfaiss_1_1simd256bit_1a41568f363b0e4ca2f7772717a68f40e2"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><a class="headerlink" href="#_CPPv4N5faiss11simd32uint8Ut1_3E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd32uint811binary_funcE11simd32uint811simd32uint8NSt8functionIF7uint8_t7uint8_t7uint8_tEEE">
<span id="_CPPv3N5faiss11simd32uint811binary_funcE11simd32uint811simd32uint8NSt8functionIF7uint8_t7uint8_t7uint8_tEEE"></span><span id="_CPPv2N5faiss11simd32uint811binary_funcE11simd32uint811simd32uint8NSt8functionIF7uint8_t7uint8_t7uint8_tEEE"></span><span class="target" id="structfaiss_1_1simd32uint8_1ad5cd26a867480029cdff23a03729b218"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <code class="sig-name descname">binary_func</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss11simd32uint8E" title="faiss::simd32uint8">simd32uint8</a> <em>b</em>, std::function&lt;uint8_t<span class="sig-paren">(</span>uint8_t, uint8_t<span class="sig-paren">)</span>&gt; <em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss11simd32uint811binary_funcE11simd32uint811simd32uint8NSt8functionIF7uint8_t7uint8_t7uint8_tEEE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss12simd8float32E">
<span id="_CPPv3N5faiss12simd8float32E"></span><span id="_CPPv2N5faiss12simd8float32E"></span><span id="faiss::simd8float32"></span><span class="target" id="structfaiss_1_1simd8float32"></span><em class="property">struct </em><code class="sig-name descname">simd8float32</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float3212simd8float32Ev">
<span id="_CPPv3N5faiss12simd8float3212simd8float32Ev"></span><span id="_CPPv2N5faiss12simd8float3212simd8float32Ev"></span><span id="faiss::simd8float32::simd8float32"></span><span class="target" id="structfaiss_1_1simd8float32_1a13a05c69be6321dfa2778291ca5be638"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float3212simd8float32E10simd256bit">
<span id="_CPPv3N5faiss12simd8float3212simd8float32E10simd256bit"></span><span id="_CPPv2N5faiss12simd8float3212simd8float32E10simd256bit"></span><span id="faiss::simd8float32::simd8float32__simd256bit"></span><span class="target" id="structfaiss_1_1simd8float32_1ad3d875200c6287b25ddbab84cb4d60df"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float3212simd8float32E6__m256">
<span id="_CPPv3N5faiss12simd8float3212simd8float32E6__m256"></span><span id="_CPPv2N5faiss12simd8float3212simd8float32E6__m256"></span><span id="faiss::simd8float32::simd8float32____m256"></span><span class="target" id="structfaiss_1_1simd8float32_1adf206c50f1615d4b30f2971daa4fbb42"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span>__m256 <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float3212simd8float32Ef">
<span id="_CPPv3N5faiss12simd8float3212simd8float32Ef"></span><span id="_CPPv2N5faiss12simd8float3212simd8float32Ef"></span><span id="faiss::simd8float32::simd8float32__float"></span><span class="target" id="structfaiss_1_1simd8float32_1aee4b896ae49c702e76cfd96736640aea"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span>float <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float3212simd8float32EPKf">
<span id="_CPPv3N5faiss12simd8float3212simd8float32EPKf"></span><span id="_CPPv2N5faiss12simd8float3212simd8float32EPKf"></span><span id="faiss::simd8float32::simd8float32__floatCP"></span><span class="target" id="structfaiss_1_1simd8float32_1a6e375f0accbc236eea629e5965ad178e"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd8float32mlE12simd8float32">
<span id="_CPPv3NK5faiss12simd8float32mlE12simd8float32"></span><span id="_CPPv2NK5faiss12simd8float32mlE12simd8float32"></span><span id="faiss::simd8float32::mul-operator__simd8float32C"></span><span class="target" id="structfaiss_1_1simd8float32_1adf26fba0ccce9854456863aaa8719a11"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">operator*</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd8float32plE12simd8float32">
<span id="_CPPv3NK5faiss12simd8float32plE12simd8float32"></span><span id="_CPPv2NK5faiss12simd8float32plE12simd8float32"></span><span id="faiss::simd8float32::add-operator__simd8float32C"></span><span class="target" id="structfaiss_1_1simd8float32_1af5643dcc476bcc526fdeb6e46893d49f"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">operator+</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd8float32miE12simd8float32">
<span id="_CPPv3NK5faiss12simd8float32miE12simd8float32"></span><span id="_CPPv2NK5faiss12simd8float32miE12simd8float32"></span><span id="faiss::simd8float32::sub-operator__simd8float32C"></span><span class="target" id="structfaiss_1_1simd8float32_1a5d16bd606c76d37851e35eeb0ce85cba"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">operator-</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd8float328tostringEv">
<span id="_CPPv3NK5faiss12simd8float328tostringEv"></span><span id="_CPPv2NK5faiss12simd8float328tostringEv"></span><span id="faiss::simd8float32::tostringC"></span><span class="target" id="structfaiss_1_1simd8float32_1a275a26173f4feaf234c625ed5ecbac9a"></span>std::string <code class="sig-name descname">tostring</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8float32_1a13a05c69be6321dfa2778291ca5be638"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8float32_1ad3d875200c6287b25ddbab84cb4d60df"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8float32_1aee4b896ae49c702e76cfd96736640aea"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span>float <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8float32_1a6e375f0accbc236eea629e5965ad178e"></span><code class="sig-name descname">simd8float32</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float324set1Ef">
<span id="_CPPv3N5faiss12simd8float324set1Ef"></span><span id="_CPPv2N5faiss12simd8float324set1Ef"></span><span id="faiss::simd8float32::set1__float"></span><span class="target" id="structfaiss_1_1simd8float32_1ab494e970b746d06952e7997c5068ca92"></span>void <code class="sig-name descname">set1</code><span class="sig-paren">(</span>float <em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12simd8float324set1Ef" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8float32_1adf26fba0ccce9854456863aaa8719a11"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">operator*</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8float32_1af5643dcc476bcc526fdeb6e46893d49f"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">operator+</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8float32_1a5d16bd606c76d37851e35eeb0ce85cba"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">operator-</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>other</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8float32_1a275a26173f4feaf234c625ed5ecbac9a"></span>std::string <code class="sig-name descname">tostring</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float325clearEv">
<span id="_CPPv3N5faiss12simd8float325clearEv"></span><span id="_CPPv2N5faiss12simd8float325clearEv"></span><span id="faiss::simd8float32::clear"></span><span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd8float326storeuEPv">
<span id="_CPPv3NK5faiss12simd8float326storeuEPv"></span><span id="_CPPv2NK5faiss12simd8float326storeuEPv"></span><span id="faiss::simd8float32::storeu__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float325loaduEPKv">
<span id="_CPPv3N5faiss12simd8float325loaduEPKv"></span><span id="_CPPv2N5faiss12simd8float325loaduEPKv"></span><span id="faiss::simd8float32::loadu__voidCP"></span><span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd8float325storeEPv">
<span id="_CPPv3NK5faiss12simd8float325storeEPv"></span><span id="_CPPv2NK5faiss12simd8float325storeEPv"></span><span id="faiss::simd8float32::store__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd8float323binEAL257E_c">
<span id="_CPPv3NK5faiss12simd8float323binEAL257E_c"></span><span id="_CPPv2NK5faiss12simd8float323binEA257_c"></span><span id="faiss::simd8float32::bin__cAC"></span><span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss12simd8float323binEv">
<span id="_CPPv3NK5faiss12simd8float323binEv"></span><span id="_CPPv2NK5faiss12simd8float323binEv"></span><span id="faiss::simd8float32::binC"></span><span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd8float321iE">
<span id="_CPPv3N5faiss12simd8float321iE"></span><span id="_CPPv2N5faiss12simd8float321iE"></span><span id="faiss::simd8float32::i____m256i"></span><span class="target" id="structfaiss_1_1simd256bit_1a0061ab97fb706619dbb1db084d89c57e"></span>__m256i <code class="sig-name descname">i</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd8float321fE">
<span id="_CPPv3N5faiss12simd8float321fE"></span><span id="_CPPv2N5faiss12simd8float321fE"></span><span id="faiss::simd8float32::f____m256"></span><span class="target" id="structfaiss_1_1simd256bit_1a745d258c489056abcb18de77d04dc7da"></span>__m256 <code class="sig-name descname">f</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd8float32Ut1_1E">
<span id="_CPPv3N5faiss12simd8float32Ut1_1E"></span><span class="target" id="structfaiss_1_1simd256bit_1a1142cc58e944c92c58668dffee8d0aeb"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd8float322u8E">
<span id="_CPPv3N5faiss12simd8float322u8E"></span><span id="_CPPv2N5faiss12simd8float322u8E"></span><span id="faiss::simd8float32::u8__uint8_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1acb1ccdc5222ee156bacdc10a5f94d736"></span>uint8_t <code class="sig-name descname">u8</code>[32]<a class="headerlink" href="#_CPPv4N5faiss12simd8float322u8E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd8float323u16E">
<span id="_CPPv3N5faiss12simd8float323u16E"></span><span id="_CPPv2N5faiss12simd8float323u16E"></span><span id="faiss::simd8float32::u16__uint16_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1ae1a0c5c5a086370f21a346bd20e2b378"></span>uint16_t <code class="sig-name descname">u16</code>[16]<a class="headerlink" href="#_CPPv4N5faiss12simd8float323u16E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd8float323u32E">
<span id="_CPPv3N5faiss12simd8float323u32E"></span><span id="_CPPv2N5faiss12simd8float323u32E"></span><span id="faiss::simd8float32::u32__uint32_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1aa68a3cf73ecbc73107a720e8c3f1d25c"></span>uint32_t <code class="sig-name descname">u32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss12simd8float323u32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd8float323f32E">
<span id="_CPPv3N5faiss12simd8float323f32E"></span><span id="_CPPv2N5faiss12simd8float323f32E"></span><span id="faiss::simd8float32::f32__floatA"></span><span class="target" id="structfaiss_1_1simd256bit_1a73b7c0cc868d44cc02c58688977ba4a7"></span>float <code class="sig-name descname">f32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss12simd8float323f32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12simd8float32Ut1_3E">
<span id="_CPPv3N5faiss12simd8float32Ut1_3E"></span><span class="target" id="structfaiss_1_1simd256bit_1a41568f363b0e4ca2f7772717a68f40e2"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><a class="headerlink" href="#_CPPv4N5faiss12simd8float32Ut1_3E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12simd8float3211binary_funcE12simd8float3212simd8float32NSt8functionIFfffEEE">
<span id="_CPPv3N5faiss12simd8float3211binary_funcE12simd8float3212simd8float32NSt8functionIFfffEEE"></span><span id="_CPPv2N5faiss12simd8float3211binary_funcE12simd8float3212simd8float32NSt8functionIFfffEEE"></span><span class="target" id="structfaiss_1_1simd8float32_1a287de1b61501b335c45ebe065a662322"></span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <code class="sig-name descname">binary_func</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>a</em>, <a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss12simd8float32E" title="faiss::simd8float32">simd8float32</a> <em>b</em>, std::function&lt;float<span class="sig-paren">(</span>float, float<span class="sig-paren">)</span>&gt; <em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss12simd8float3211binary_funcE12simd8float3212simd8float32NSt8functionIFfffEEE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss11simd8uint32E">
<span id="_CPPv3N5faiss11simd8uint32E"></span><span id="_CPPv2N5faiss11simd8uint32E"></span><span id="faiss::simd8uint32"></span><span class="target" id="structfaiss_1_1simd8uint32"></span><em class="property">struct </em><code class="sig-name descname">simd8uint32</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a><br /></dt>
<dd><em>#include &lt;simdlib_avx2.h&gt;</em><p>vector of 8 unsigned 32-bit integers </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd8uint3211simd8uint32Ev">
<span id="_CPPv3N5faiss11simd8uint3211simd8uint32Ev"></span><span id="_CPPv2N5faiss11simd8uint3211simd8uint32Ev"></span><span id="faiss::simd8uint32::simd8uint32"></span><span class="target" id="structfaiss_1_1simd8uint32_1a89da3bccd3b703777fe4127f5fc764a7"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd8uint3211simd8uint32E7__m256i">
<span id="_CPPv3N5faiss11simd8uint3211simd8uint32E7__m256i"></span><span id="_CPPv2N5faiss11simd8uint3211simd8uint32E7__m256i"></span><span id="faiss::simd8uint32::simd8uint32____m256i"></span><span class="target" id="structfaiss_1_1simd8uint32_1aa5492eb7ac37ae575678d0ef892d22b7"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span>__m256i <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd8uint3211simd8uint32E8uint32_t">
<span id="_CPPv3N5faiss11simd8uint3211simd8uint32E8uint32_t"></span><span id="_CPPv2N5faiss11simd8uint3211simd8uint32E8uint32_t"></span><span id="faiss::simd8uint32::simd8uint32__uint32_t"></span><span class="target" id="structfaiss_1_1simd8uint32_1abe0ad93df6ae31c49b471a2390148861"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span>uint32_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd8uint3211simd8uint32E10simd256bit">
<span id="_CPPv3N5faiss11simd8uint3211simd8uint32E10simd256bit"></span><span id="_CPPv2N5faiss11simd8uint3211simd8uint32E10simd256bit"></span><span id="faiss::simd8uint32::simd8uint32__simd256bit"></span><span class="target" id="structfaiss_1_1simd8uint32_1a869e7afbc9c6551de07262f06a3a4d6c"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd8uint3211simd8uint32EPK7uint8_t">
<span id="_CPPv3N5faiss11simd8uint3211simd8uint32EPK7uint8_t"></span><span id="_CPPv2N5faiss11simd8uint3211simd8uint32EPK7uint8_t"></span><span id="faiss::simd8uint32::simd8uint32__uint8_tCP"></span><span class="target" id="structfaiss_1_1simd8uint32_1a0086499229d095b39be4c682881a1835"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd8uint3218elements_to_stringEPKc">
<span id="_CPPv3NK5faiss11simd8uint3218elements_to_stringEPKc"></span><span id="_CPPv2NK5faiss11simd8uint3218elements_to_stringEPKc"></span><span id="faiss::simd8uint32::elements_to_string__cCPC"></span><span class="target" id="structfaiss_1_1simd8uint32_1a6bd39771259f83652ead2bd46591d20c"></span>std::string <code class="sig-name descname">elements_to_string</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fmt</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd8uint323hexEv">
<span id="_CPPv3NK5faiss11simd8uint323hexEv"></span><span id="_CPPv2NK5faiss11simd8uint323hexEv"></span><span id="faiss::simd8uint32::hexC"></span><span class="target" id="structfaiss_1_1simd8uint32_1a9129b145e1f1fbf18b0d7612a54c5bbb"></span>std::string <code class="sig-name descname">hex</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd8uint323decEv">
<span id="_CPPv3NK5faiss11simd8uint323decEv"></span><span id="_CPPv2NK5faiss11simd8uint323decEv"></span><span id="faiss::simd8uint32::decC"></span><span class="target" id="structfaiss_1_1simd8uint32_1a916170f79c2616d3f22f557b2a17a4df"></span>std::string <code class="sig-name descname">dec</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd8uint324set1E8uint32_t">
<span id="_CPPv3N5faiss11simd8uint324set1E8uint32_t"></span><span id="_CPPv2N5faiss11simd8uint324set1E8uint32_t"></span><span id="faiss::simd8uint32::set1__uint32_t"></span><span class="target" id="structfaiss_1_1simd8uint32_1af9641584823aaa3118998b3a63bbd97b"></span>void <code class="sig-name descname">set1</code><span class="sig-paren">(</span>uint32_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8uint32_1a89da3bccd3b703777fe4127f5fc764a7"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8uint32_1abe0ad93df6ae31c49b471a2390148861"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span>uint32_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8uint32_1a869e7afbc9c6551de07262f06a3a4d6c"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span><a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a> <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8uint32_1a0086499229d095b39be4c682881a1835"></span><code class="sig-name descname">simd8uint32</code><span class="sig-paren">(</span><em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8uint32_1a6bd39771259f83652ead2bd46591d20c"></span>std::string <code class="sig-name descname">elements_to_string</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>fmt</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8uint32_1a9129b145e1f1fbf18b0d7612a54c5bbb"></span>std::string <code class="sig-name descname">hex</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8uint32_1a916170f79c2616d3f22f557b2a17a4df"></span>std::string <code class="sig-name descname">dec</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd8uint32_1af9641584823aaa3118998b3a63bbd97b"></span>void <code class="sig-name descname">set1</code><span class="sig-paren">(</span>uint32_t <em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd8uint325clearEv">
<span id="_CPPv3N5faiss11simd8uint325clearEv"></span><span id="_CPPv2N5faiss11simd8uint325clearEv"></span><span id="faiss::simd8uint32::clear"></span><span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1aa0fd61910bf50501b9e4f3db18b9fb29"></span>void <code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd8uint326storeuEPv">
<span id="_CPPv3NK5faiss11simd8uint326storeuEPv"></span><span id="_CPPv2NK5faiss11simd8uint326storeuEPv"></span><span id="faiss::simd8uint32::storeu__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a46f3f3e576ad528e64505c73980c903f"></span>void <code class="sig-name descname">storeu</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss11simd8uint325loaduEPKv">
<span id="_CPPv3N5faiss11simd8uint325loaduEPKv"></span><span id="_CPPv2N5faiss11simd8uint325loaduEPKv"></span><span id="faiss::simd8uint32::loadu__voidCP"></span><span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a44b57fcfb969954b9fc42f7dfee6bdf2"></span>void <code class="sig-name descname">loadu</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>ptr</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd8uint325storeEPv">
<span id="_CPPv3NK5faiss11simd8uint325storeEPv"></span><span id="_CPPv2NK5faiss11simd8uint325storeEPv"></span><span id="faiss::simd8uint32::store__voidPC"></span><span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a9cd7429e3408e78181b1810221664c0f"></span>void <code class="sig-name descname">store</code><span class="sig-paren">(</span>void *<em>ptr</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd8uint323binEAL257E_c">
<span id="_CPPv3NK5faiss11simd8uint323binEAL257E_c"></span><span id="_CPPv2NK5faiss11simd8uint323binEA257_c"></span><span id="faiss::simd8uint32::bin__cAC"></span><span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss11simd8uint323binEv">
<span id="_CPPv3NK5faiss11simd8uint323binEv"></span><span id="_CPPv2NK5faiss11simd8uint323binEv"></span><span id="faiss::simd8uint32::binC"></span><span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1abf510b705af0bdf0886d04828e9a3edb"></span>void <code class="sig-name descname">bin</code><span class="sig-paren">(</span>char <em>bits</em>[257]<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="structfaiss_1_1simd256bit_1a1f396e66d2f55e0f4f3a42fa0157d403"></span>std::string <code class="sig-name descname">bin</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd8uint321iE">
<span id="_CPPv3N5faiss11simd8uint321iE"></span><span id="_CPPv2N5faiss11simd8uint321iE"></span><span id="faiss::simd8uint32::i____m256i"></span><span class="target" id="structfaiss_1_1simd256bit_1a0061ab97fb706619dbb1db084d89c57e"></span>__m256i <code class="sig-name descname">i</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd8uint321fE">
<span id="_CPPv3N5faiss11simd8uint321fE"></span><span id="_CPPv2N5faiss11simd8uint321fE"></span><span id="faiss::simd8uint32::f____m256"></span><span class="target" id="structfaiss_1_1simd256bit_1a745d258c489056abcb18de77d04dc7da"></span>__m256 <code class="sig-name descname">f</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd8uint32Ut1_1E">
<span id="_CPPv3N5faiss11simd8uint32Ut1_1E"></span><span class="target" id="structfaiss_1_1simd256bit_1a1142cc58e944c92c58668dffee8d0aeb"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd8uint322u8E">
<span id="_CPPv3N5faiss11simd8uint322u8E"></span><span id="_CPPv2N5faiss11simd8uint322u8E"></span><span id="faiss::simd8uint32::u8__uint8_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1acb1ccdc5222ee156bacdc10a5f94d736"></span>uint8_t <code class="sig-name descname">u8</code>[32]<a class="headerlink" href="#_CPPv4N5faiss11simd8uint322u8E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd8uint323u16E">
<span id="_CPPv3N5faiss11simd8uint323u16E"></span><span id="_CPPv2N5faiss11simd8uint323u16E"></span><span id="faiss::simd8uint32::u16__uint16_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1ae1a0c5c5a086370f21a346bd20e2b378"></span>uint16_t <code class="sig-name descname">u16</code>[16]<a class="headerlink" href="#_CPPv4N5faiss11simd8uint323u16E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd8uint323u32E">
<span id="_CPPv3N5faiss11simd8uint323u32E"></span><span id="_CPPv2N5faiss11simd8uint323u32E"></span><span id="faiss::simd8uint32::u32__uint32_tA"></span><span class="target" id="structfaiss_1_1simd256bit_1aa68a3cf73ecbc73107a720e8c3f1d25c"></span>uint32_t <code class="sig-name descname">u32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss11simd8uint323u32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd8uint323f32E">
<span id="_CPPv3N5faiss11simd8uint323f32E"></span><span id="_CPPv2N5faiss11simd8uint323f32E"></span><span id="faiss::simd8uint32::f32__floatA"></span><span class="target" id="structfaiss_1_1simd256bit_1a73b7c0cc868d44cc02c58688977ba4a7"></span>float <code class="sig-name descname">f32</code>[8]<a class="headerlink" href="#_CPPv4N5faiss11simd8uint323f32E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss11simd8uint32Ut1_3E">
<span id="_CPPv3N5faiss11simd8uint32Ut1_3E"></span><span class="target" id="structfaiss_1_1simd256bit_1a41568f363b0e4ca2f7772717a68f40e2"></span><em class="property">union</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/simdlib__avx2_8h.html#_CPPv4N5faiss10simd256bitE" title="faiss::simd256bit">simd256bit</a>::<strong>[anonymous]</strong> <strong>[anonymous]</strong><a class="headerlink" href="#_CPPv4N5faiss11simd8uint32Ut1_3E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss18SliceInvertedListsE">
<span id="_CPPv3N5faiss18SliceInvertedListsE"></span><span id="_CPPv2N5faiss18SliceInvertedListsE"></span><span id="faiss::SliceInvertedLists"></span><span class="target" id="structfaiss_1_1SliceInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">SliceInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedListsE" title="faiss::ReadOnlyInvertedLists">ReadOnlyInvertedLists</a><br /></dt>
<dd><em>#include &lt;InvertedLists.h&gt;</em><p>vertical slice of indexes in another <a class="reference internal" href="../struct/structfaiss_1_1InvertedLists.html#structfaiss_1_1InvertedLists"><span class="std std-ref">InvertedLists</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss18SliceInvertedLists5idx_tE">
<span id="_CPPv3N5faiss18SliceInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss18SliceInvertedLists5idx_tE"></span><span id="faiss::SliceInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss18SliceInvertedLists18SliceInvertedListsEPK13InvertedLists5idx_t5idx_t">
<span id="_CPPv3N5faiss18SliceInvertedLists18SliceInvertedListsEPK13InvertedLists5idx_t5idx_t"></span><span id="_CPPv2N5faiss18SliceInvertedLists18SliceInvertedListsEPK13InvertedLists5idx_t5idx_t"></span><span id="faiss::SliceInvertedLists::SliceInvertedLists__InvertedListsCP.idx_t.idx_t"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1a09154b5731a6567121c86ce9ef0ed367"></span><code class="sig-name descname">SliceInvertedLists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> <em>i1</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss18SliceInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss18SliceInvertedLists9list_sizeE6size_t"></span><span id="faiss::SliceInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1ab58bf7449476fc4638bc0a004f7ecb07"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss18SliceInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss18SliceInvertedLists9get_codesE6size_t"></span><span id="faiss::SliceInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1a7aa723c6bcbf9a1d030958f8958f3d19"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss18SliceInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss18SliceInvertedLists7get_idsE6size_t"></span><span id="faiss::SliceInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1a8b9425c0018e6a5a1827da1624fdff56"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss18SliceInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss18SliceInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::SliceInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1a362456fac3002d1a5625a13dbfc0752b"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss18SliceInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss18SliceInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::SliceInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1ad3001048c22bcff5a1a8fb3c13d6a9ca"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss18SliceInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss18SliceInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::SliceInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1a929db2bf665fa28d7085fde76d0a371f"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss18SliceInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss18SliceInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::SliceInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1a715f660a511801dc0d542159e5b2083c"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss18SliceInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss18SliceInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::SliceInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1a40f74e21271fa5492fb9b78bb04a514f"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18SliceInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18SliceInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18SliceInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::SliceInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a0734538244d8c5969e3e23e38faf1c0c"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18SliceInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18SliceInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18SliceInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::SliceInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a33c3a5174bcf6709dcefec8bdc4b9a52"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18SliceInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss18SliceInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss18SliceInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::SliceInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a7b65c76388ba2fbc17a7060f6cf87039"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18SliceInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18SliceInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18SliceInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::SliceInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18SliceInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss18SliceInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss18SliceInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::SliceInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18SliceInvertedLists5resetEv">
<span id="_CPPv3N5faiss18SliceInvertedLists5resetEv"></span><span id="_CPPv2N5faiss18SliceInvertedLists5resetEv"></span><span id="faiss::SliceInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss18SliceInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss18SliceInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss18SliceInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::SliceInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss18SliceInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss18SliceInvertedLists16imbalance_factorEv"></span><span id="faiss::SliceInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss18SliceInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss18SliceInvertedLists11print_statsEv"></span><span id="faiss::SliceInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss18SliceInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss18SliceInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss18SliceInvertedLists14compute_ntotalEv"></span><span id="faiss::SliceInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18SliceInvertedLists2ilE">
<span id="_CPPv3N5faiss18SliceInvertedLists2ilE"></span><span id="_CPPv2N5faiss18SliceInvertedLists2ilE"></span><span id="faiss::SliceInvertedLists::il__InvertedListsCP"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1a580a773b1857eb771604f2e95ceb28ea"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">il</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18SliceInvertedLists2i0E">
<span id="_CPPv3N5faiss18SliceInvertedLists2i0E"></span><span id="_CPPv2N5faiss18SliceInvertedLists2i0E"></span><span id="faiss::SliceInvertedLists::i0__idx_t"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1ae8443276822f77a2c744a0148bb5fe7f"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">i0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18SliceInvertedLists2i1E">
<span id="_CPPv3N5faiss18SliceInvertedLists2i1E"></span><span id="_CPPv2N5faiss18SliceInvertedLists2i1E"></span><span id="faiss::SliceInvertedLists::i1__idx_t"></span><span class="target" id="structfaiss_1_1SliceInvertedLists_1abbde49f50e02a506e4f5df42d1afea91"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18SliceInvertedLists5idx_tE" title="faiss::SliceInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">i1</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18SliceInvertedLists5nlistE">
<span id="_CPPv3N5faiss18SliceInvertedLists5nlistE"></span><span id="_CPPv2N5faiss18SliceInvertedLists5nlistE"></span><span id="faiss::SliceInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss18SliceInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss18SliceInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss18SliceInvertedLists9code_sizeE"></span><span id="faiss::SliceInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss18SliceInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss18SliceInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss18SliceInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::SliceInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss22StopWordsInvertedListsE">
<span id="_CPPv3N5faiss22StopWordsInvertedListsE"></span><span id="_CPPv2N5faiss22StopWordsInvertedListsE"></span><span id="faiss::StopWordsInvertedLists"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">StopWordsInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedListsE" title="faiss::ReadOnlyInvertedLists">ReadOnlyInvertedLists</a><br /></dt>
<dd><em>#include &lt;InvertedLists.h&gt;</em><p>if the inverted list in il is smaller than maxsize then return it, otherwise return an empty invlist </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists5idx_tE">
<span id="_CPPv3N5faiss22StopWordsInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists5idx_tE"></span><span id="faiss::StopWordsInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists22StopWordsInvertedListsEPK13InvertedLists6size_t">
<span id="_CPPv3N5faiss22StopWordsInvertedLists22StopWordsInvertedListsEPK13InvertedLists6size_t"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists22StopWordsInvertedListsEPK13InvertedLists6size_t"></span><span id="faiss::StopWordsInvertedLists::StopWordsInvertedLists__InvertedListsCP.s"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a0c09cfc09766b2a6d102d88fd5b000ba"></span><code class="sig-name descname">StopWordsInvertedLists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>il</em>, size_t <em>maxsize</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists9list_sizeE6size_t"></span><span id="faiss::StopWordsInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a779b6acbcdf29e87fac19ea07c50065c"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists9get_codesE6size_t"></span><span id="faiss::StopWordsInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1aa9d8a3c634bd3f7a0c1ae94d13677a9f"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists7get_idsE6size_t"></span><span id="faiss::StopWordsInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a9114366e16bf32cce7c4872d8a2705f8"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss22StopWordsInvertedLists5idx_tE" title="faiss::StopWordsInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::StopWordsInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a5bec50625876ae22b9d092da7ab4fa31"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::StopWordsInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a50592d220d8c2cef81bb8da4ec9f453e"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss22StopWordsInvertedLists5idx_tE" title="faiss::StopWordsInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::StopWordsInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a620a47c96baabbcf3077071651f6e658"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss22StopWordsInvertedLists5idx_tE" title="faiss::StopWordsInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::StopWordsInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a3d6b0c5dc84832f1127b4667fb14f8f6"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::StopWordsInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1af2900ce6738bb1b212c631e8c58cf33f"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss22StopWordsInvertedLists5idx_tE" title="faiss::StopWordsInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss22StopWordsInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::StopWordsInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a0734538244d8c5969e3e23e38faf1c0c"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss22StopWordsInvertedLists5idx_tE" title="faiss::StopWordsInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss22StopWordsInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::StopWordsInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a33c3a5174bcf6709dcefec8bdc4b9a52"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss22StopWordsInvertedLists5idx_tE" title="faiss::StopWordsInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss22StopWordsInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::StopWordsInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a7b65c76388ba2fbc17a7060f6cf87039"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss22StopWordsInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::StopWordsInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss22StopWordsInvertedLists5idx_tE" title="faiss::StopWordsInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss22StopWordsInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::StopWordsInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss22StopWordsInvertedLists5idx_tE" title="faiss::StopWordsInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists5resetEv">
<span id="_CPPv3N5faiss22StopWordsInvertedLists5resetEv"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists5resetEv"></span><span id="faiss::StopWordsInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss22StopWordsInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::StopWordsInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists16imbalance_factorEv"></span><span id="faiss::StopWordsInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists11print_statsEv"></span><span id="faiss::StopWordsInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss22StopWordsInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss22StopWordsInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss22StopWordsInvertedLists14compute_ntotalEv"></span><span id="faiss::StopWordsInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists3il0E">
<span id="_CPPv3N5faiss22StopWordsInvertedLists3il0E"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists3il0E"></span><span id="faiss::StopWordsInvertedLists::il0__InvertedListsCP"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a62b4bd13b0eff0b2362059490a5b7881"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<code class="sig-name descname">il0</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists7maxsizeE">
<span id="_CPPv3N5faiss22StopWordsInvertedLists7maxsizeE"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists7maxsizeE"></span><span id="faiss::StopWordsInvertedLists::maxsize__s"></span><span class="target" id="structfaiss_1_1StopWordsInvertedLists_1a8da9f1edbe02bd9b47ceb41c30d0a96c"></span>size_t <code class="sig-name descname">maxsize</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists5nlistE">
<span id="_CPPv3N5faiss22StopWordsInvertedLists5nlistE"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists5nlistE"></span><span id="faiss::StopWordsInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss22StopWordsInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists9code_sizeE"></span><span id="faiss::StopWordsInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss22StopWordsInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss22StopWordsInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss22StopWordsInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::StopWordsInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss15VectorTransformE">
<span id="_CPPv3N5faiss15VectorTransformE"></span><span id="_CPPv2N5faiss15VectorTransformE"></span><span id="faiss::VectorTransform"></span><span class="target" id="structfaiss_1_1VectorTransform"></span><em class="property">struct </em><code class="sig-name descname">VectorTransform</code><br /></dt>
<dd><em>#include &lt;VectorTransform.h&gt;</em><p>Any transformation applied on a set of vectors </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1CenteringTransform.html#structfaiss_1_1CenteringTransform"><span class="std std-ref">faiss::CenteringTransform</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1ITQTransform.html#structfaiss_1_1ITQTransform"><span class="std std-ref">faiss::ITQTransform</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1LinearTransform.html#structfaiss_1_1LinearTransform"><span class="std std-ref">faiss::LinearTransform</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1NormalizationTransform.html#structfaiss_1_1NormalizationTransform"><span class="std std-ref">faiss::NormalizationTransform</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1RemapDimensionsTransform.html#structfaiss_1_1RemapDimensionsTransform"><span class="std std-ref">faiss::RemapDimensionsTransform</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss15VectorTransform5idx_tE">
<span id="_CPPv3N5faiss15VectorTransform5idx_tE"></span><span id="_CPPv2N5faiss15VectorTransform5idx_tE"></span><span id="faiss::VectorTransform::idx_t"></span><span class="target" id="structfaiss_1_1VectorTransform_1a410516b4efdae041546d87f6bef2e422"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss15VectorTransform15VectorTransformEii">
<span id="_CPPv3N5faiss15VectorTransform15VectorTransformEii"></span><span id="_CPPv2N5faiss15VectorTransform15VectorTransformEii"></span><span id="faiss::VectorTransform::VectorTransform__i.i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a137f48bab695736f0b1d79a50cddc858"></span><code class="sig-name descname">VectorTransform</code><span class="sig-paren">(</span>int <em>d_in</em> = 0, int <em>d_out</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd><p>! output dimension </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15VectorTransform5trainE5idx_tPKf">
<span id="_CPPv3N5faiss15VectorTransform5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss15VectorTransform5trainE5idx_tPKf"></span><span id="faiss::VectorTransform::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab781e04a6c8afe04689b3fc64be512d5"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransform5idx_tE" title="faiss::VectorTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors. Does nothing by default.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15VectorTransform5applyE5idx_tPKf">
<span id="_CPPv3NK5faiss15VectorTransform5applyE5idx_tPKf"></span><span id="_CPPv2NK5faiss15VectorTransform5applyE5idx_tPKf"></span><span id="faiss::VectorTransform::apply__idx_t.floatCPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1af7ea75906fb689ec667d2e685043c28a"></span>float *<code class="sig-name descname">apply</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransform5idx_tE" title="faiss::VectorTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>apply the random roation, return new allocated matrix <dl class="simple">
<dt><strong>Return</strong></dt><dd><p>size n * d_out </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: size n * d_in </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15VectorTransform13apply_noallocE5idx_tPKfPf">
<span id="_CPPv3NK5faiss15VectorTransform13apply_noallocE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss15VectorTransform13apply_noallocE5idx_tPKfPf"></span><span id="faiss::VectorTransform::apply_noalloc__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1a90f1a218c224c049f1bd8b77a78d6aa0"></span>void <code class="sig-name descname">apply_noalloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransform5idx_tE" title="faiss::VectorTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float *<em>xt</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>same as apply, but result is pre-allocated </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss15VectorTransform17reverse_transformE5idx_tPKfPf">
<span id="_CPPv3NK5faiss15VectorTransform17reverse_transformE5idx_tPKfPf"></span><span id="_CPPv2NK5faiss15VectorTransform17reverse_transformE5idx_tPKfPf"></span><span id="faiss::VectorTransform::reverse_transform__idx_t.floatCP.floatPC"></span><span class="target" id="structfaiss_1_1VectorTransform_1a0913e3b521a6d34f523c291508e82adb"></span>void <code class="sig-name descname">reverse_transform</code><span class="sig-paren">(</span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransform5idx_tE" title="faiss::VectorTransform::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xt</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>reverse transformation. May not be implemented or may return approximate result </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss15VectorTransformD0Ev">
<span id="_CPPv3N5faiss15VectorTransformD0Ev"></span><span id="_CPPv2N5faiss15VectorTransformD0Ev"></span><span id="faiss::VectorTransform::~VectorTransform"></span><span class="target" id="structfaiss_1_1VectorTransform_1a6e003e61f6f88afb18e65f1493b904a8"></span><code class="sig-name descname">~VectorTransform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss15VectorTransform4d_inE">
<span id="_CPPv3N5faiss15VectorTransform4d_inE"></span><span id="_CPPv2N5faiss15VectorTransform4d_inE"></span><span id="faiss::VectorTransform::d_in__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1afdf56cbd261a571cf6b8872be5bd43b6"></span>int <code class="sig-name descname">d_in</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15VectorTransform5d_outE">
<span id="_CPPv3N5faiss15VectorTransform5d_outE"></span><span id="_CPPv2N5faiss15VectorTransform5d_outE"></span><span id="faiss::VectorTransform::d_out__i"></span><span class="target" id="structfaiss_1_1VectorTransform_1a589d612f7b1773614619a0cbecd728a9"></span>int <code class="sig-name descname">d_out</code><br /></dt>
<dd><p>! input dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss15VectorTransform10is_trainedE">
<span id="_CPPv3N5faiss15VectorTransform10is_trainedE"></span><span id="_CPPv2N5faiss15VectorTransform10is_trainedE"></span><span id="faiss::VectorTransform::is_trained__b"></span><span class="target" id="structfaiss_1_1VectorTransform_1ab511f1ddf608c00204555881ca28cb02"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1VectorTransform.html#structfaiss_1_1VectorTransform"><span class="std std-ref">VectorTransform</span></a> does not require training, or if training is done already </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss19VStackInvertedListsE">
<span id="_CPPv3N5faiss19VStackInvertedListsE"></span><span id="_CPPv2N5faiss19VStackInvertedListsE"></span><span id="faiss::VStackInvertedLists"></span><span class="target" id="structfaiss_1_1VStackInvertedLists"></span><em class="property">struct </em><code class="sig-name descname">VStackInvertedLists</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss21ReadOnlyInvertedListsE" title="faiss::ReadOnlyInvertedLists">ReadOnlyInvertedLists</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss19VStackInvertedLists5idx_tE">
<span id="_CPPv3N5faiss19VStackInvertedLists5idx_tE"></span><span id="_CPPv2N5faiss19VStackInvertedLists5idx_tE"></span><span id="faiss::VStackInvertedLists::idx_t"></span><span class="target" id="structfaiss_1_1InvertedLists_1a2bb406f72dcad45cf03974ff14bfa473"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss19VStackInvertedLists19VStackInvertedListsEiPPK13InvertedLists">
<span id="_CPPv3N5faiss19VStackInvertedLists19VStackInvertedListsEiPPK13InvertedLists"></span><span id="_CPPv2N5faiss19VStackInvertedLists19VStackInvertedListsEiPPK13InvertedLists"></span><span id="faiss::VStackInvertedLists::VStackInvertedLists__i.InvertedListsCPP"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a8f6ba4b3d64b74409742edad6c6c0f37"></span><code class="sig-name descname">VStackInvertedLists</code><span class="sig-paren">(</span>int <em>nil</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> **<em>ils</em><span class="sig-paren">)</span><br /></dt>
<dd><p>build <a class="reference internal" href="../struct/structfaiss_1_1InvertedLists.html#structfaiss_1_1InvertedLists"><span class="std std-ref">InvertedLists</span></a> by concatenating nil of them </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists9list_sizeE6size_t">
<span id="_CPPv3NK5faiss19VStackInvertedLists9list_sizeE6size_t"></span><span id="_CPPv2NK5faiss19VStackInvertedLists9list_sizeE6size_t"></span><span id="faiss::VStackInvertedLists::list_size__sC"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a6398b7faee56b47f1f9817f3763fef01"></span>size_t <code class="sig-name descname">list_size</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the size of a list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists9get_codesE6size_t">
<span id="_CPPv3NK5faiss19VStackInvertedLists9get_codesE6size_t"></span><span id="_CPPv2NK5faiss19VStackInvertedLists9get_codesE6size_t"></span><span id="faiss::VStackInvertedLists::get_codes__sC"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a8edd0cf33ef00b46e9c72115ff46cf0c"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the codes for an inverted list must be released by release_codes</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>codes size list_size * code_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists7get_idsE6size_t">
<span id="_CPPv3NK5faiss19VStackInvertedLists7get_idsE6size_t"></span><span id="_CPPv2NK5faiss19VStackInvertedLists7get_idsE6size_t"></span><span id="faiss::VStackInvertedLists::get_ids__sC"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a2f39dbd83196f10e37308c1efb6a5787"></span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a> *<code class="sig-name descname">get_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>get the ids for an inverted list must be released by release_ids</p>
<p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>ids size list_size </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists13release_codesE6size_tPK7uint8_t">
<span id="_CPPv3NK5faiss19VStackInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="_CPPv2NK5faiss19VStackInvertedLists13release_codesE6size_tPK7uint8_t"></span><span id="faiss::VStackInvertedLists::release_codes__s.uint8_tCPC"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a331222282fb32dc55d6f5847bbd1c848"></span>void <code class="sig-name descname">release_codes</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> uint8_t *<em>codes</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release codes returned by get_codes (default implementation is nop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists11release_idsE6size_tPK5idx_t">
<span id="_CPPv3NK5faiss19VStackInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="_CPPv2NK5faiss19VStackInvertedLists11release_idsE6size_tPK5idx_t"></span><span id="faiss::VStackInvertedLists::release_ids__s.idx_tCPC"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a3048d4656332d160502cd95b22b53be5"></span>void <code class="sig-name descname">release_ids</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>release ids returned by get_ids </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists13get_single_idE6size_t6size_t">
<span id="_CPPv3NK5faiss19VStackInvertedLists13get_single_idE6size_t6size_t"></span><span id="_CPPv2NK5faiss19VStackInvertedLists13get_single_idE6size_t6size_t"></span><span id="faiss::VStackInvertedLists::get_single_id__s.sC"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a568b36928c391086da14f36eaf005fea"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a> <code class="sig-name descname">get_single_id</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single id in an inverted list </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists15get_single_codeE6size_t6size_t">
<span id="_CPPv3NK5faiss19VStackInvertedLists15get_single_codeE6size_t6size_t"></span><span id="_CPPv2NK5faiss19VStackInvertedLists15get_single_codeE6size_t6size_t"></span><span id="faiss::VStackInvertedLists::get_single_code__s.sC"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a7cda72ee7f10f35defd771bd51e2edde"></span><em class="property">const</em> uint8_t *<code class="sig-name descname">get_single_code</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><dl class="simple">
<dt><strong>Return</strong></dt><dd><p>a single code in an inverted list (should be deallocated with release_codes) </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists14prefetch_listsEPK5idx_ti">
<span id="_CPPv3NK5faiss19VStackInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="_CPPv2NK5faiss19VStackInvertedLists14prefetch_listsEPK5idx_ti"></span><span id="faiss::VStackInvertedLists::prefetch_lists__idx_tCP.iC"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1af37c2171d22f7f9200fa5cdedb363471"></span>void <code class="sig-name descname">prefetch_lists</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a> *<em>list_nos</em>, int <em>nlist</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>prepare the following lists (default does nothing) a list can be -1 hence the signed long </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19VStackInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19VStackInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19VStackInvertedLists11add_entriesE6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::VStackInvertedLists::add_entries__s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a0734538244d8c5969e3e23e38faf1c0c"></span>size_t <code class="sig-name descname">add_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19VStackInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19VStackInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19VStackInvertedLists14update_entriesE6size_t6size_t6size_tPK5idx_tPK7uint8_t"></span><span id="faiss::VStackInvertedLists::update_entries__s.s.s.idx_tCP.uint8_tCP"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a33c3a5174bcf6709dcefec8bdc4b9a52"></span>void <code class="sig-name descname">update_entries</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, size_t <em>n_entry</em>, <em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a> *<em>ids</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19VStackInvertedLists6resizeE6size_t6size_t">
<span id="_CPPv3N5faiss19VStackInvertedLists6resizeE6size_t6size_t"></span><span id="_CPPv2N5faiss19VStackInvertedLists6resizeE6size_t6size_t"></span><span id="faiss::VStackInvertedLists::resize__s.s"></span><span class="target" id="structfaiss_1_1ReadOnlyInvertedLists_1a7b65c76388ba2fbc17a7060f6cf87039"></span>void <code class="sig-name descname">resize</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>new_size</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19VStackInvertedLists9add_entryE6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19VStackInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19VStackInvertedLists9add_entryE6size_t5idx_tPK7uint8_t"></span><span id="faiss::VStackInvertedLists::add_entry__s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1a5b4328db9d4e2832de1a66bc6aa479de"></span>size_t <code class="sig-name descname">add_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a> <em>theid</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd><p>add one entry to an inverted list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19VStackInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss19VStackInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss19VStackInvertedLists12update_entryE6size_t6size_t5idx_tPK7uint8_t"></span><span id="faiss::VStackInvertedLists::update_entry__s.s.idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1InvertedLists_1aa4fca5b69a56ab5b65274f3ff5ca7705"></span>void <code class="sig-name descname">update_entry</code><span class="sig-paren">(</span>size_t <em>list_no</em>, size_t <em>offset</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a> <em>id</em>, <em class="property">const</em> uint8_t *<em>code</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19VStackInvertedLists5resetEv">
<span id="_CPPv3N5faiss19VStackInvertedLists5resetEv"></span><span id="_CPPv2N5faiss19VStackInvertedLists5resetEv"></span><span id="faiss::VStackInvertedLists::reset"></span><span class="target" id="structfaiss_1_1InvertedLists_1ada14d9bbf04c21b36f61971abece616e"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss19VStackInvertedLists10merge_fromEP13InvertedLists6size_t">
<span id="_CPPv3N5faiss19VStackInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="_CPPv2N5faiss19VStackInvertedLists10merge_fromEP13InvertedLists6size_t"></span><span id="faiss::VStackInvertedLists::merge_from__InvertedListsP.s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac2a0686121ef5bdd6eb70f7eb3cf9b3a"></span>void <code class="sig-name descname">merge_from</code><span class="sig-paren">(</span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a> *<em>oivf</em>, size_t <em>add_id</em><span class="sig-paren">)</span><br /></dt>
<dd><p>move all entries from oivf (empty on output) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists16imbalance_factorEv">
<span id="_CPPv3NK5faiss19VStackInvertedLists16imbalance_factorEv"></span><span id="_CPPv2NK5faiss19VStackInvertedLists16imbalance_factorEv"></span><span id="faiss::VStackInvertedLists::imbalance_factorC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a022deb11a08e2dad3386369e90f946a8"></span>double <code class="sig-name descname">imbalance_factor</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>1= perfectly balanced, &gt;1: imbalanced </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists11print_statsEv">
<span id="_CPPv3NK5faiss19VStackInvertedLists11print_statsEv"></span><span id="_CPPv2NK5faiss19VStackInvertedLists11print_statsEv"></span><span id="faiss::VStackInvertedLists::print_statsC"></span><span class="target" id="structfaiss_1_1InvertedLists_1ac82ad98d664f6478aa919c0ec1b811cc"></span>void <code class="sig-name descname">print_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>display some stats about the inverted lists </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss19VStackInvertedLists14compute_ntotalEv">
<span id="_CPPv3NK5faiss19VStackInvertedLists14compute_ntotalEv"></span><span id="_CPPv2NK5faiss19VStackInvertedLists14compute_ntotalEv"></span><span id="faiss::VStackInvertedLists::compute_ntotalC"></span><span class="target" id="structfaiss_1_1InvertedLists_1a903eed79c2fd1483c6e0eb500200da9f"></span>size_t <code class="sig-name descname">compute_ntotal</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>sum up list sizes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19VStackInvertedLists3ilsE">
<span id="_CPPv3N5faiss19VStackInvertedLists3ilsE"></span><span id="_CPPv2N5faiss19VStackInvertedLists3ilsE"></span><span id="faiss::VStackInvertedLists::ils__std::vector:InvertedListsCP:"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1a7ed923c2a52b86ae6012ac058d2d2388"></span>std::vector&lt;<em class="property">const</em> <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss13InvertedListsE" title="faiss::InvertedLists">InvertedLists</a>*&gt; <code class="sig-name descname">ils</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19VStackInvertedLists5cumszE">
<span id="_CPPv3N5faiss19VStackInvertedLists5cumszE"></span><span id="_CPPv2N5faiss19VStackInvertedLists5cumszE"></span><span id="faiss::VStackInvertedLists::cumsz__std::vector:idx_t:"></span><span class="target" id="structfaiss_1_1VStackInvertedLists_1ad9c47fdc34b29918bfc07ea2a16d50e6"></span>std::vector&lt;<a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss19VStackInvertedLists5idx_tE" title="faiss::VStackInvertedLists::idx_t">idx_t</a>&gt; <code class="sig-name descname">cumsz</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19VStackInvertedLists5nlistE">
<span id="_CPPv3N5faiss19VStackInvertedLists5nlistE"></span><span id="_CPPv2N5faiss19VStackInvertedLists5nlistE"></span><span id="faiss::VStackInvertedLists::nlist__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1afaf8b7aa3e846aa4553f6aae67827ec8"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>number of possible key values </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss19VStackInvertedLists9code_sizeE">
<span id="_CPPv3N5faiss19VStackInvertedLists9code_sizeE"></span><span id="_CPPv2N5faiss19VStackInvertedLists9code_sizeE"></span><span id="faiss::VStackInvertedLists::code_size__s"></span><span class="target" id="structfaiss_1_1InvertedLists_1ae06049e4259edb47d443ef87bdedc744"></span>size_t <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>code size per vector in bytes </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Static Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss19VStackInvertedLists17INVALID_CODE_SIZEE">
<span id="_CPPv3N5faiss19VStackInvertedLists17INVALID_CODE_SIZEE"></span><span id="_CPPv2N5faiss19VStackInvertedLists17INVALID_CODE_SIZEE"></span><span id="faiss::VStackInvertedLists::INVALID_CODE_SIZE__sC"></span><span class="target" id="structfaiss_1_1InvertedLists_1aae4b0f912ddda23dfef1085b4b683af7"></span><em class="property">const</em> size_t <code class="sig-name descname">INVALID_CODE_SIZE</code> = static_cast&lt;size_t&gt;(-1)<br /></dt>
<dd><p>used for <a class="reference internal" href="../struct/structfaiss_1_1BlockInvertedLists.html#structfaiss_1_1BlockInvertedLists"><span class="std std-ref">BlockInvertedLists</span></a>, where the codes are packed into groups and the individual code size is meaningless </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss12WorkerThreadE">
<span id="_CPPv3N5faiss12WorkerThreadE"></span><span id="_CPPv2N5faiss12WorkerThreadE"></span><span id="faiss::WorkerThread"></span><span class="target" id="classfaiss_1_1WorkerThread"></span><em class="property">class </em><code class="sig-name descname">WorkerThread</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12WorkerThread12WorkerThreadEv">
<span id="_CPPv3N5faiss12WorkerThread12WorkerThreadEv"></span><span id="_CPPv2N5faiss12WorkerThread12WorkerThreadEv"></span><span id="faiss::WorkerThread::WorkerThread"></span><span class="target" id="classfaiss_1_1WorkerThread_1aa9b8104ac86a2221e836db4457fea2a3"></span><code class="sig-name descname">WorkerThread</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12WorkerThreadD0Ev">
<span id="_CPPv3N5faiss12WorkerThreadD0Ev"></span><span id="_CPPv2N5faiss12WorkerThreadD0Ev"></span><span id="faiss::WorkerThread::~WorkerThread"></span><span class="target" id="classfaiss_1_1WorkerThread_1abe8c60d6c08a7287013d82c7b77bc8b1"></span><code class="sig-name descname">~WorkerThread</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Stops and waits for the worker thread to exit, flushing all pending lambdas </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12WorkerThread4stopEv">
<span id="_CPPv3N5faiss12WorkerThread4stopEv"></span><span id="_CPPv2N5faiss12WorkerThread4stopEv"></span><span id="faiss::WorkerThread::stop"></span><span class="target" id="classfaiss_1_1WorkerThread_1a5230264fa557f6d77c5fed5601a8c857"></span>void <code class="sig-name descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Request that the worker thread stop itself. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12WorkerThread17waitForThreadExitEv">
<span id="_CPPv3N5faiss12WorkerThread17waitForThreadExitEv"></span><span id="_CPPv2N5faiss12WorkerThread17waitForThreadExitEv"></span><span id="faiss::WorkerThread::waitForThreadExit"></span><span class="target" id="classfaiss_1_1WorkerThread_1a29c8cfced812372adb93440545c05edc"></span>void <code class="sig-name descname">waitForThreadExit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Blocking waits in the current thread for the worker thread to stop </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12WorkerThread3addENSt8functionIFvvEEE">
<span id="_CPPv3N5faiss12WorkerThread3addENSt8functionIFvvEEE"></span><span id="_CPPv2N5faiss12WorkerThread3addENSt8functionIFvvEEE"></span><span class="target" id="classfaiss_1_1WorkerThread_1a498e03ba7e352e477d15d99d20724b50"></span>std::future&lt;bool&gt; <code class="sig-name descname">add</code><span class="sig-paren">(</span>std::function&lt;void<span class="sig-paren">(</span><span class="sig-paren">)</span>&gt; <em>f</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Adds a lambda to run on the worker thread; returns a future that can be used to block on its completion. Future status is <code class="docutils literal notranslate"><span class="pre">true</span></code> if the lambda was run in the worker thread; <code class="docutils literal notranslate"><span class="pre">false</span></code> if it was not run, because the worker thread is exiting or has exited. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12WorkerThread11startThreadEv">
<span id="_CPPv3N5faiss12WorkerThread11startThreadEv"></span><span id="_CPPv2N5faiss12WorkerThread11startThreadEv"></span><span id="faiss::WorkerThread::startThread"></span><span class="target" id="classfaiss_1_1WorkerThread_1ac572863d6d90142a28176ab8508a5c0c"></span>void <code class="sig-name descname">startThread</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12WorkerThread10threadMainEv">
<span id="_CPPv3N5faiss12WorkerThread10threadMainEv"></span><span id="_CPPv2N5faiss12WorkerThread10threadMainEv"></span><span id="faiss::WorkerThread::threadMain"></span><span class="target" id="classfaiss_1_1WorkerThread_1a3bcba1e74bc0106710834cebba8109a9"></span>void <code class="sig-name descname">threadMain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12WorkerThread10threadLoopEv">
<span id="_CPPv3N5faiss12WorkerThread10threadLoopEv"></span><span id="_CPPv2N5faiss12WorkerThread10threadLoopEv"></span><span id="faiss::WorkerThread::threadLoop"></span><span class="target" id="classfaiss_1_1WorkerThread_1a1995b2a276e75326778af7e108d5a696"></span>void <code class="sig-name descname">threadLoop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss12WorkerThread7thread_E">
<span id="_CPPv3N5faiss12WorkerThread7thread_E"></span><span id="_CPPv2N5faiss12WorkerThread7thread_E"></span><span id="faiss::WorkerThread::thread___std::thread"></span><span class="target" id="classfaiss_1_1WorkerThread_1a82689a11d49bb1a4d98850543b462087"></span>std::thread <code class="sig-name descname">thread_</code><br /></dt>
<dd><p>Thread that all queued lambdas are run on. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12WorkerThread6mutex_E">
<span id="_CPPv3N5faiss12WorkerThread6mutex_E"></span><span id="_CPPv2N5faiss12WorkerThread6mutex_E"></span><span id="faiss::WorkerThread::mutex___std::mutex"></span><span class="target" id="classfaiss_1_1WorkerThread_1ada0210696e69a082e226305052928f30"></span>std::mutex <code class="sig-name descname">mutex_</code><br /></dt>
<dd><p>Mutex for the queue and exit status. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12WorkerThread8monitor_E">
<span id="_CPPv3N5faiss12WorkerThread8monitor_E"></span><span id="_CPPv2N5faiss12WorkerThread8monitor_E"></span><span id="faiss::WorkerThread::monitor___std::condition_variable"></span><span class="target" id="classfaiss_1_1WorkerThread_1a1ac0f05c57f14389d12ec34d3cd7cd65"></span>std::condition_variable <code class="sig-name descname">monitor_</code><br /></dt>
<dd><p>Monitor for the exit status and the queue. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12WorkerThread9wantStop_E">
<span id="_CPPv3N5faiss12WorkerThread9wantStop_E"></span><span id="_CPPv2N5faiss12WorkerThread9wantStop_E"></span><span id="faiss::WorkerThread::wantStop___b"></span><span class="target" id="classfaiss_1_1WorkerThread_1a4f9eb3eabaf5f4adf6612180060ed65e"></span>bool <code class="sig-name descname">wantStop_</code><br /></dt>
<dd><p>Whether or not we want the thread to exit. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss12WorkerThread6queue_E">
<span id="_CPPv3N5faiss12WorkerThread6queue_E"></span><span id="_CPPv2N5faiss12WorkerThread6queue_E"></span><span class="target" id="classfaiss_1_1WorkerThread_1ac334da22a126dcd565b835c93ea8193f"></span>std::deque&lt;std::pair&lt;std::function&lt;void<span class="sig-paren">(</span><span class="sig-paren">)</span>&gt;, std::promise&lt;bool&gt;&gt;&gt; <code class="sig-name descname">queue_</code><br /></dt>
<dd><p>Queue of pending lambdas to call. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpuE">
<span id="_CPPv3N5faiss3gpuE"></span><span id="_CPPv2N5faiss3gpuE"></span><span id="faiss::gpu"></span><span class="target" id="namespacefaiss_1_1gpu"></span><em class="property">namespace </em><code class="sig-name descname">gpu</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Enums</p>
<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu16DistanceDataTypeE">
<span id="_CPPv3N5faiss3gpu16DistanceDataTypeE"></span><span id="_CPPv2N5faiss3gpu16DistanceDataTypeE"></span><span class="target" id="GpuDistance_8h_1aa22865a7603feb994c5946c7c4d12268"></span><em class="property">enum </em><code class="sig-name descname">DistanceDataType</code><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu16DistanceDataType3F32E">
<span id="_CPPv3N5faiss3gpu16DistanceDataType3F32E"></span><span id="_CPPv2N5faiss3gpu16DistanceDataType3F32E"></span><span class="target" id="dummy_1aa22865a7603feb994c5946c7c4d12268a44ad4ef5a76e6aa6fb3e3fa079a54fda"></span><em class="property">enumerator </em><code class="sig-name descname">F32</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu16DistanceDataType3F16E">
<span id="_CPPv3N5faiss3gpu16DistanceDataType3F16E"></span><span id="_CPPv2N5faiss3gpu16DistanceDataType3F16E"></span><span class="target" id="dummy_1aa22865a7603feb994c5946c7c4d12268a56d8353718e6fdc78b8d69078a2cdb94"></span><em class="property">enumerator </em><code class="sig-name descname">F16</code><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu15IndicesDataTypeE">
<span id="_CPPv3N5faiss3gpu15IndicesDataTypeE"></span><span id="_CPPv2N5faiss3gpu15IndicesDataTypeE"></span><span class="target" id="GpuDistance_8h_1a6b68daa1ef37853ef9cab2ae9007b480"></span><em class="property">enum </em><code class="sig-name descname">IndicesDataType</code><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu15IndicesDataType3I64E">
<span id="_CPPv3N5faiss3gpu15IndicesDataType3I64E"></span><span id="_CPPv2N5faiss3gpu15IndicesDataType3I64E"></span><span class="target" id="dummy_1a6b68daa1ef37853ef9cab2ae9007b480ae7e62f6928f76df671b5a0379793fab6"></span><em class="property">enumerator </em><code class="sig-name descname">I64</code><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu15IndicesDataType3I32E">
<span id="_CPPv3N5faiss3gpu15IndicesDataType3I32E"></span><span id="_CPPv2N5faiss3gpu15IndicesDataType3I32E"></span><span class="target" id="dummy_1a6b68daa1ef37853ef9cab2ae9007b480ad878ea6016bfe01729548bf442de5a8b"></span><em class="property">enumerator </em><code class="sig-name descname">I32</code><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu14IndicesOptionsE">
<span id="_CPPv3N5faiss3gpu14IndicesOptionsE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptionsE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459"></span><em class="property">enum </em><code class="sig-name descname">IndicesOptions</code><br /></dt>
<dd><p>How user vector index data is stored on the GPU. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu14IndicesOptions11INDICES_CPUE">
<span id="_CPPv3N5faiss3gpu14IndicesOptions11INDICES_CPUE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptions11INDICES_CPUE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459a588811aea072aa57c268dec24d16ad81"></span><em class="property">enumerator </em><code class="sig-name descname">INDICES_CPU</code><br /></dt>
<dd><p>The user indices are only stored on the CPU; the GPU returns (inverted list, offset) to the CPU which is then translated to the real user index. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu14IndicesOptions11INDICES_IVFE">
<span id="_CPPv3N5faiss3gpu14IndicesOptions11INDICES_IVFE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptions11INDICES_IVFE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459a86cdd363f1311a43e0e99ebdc909311c"></span><em class="property">enumerator </em><code class="sig-name descname">INDICES_IVF</code><br /></dt>
<dd><p>The indices are not stored at all, on either the CPU or GPU. Only (inverted list, offset) is returned to the user as the index. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu14IndicesOptions14INDICES_32_BITE">
<span id="_CPPv3N5faiss3gpu14IndicesOptions14INDICES_32_BITE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptions14INDICES_32_BITE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459ad702a8b1a6bcefaa8d731762e4f88936"></span><em class="property">enumerator </em><code class="sig-name descname">INDICES_32_BIT</code><br /></dt>
<dd><p>Indices are stored as 32 bit integers on the GPU, but returned as 64 bit integers </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu14IndicesOptions14INDICES_64_BITE">
<span id="_CPPv3N5faiss3gpu14IndicesOptions14INDICES_64_BITE"></span><span id="_CPPv2N5faiss3gpu14IndicesOptions14INDICES_64_BITE"></span><span class="target" id="GpuIndicesOptions_8h_1a863afc54e6d0c3bf6a34490d02acd459a3173a4e316b70ff921a20943bc055aac"></span><em class="property">enumerator </em><code class="sig-name descname">INDICES_64_BIT</code><br /></dt>
<dd><p>Indices are stored as 64 bit integers on the GPU. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu9AllocTypeE">
<span id="_CPPv3N5faiss3gpu9AllocTypeE"></span><span id="_CPPv2N5faiss3gpu9AllocTypeE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437"></span><em class="property">enum </em><code class="sig-name descname">AllocType</code><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType5OtherE">
<span id="_CPPv3N5faiss3gpu9AllocType5OtherE"></span><span id="_CPPv2N5faiss3gpu9AllocType5OtherE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a0fcde2e6fdc2c0afd9a35bde9e99a269"></span><em class="property">enumerator </em><code class="sig-name descname">Other</code><br /></dt>
<dd><p>Unknown allocation type or miscellaneous (not currently categorized) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType8FlatDataE">
<span id="_CPPv3N5faiss3gpu9AllocType8FlatDataE"></span><span id="_CPPv2N5faiss3gpu9AllocType8FlatDataE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a547b2cb3c7589068effabb0cad9fa907"></span><em class="property">enumerator </em><code class="sig-name descname">FlatData</code><br /></dt>
<dd><p>Primary data storage for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a> (the raw matrix of vectors and vector norms if needed) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType8IVFListsE">
<span id="_CPPv3N5faiss3gpu9AllocType8IVFListsE"></span><span id="_CPPv2N5faiss3gpu9AllocType8IVFListsE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a0b8e7919f13d089aef4f3bb6fd8420ab"></span><em class="property">enumerator </em><code class="sig-name descname">IVFLists</code><br /></dt>
<dd><p>Primary data storage for GpuIndexIVF* (the storage for each individual IVF list) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType9QuantizerE">
<span id="_CPPv3N5faiss3gpu9AllocType9QuantizerE"></span><span id="_CPPv2N5faiss3gpu9AllocType9QuantizerE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a65a8f1712a80b76e79e2e36087ece51f"></span><em class="property">enumerator </em><code class="sig-name descname">Quantizer</code><br /></dt>
<dd><p>Quantizer (PQ, SQ) dictionary information. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType25QuantizerPrecomputedCodesE">
<span id="_CPPv3N5faiss3gpu9AllocType25QuantizerPrecomputedCodesE"></span><span id="_CPPv2N5faiss3gpu9AllocType25QuantizerPrecomputedCodesE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a73a4afa64cdd0c13b4bc55087eedcc83"></span><em class="property">enumerator </em><code class="sig-name descname">QuantizerPrecomputedCodes</code><br /></dt>
<dd><p>For <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, âprecomputed codesâ for more efficient PQ lookup require the use of possibly large tables. These are marked separately from Quantizer as these can frequently be 100s - 1000s of MiB in size </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType21TemporaryMemoryBufferE">
<span id="_CPPv3N5faiss3gpu9AllocType21TemporaryMemoryBufferE"></span><span id="_CPPv2N5faiss3gpu9AllocType21TemporaryMemoryBufferE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437a6da735df4e3424ba16ed6877129cf52b"></span><em class="property">enumerator </em><code class="sig-name descname">TemporaryMemoryBuffer</code><br /></dt>
<dd><p><a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">StandardGpuResources</span></a> implementation specific typesWhen using <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">StandardGpuResources</span></a>, temporary memory allocations (MemorySpace::Temporary) come out of a stack region of memory that is allocated up front for each gpu (e.g., 1.5 GiB upon initialization). This allocation by <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">StandardGpuResources</span></a> is marked with this AllocType. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu9AllocType23TemporaryMemoryOverflowE">
<span id="_CPPv3N5faiss3gpu9AllocType23TemporaryMemoryOverflowE"></span><span id="_CPPv2N5faiss3gpu9AllocType23TemporaryMemoryOverflowE"></span><span class="target" id="GpuResources_8h_1a7038aea27b7026c4b0b4a7afeb1ba437adeddb60bbeb3d0fd449dc5473bfbae74"></span><em class="property">enumerator </em><code class="sig-name descname">TemporaryMemoryOverflow</code><br /></dt>
<dd><p>When using <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">StandardGpuResources</span></a>, any MemorySpace::Temporary allocations that cannot be satisfied within the TemporaryMemoryBuffer region fall back to calling cudaMalloc which are sized to just the request at hand. These âoverflowâ temporary allocations are marked with this AllocType. </p>
</dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt id="_CPPv4N5faiss3gpu11MemorySpaceE">
<span id="_CPPv3N5faiss3gpu11MemorySpaceE"></span><span id="_CPPv2N5faiss3gpu11MemorySpaceE"></span><span class="target" id="GpuResources_8h_1a308a493158ec240731ef7f87029fbd67"></span><em class="property">enum </em><code class="sig-name descname">MemorySpace</code><br /></dt>
<dd><p>Memory regions accessible to the GPU. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu11MemorySpace9TemporaryE">
<span id="_CPPv3N5faiss3gpu11MemorySpace9TemporaryE"></span><span id="_CPPv2N5faiss3gpu11MemorySpace9TemporaryE"></span><span class="target" id="GpuResources_8h_1a308a493158ec240731ef7f87029fbd67a3cbdb1d642f55fc4c351b62f6f259f76"></span><em class="property">enumerator </em><code class="sig-name descname">Temporary</code><br /></dt>
<dd><p>Temporary device memory (guaranteed to no longer be used upon exit of a top-level index call, and where the streams using it have completed GPU work). Typically backed by Device memory (cudaMalloc/cudaFree). </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu11MemorySpace6DeviceE">
<span id="_CPPv3N5faiss3gpu11MemorySpace6DeviceE"></span><span id="_CPPv2N5faiss3gpu11MemorySpace6DeviceE"></span><span class="target" id="GpuResources_8h_1a308a493158ec240731ef7f87029fbd67a18edc24f65a6948be1fd9a2c27df51cc"></span><em class="property">enumerator </em><code class="sig-name descname">Device</code><br /></dt>
<dd><p>Managed using cudaMalloc/cudaFree (typical GPU device memory) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt id="_CPPv4N5faiss3gpu11MemorySpace7UnifiedE">
<span id="_CPPv3N5faiss3gpu11MemorySpace7UnifiedE"></span><span id="_CPPv2N5faiss3gpu11MemorySpace7UnifiedE"></span><span class="target" id="GpuResources_8h_1a308a493158ec240731ef7f87029fbd67a0ee0f76a9dabbd16f80c5382472af6d6"></span><em class="property">enumerator </em><code class="sig-name descname">Unified</code><br /></dt>
<dd><p>Managed using cudaMallocManaged/cudaFree (typical Unified CPU/GPU memory) </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16index_gpu_to_cpuEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu16index_gpu_to_cpuEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu16index_gpu_to_cpuEPKN5faiss5IndexE"></span><span id="faiss::gpu::index_gpu_to_cpu__faiss::IndexCP"></span><span class="target" id="GpuCloner_8h_1a500b37234fbe71aed08ff67c3d7926dd"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index_gpu_to_cpu</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>gpu_index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>converts any GPU index inside gpu_index to a CPU index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16index_cpu_to_gpuEP20GpuResourcesProvideriPKN5faiss5IndexEPK16GpuClonerOptions">
<span id="_CPPv3N5faiss3gpu16index_cpu_to_gpuEP20GpuResourcesProvideriPKN5faiss5IndexEPK16GpuClonerOptions"></span><span id="_CPPv2N5faiss3gpu16index_cpu_to_gpuEP20GpuResourcesProvideriPKN5faiss5IndexEPK16GpuClonerOptions"></span><span id="faiss::gpu::index_cpu_to_gpu__GpuResourcesProviderP.i.faiss::IndexCP.GpuClonerOptionsCP"></span><span class="target" id="GpuCloner_8h_1a05cb0b5db1ebcd508cb0a259d4b536ab"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index_cpu_to_gpu</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>device</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu16GpuClonerOptionsE" title="faiss::gpu::GpuClonerOptions">GpuClonerOptions</a> *<em>options</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>converts any CPU index that can be converted to GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu25index_cpu_to_gpu_multipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEEPKN5faiss5IndexEPK24GpuMultipleClonerOptions">
<span id="_CPPv3N5faiss3gpu25index_cpu_to_gpu_multipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEEPKN5faiss5IndexEPK24GpuMultipleClonerOptions"></span><span id="_CPPv2N5faiss3gpu25index_cpu_to_gpu_multipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEEPKN5faiss5IndexEPK24GpuMultipleClonerOptions"></span><span id="faiss::gpu::index_cpu_to_gpu_multiple__std::vector:GpuResourcesProviderP:R.std::vector:i:R.faiss::IndexCP.GpuMultipleClonerOptionsCP"></span><span class="target" id="GpuCloner_8h_1ab26ee0f17fbf17d28c91d9107e19f921"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index_cpu_to_gpu_multiple</code><span class="sig-paren">(</span>std::vector&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a>*&gt; &amp;<em>provider</em>, std::vector&lt;int&gt; &amp;<em>devices</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE" title="faiss::gpu::GpuMultipleClonerOptions">GpuMultipleClonerOptions</a> *<em>options</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu5bfKnnEP20GpuResourcesProviderRK17GpuDistanceParams">
<span id="_CPPv3N5faiss3gpu5bfKnnEP20GpuResourcesProviderRK17GpuDistanceParams"></span><span id="_CPPv2N5faiss3gpu5bfKnnEP20GpuResourcesProviderRK17GpuDistanceParams"></span><span id="faiss::gpu::bfKnn__GpuResourcesProviderP.GpuDistanceParamsCR"></span><span class="target" id="GpuDistance_8h_1a29928698b9b3bae60ff6f7e7d79e0354"></span>void <code class="sig-name descname">bfKnn</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>resources</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuDistance_8h.html#_CPPv4N5faiss3gpu17GpuDistanceParamsE" title="faiss::gpu::GpuDistanceParams">GpuDistanceParams</a> &amp;<em>args</em><span class="sig-paren">)</span><br /></dt>
<dd><p>A wrapper for gpu/impl/Distance.cuh to expose direct brute-force k-nearest neighbor searches on an externally-provided region of memory (e.g., from a pytorch tensor). The data (vectors, queries, outDistances, outIndices) can be resident on the GPU or the CPU, but all calculations are performed on the GPU. If the result buffers are on the CPU, results will be copied back when done.</p>
<p>All GPU computation is performed on the current CUDA device, and ordered with respect to resources-&gt;getDefaultStreamCurrentDevice().</p>
<p>For each vector in <code class="docutils literal notranslate"><span class="pre">queries</span></code>, searches all of <code class="docutils literal notranslate"><span class="pre">vectors</span></code> to find its k nearest neighbors with respect to the given metric </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13bruteForceKnnEP20GpuResourcesProviderN5faiss10MetricTypeEPKfbiPKfbiiiPfPN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu13bruteForceKnnEP20GpuResourcesProviderN5faiss10MetricTypeEPKfbiPKfbiiiPfPN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu13bruteForceKnnEP20GpuResourcesProviderN5faiss10MetricTypeEPKfbiPKfbiiiPfPN5Index5idx_tE"></span><span id="faiss::gpu::bruteForceKnn__GpuResourcesProviderP.faiss::MetricType.floatCP.b.i.floatCP.b.i.i.i.floatP.Index::idx_tP"></span><span class="target" id="GpuDistance_8h_1a36de9d33475f2c592eaf24a0f82f43b7"></span>void <code class="sig-name descname">bruteForceKnn</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>resources</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <em class="property">const</em> float *<em>vectors</em>, bool <em>vectorsRowMajor</em>, int <em>numVectors</em>, <em class="property">const</em> float *<em>queries</em>, bool <em>queriesRowMajor</em>, int <em>numQueries</em>, int <em>dims</em>, int <em>k</em>, float *<em>outDistances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>outIndices</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Deprecated legacy implementation. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17allocTypeToStringE9AllocType">
<span id="_CPPv3N5faiss3gpu17allocTypeToStringE9AllocType"></span><span id="_CPPv2N5faiss3gpu17allocTypeToStringE9AllocType"></span><span id="faiss::gpu::allocTypeToString__AllocType"></span><span class="target" id="GpuResources_8h_1a01cfc3c8a312c3e60e1909eeb0941301"></span>std::string <code class="sig-name descname">allocTypeToString</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>t</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Convert an AllocType to string. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19memorySpaceToStringE11MemorySpace">
<span id="_CPPv3N5faiss3gpu19memorySpaceToStringE11MemorySpace"></span><span id="_CPPv2N5faiss3gpu19memorySpaceToStringE11MemorySpace"></span><span id="faiss::gpu::memorySpaceToString__MemorySpace"></span><span class="target" id="GpuResources_8h_1a26325bc7abaa18271fbe76c2bfbf1c64"></span>std::string <code class="sig-name descname">memorySpaceToString</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <em>s</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Convert a MemorySpace to string. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12makeDevAllocE9AllocType12cudaStream_t">
<span id="_CPPv3N5faiss3gpu12makeDevAllocE9AllocType12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu12makeDevAllocE9AllocType12cudaStream_t"></span><span id="faiss::gpu::makeDevAlloc__AllocType.cudaStream_t"></span><span class="target" id="GpuResources_8h_1a899d29db52c5400a548baa534667f1c5"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a> <code class="sig-name descname">makeDevAlloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, cudaStream_t <em>st</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Create an <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1AllocInfo.html#structfaiss_1_1gpu_1_1AllocInfo"><span class="std std-ref">AllocInfo</span></a> for the current device with MemorySpace::Device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13makeTempAllocE9AllocType12cudaStream_t">
<span id="_CPPv3N5faiss3gpu13makeTempAllocE9AllocType12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu13makeTempAllocE9AllocType12cudaStream_t"></span><span id="faiss::gpu::makeTempAlloc__AllocType.cudaStream_t"></span><span class="target" id="GpuResources_8h_1a25ba473fa8b757298399a9898435424a"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a> <code class="sig-name descname">makeTempAlloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, cudaStream_t <em>st</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Create an <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1AllocInfo.html#structfaiss_1_1gpu_1_1AllocInfo"><span class="std std-ref">AllocInfo</span></a> for the current device with MemorySpace::Temporary. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14makeSpaceAllocE9AllocType11MemorySpace12cudaStream_t">
<span id="_CPPv3N5faiss3gpu14makeSpaceAllocE9AllocType11MemorySpace12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu14makeSpaceAllocE9AllocType11MemorySpace12cudaStream_t"></span><span id="faiss::gpu::makeSpaceAlloc__AllocType.MemorySpace.cudaStream_t"></span><span class="target" id="GpuResources_8h_1acc39275d82143dd1663807a635e59cf9"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a> <code class="sig-name descname">makeSpaceAlloc</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <em>sp</em>, cudaStream_t <em>st</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Create an <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1AllocInfo.html#structfaiss_1_1gpu_1_1AllocInfo"><span class="std std-ref">AllocInfo</span></a> for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11newTestSeedEv">
<span id="_CPPv3N5faiss3gpu11newTestSeedEv"></span><span id="_CPPv2N5faiss3gpu11newTestSeedEv"></span><span id="faiss::gpu::newTestSeed"></span><span class="target" id="TestUtils_8h_1a6985d5edeae8143e4f1680b1428e55fc"></span>void <code class="sig-name descname">newTestSeed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates and displays a new seed for the test. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11setTestSeedEl">
<span id="_CPPv3N5faiss3gpu11setTestSeedEl"></span><span id="_CPPv2N5faiss3gpu11setTestSeedEl"></span><span id="faiss::gpu::setTestSeed__l"></span><span class="target" id="TestUtils_8h_1a97a43b6f2ad18a336a6ffb7d182e70e3"></span>void <code class="sig-name descname">setTestSeed</code><span class="sig-paren">(</span>long <em>seed</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Uses an explicit seed for the test. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13relativeErrorEff">
<span id="_CPPv3N5faiss3gpu13relativeErrorEff"></span><span id="_CPPv2N5faiss3gpu13relativeErrorEff"></span><span id="faiss::gpu::relativeError__float.float"></span><span class="target" id="TestUtils_8h_1a58c0d857ccd6d5003f38f05969a04d07"></span>float <code class="sig-name descname">relativeError</code><span class="sig-paren">(</span>float <em>a</em>, float <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the relative error in difference between a and b (|a - b| / (0.5 * (|a| + |b|)) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu7randValEii">
<span id="_CPPv3N5faiss3gpu7randValEii"></span><span id="_CPPv2N5faiss3gpu7randValEii"></span><span id="faiss::gpu::randVal__i.i"></span><span class="target" id="TestUtils_8h_1aa0974d57bcb32037493b2e50f4bc6553"></span>int <code class="sig-name descname">randVal</code><span class="sig-paren">(</span>int <em>a</em>, int <em>b</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates a random integer in the range [a, b]. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8randBoolEv">
<span id="_CPPv3N5faiss3gpu8randBoolEv"></span><span id="_CPPv2N5faiss3gpu8randBoolEv"></span><span id="faiss::gpu::randBool"></span><span class="target" id="TestUtils_8h_1aeaf4a47f6d9c0f1f21f6841a7dd3cb48"></span>bool <code class="sig-name descname">randBool</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates a random bool. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss3gpu10randSelectE1TNSt16initializer_listI1TEE">
<span id="_CPPv3I0EN5faiss3gpu10randSelectENSt16initializer_listI1TEE"></span><span id="_CPPv2I0EN5faiss3gpu10randSelectENSt16initializer_listI1TEE"></span>template&lt;typename <code class="sig-name descname">T</code>&gt;<br /><span class="target" id="TestUtils_8h_1ab667286f1786526a19d5186f2df348a4"></span><a class="reference internal" href="../file/TestUtils_8h.html#_CPPv4I0EN5faiss3gpu10randSelectE1TNSt16initializer_listI1TEE" title="faiss::gpu::randSelect::T">T</a> <code class="sig-name descname">randSelect</code><span class="sig-paren">(</span>std::initializer_list&lt;<a class="reference internal" href="../file/TestUtils_8h.html#_CPPv4I0EN5faiss3gpu10randSelectE1TNSt16initializer_listI1TEE" title="faiss::gpu::randSelect::T">T</a>&gt; <em>vals</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Select a random value from the given list of values provided as an initializer_list </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8randVecsE6size_t6size_t">
<span id="_CPPv3N5faiss3gpu8randVecsE6size_t6size_t"></span><span id="_CPPv2N5faiss3gpu8randVecsE6size_t6size_t"></span><span id="faiss::gpu::randVecs__s.s"></span><span class="target" id="TestUtils_8h_1ae9641002715e79d0aa4c594bbc3daa01"></span>std::vector&lt;float&gt; <code class="sig-name descname">randVecs</code><span class="sig-paren">(</span>size_t <em>num</em>, size_t <em>dim</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates a collection of random vectors in the range [0, 1]. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14randBinaryVecsE6size_t6size_t">
<span id="_CPPv3N5faiss3gpu14randBinaryVecsE6size_t6size_t"></span><span id="_CPPv2N5faiss3gpu14randBinaryVecsE6size_t6size_t"></span><span id="faiss::gpu::randBinaryVecs__s.s"></span><span class="target" id="TestUtils_8h_1a237b6df9cf96b9ab805c46aef32a37b8"></span>std::vector&lt;unsigned char&gt; <code class="sig-name descname">randBinaryVecs</code><span class="sig-paren">(</span>size_t <em>num</em>, size_t <em>dim</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates a collection of random bit vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14compareIndicesERKNSt6vectorIfEERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff">
<span id="_CPPv3N5faiss3gpu14compareIndicesERKNSt6vectorIfEERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff"></span><span id="_CPPv2N5faiss3gpu14compareIndicesERKNSt6vectorIfEERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff"></span><span id="faiss::gpu::compareIndices__std::vector:float:CR.faiss::IndexR.faiss::IndexR.i.i.i.ssCR.float.float.float"></span><span class="target" id="TestUtils_8h_1af10d6d642f9c390100d2b8a31203918f"></span>void <code class="sig-name descname">compareIndices</code><span class="sig-paren">(</span><em class="property">const</em> std::vector&lt;float&gt; &amp;<em>queryVecs</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>refIndex</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>testIndex</em>, int <em>numQuery</em>, int <em>dim</em>, int <em>k</em>, <em class="property">const</em> std::string &amp;<em>configMsg</em>, float <em>maxRelativeError</em> = 6e-5f, float <em>pctMaxDiff1</em> = 0.1f, float <em>pctMaxDiffN</em> = 0.005f<span class="sig-paren">)</span><br /></dt>
<dd><p>Compare two indices via query for similarity, with a user-specified set of query vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14compareIndicesERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff">
<span id="_CPPv3N5faiss3gpu14compareIndicesERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff"></span><span id="_CPPv2N5faiss3gpu14compareIndicesERN5faiss5IndexERN5faiss5IndexEiiiRKNSt6stringEfff"></span><span id="faiss::gpu::compareIndices__faiss::IndexR.faiss::IndexR.i.i.i.ssCR.float.float.float"></span><span class="target" id="TestUtils_8h_1aea8cc0513413b621ba2bcc3c5de02663"></span>void <code class="sig-name descname">compareIndices</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>refIndex</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> &amp;<em>testIndex</em>, int <em>numQuery</em>, int <em>dim</em>, int <em>k</em>, <em class="property">const</em> std::string &amp;<em>configMsg</em>, float <em>maxRelativeError</em> = 6e-5f, float <em>pctMaxDiff1</em> = 0.1f, float <em>pctMaxDiffN</em> = 0.005f<span class="sig-paren">)</span><br /></dt>
<dd><p>Compare two indices via query for similarity, generating random query vectors </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12compareListsEPKfPKN5faiss5Index5idx_tEPKfPKN5faiss5Index5idx_tEiiRKNSt6stringEbbbfff">
<span id="_CPPv3N5faiss3gpu12compareListsEPKfPKN5faiss5Index5idx_tEPKfPKN5faiss5Index5idx_tEiiRKNSt6stringEbbbfff"></span><span id="_CPPv2N5faiss3gpu12compareListsEPKfPKN5faiss5Index5idx_tEPKfPKN5faiss5Index5idx_tEiiRKNSt6stringEbbbfff"></span><span id="faiss::gpu::compareLists__floatCP.faiss::Index::idx_tCP.floatCP.faiss::Index::idx_tCP.i.i.ssCR.b.b.b.float.float.float"></span><span class="target" id="TestUtils_8h_1a4b17f759af26a756aab5035ddf5b53c6"></span>void <code class="sig-name descname">compareLists</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>refDist</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>refInd</em>, <em class="property">const</em> float *<em>testDist</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>testInd</em>, int <em>dim1</em>, int <em>dim2</em>, <em class="property">const</em> std::string &amp;<em>configMsg</em>, bool <em>printBasicStats</em>, bool <em>printDiffs</em>, bool <em>assertOnErr</em>, float <em>maxRelativeError</em> = 6e-5f, float <em>pctMaxDiff1</em> = 0.1f, float <em>pctMaxDiffN</em> = 0.005f<span class="sig-paren">)</span><br /></dt>
<dd><p>Display specific differences in the two (distance, index) lists. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I00EN5faiss3gpu15testIVFEqualityEvR1AR1B">
<span id="_CPPv3I00EN5faiss3gpu15testIVFEqualityER1AR1B"></span><span id="_CPPv2I00EN5faiss3gpu15testIVFEqualityER1AR1B"></span>template&lt;typename <code class="sig-name descname">A</code>, typename <code class="sig-name descname">B</code>&gt;<br /><span class="target" id="TestUtils_8h_1a589a55d85f293c1ed9905e5aac936776"></span>void <code class="sig-name descname">testIVFEquality</code><span class="sig-paren">(</span><a class="reference internal" href="../file/TestUtils_8h.html#_CPPv4I00EN5faiss3gpu15testIVFEqualityEvR1AR1B" title="faiss::gpu::testIVFEquality::A">A</a> &amp;<em>cpuIndex</em>, <a class="reference internal" href="../file/TestUtils_8h.html#_CPPv4I00EN5faiss3gpu15testIVFEqualityEvR1AR1B" title="faiss::gpu::testIVFEquality::B">B</a> &amp;<em>gpuIndex</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Compare IVF lists between a CPU and GPU index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16getCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu16getCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu16getCurrentDeviceEv"></span><span id="faiss::gpu::getCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1a18ddaf734a629ded5ad2a2f235937298"></span>int <code class="sig-name descname">getCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the current thread-local GPU device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16setCurrentDeviceEi">
<span id="_CPPv3N5faiss3gpu16setCurrentDeviceEi"></span><span id="_CPPv2N5faiss3gpu16setCurrentDeviceEi"></span><span id="faiss::gpu::setCurrentDevice__i"></span><span class="target" id="DeviceUtils_8h_1abf0b5b971122c7c024f70a2e690870ea"></span>void <code class="sig-name descname">setCurrentDevice</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the current thread-local GPU device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13getNumDevicesEv">
<span id="_CPPv3N5faiss3gpu13getNumDevicesEv"></span><span id="_CPPv2N5faiss3gpu13getNumDevicesEv"></span><span id="faiss::gpu::getNumDevices"></span><span class="target" id="DeviceUtils_8h_1aaeb2757087735aef66e7ec5ba134530a"></span>int <code class="sig-name descname">getNumDevices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the number of available GPU devices. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13profilerStartEv">
<span id="_CPPv3N5faiss3gpu13profilerStartEv"></span><span id="_CPPv2N5faiss3gpu13profilerStartEv"></span><span id="faiss::gpu::profilerStart"></span><span class="target" id="DeviceUtils_8h_1aaf3d8c41cb926052dcdf4988a323bc3b"></span>void <code class="sig-name descname">profilerStart</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Starts the CUDA profiler (exposed via SWIG) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12profilerStopEv">
<span id="_CPPv3N5faiss3gpu12profilerStopEv"></span><span id="_CPPv2N5faiss3gpu12profilerStopEv"></span><span id="faiss::gpu::profilerStop"></span><span class="target" id="DeviceUtils_8h_1aee97ca97dec791446ce147f0fe68db74"></span>void <code class="sig-name descname">profilerStop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Stops the CUDA profiler (exposed via SWIG) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu21synchronizeAllDevicesEv">
<span id="_CPPv3N5faiss3gpu21synchronizeAllDevicesEv"></span><span id="_CPPv2N5faiss3gpu21synchronizeAllDevicesEv"></span><span id="faiss::gpu::synchronizeAllDevices"></span><span class="target" id="DeviceUtils_8h_1a9aa4762fd8451c5f9b67072f4a4880e2"></span>void <code class="sig-name descname">synchronizeAllDevices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronizes the CPU against all devices (equivalent to cudaDeviceSynchronize for each device) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19getDevicePropertiesEi">
<span id="_CPPv3N5faiss3gpu19getDevicePropertiesEi"></span><span id="_CPPv2N5faiss3gpu19getDevicePropertiesEi"></span><span id="faiss::gpu::getDeviceProperties__i"></span><span class="target" id="DeviceUtils_8h_1a5ccce882c56a92a4830ce2fc7bedbc72"></span><em class="property">const</em> cudaDeviceProp &amp;<code class="sig-name descname">getDeviceProperties</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a cached cudaDeviceProp for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26getCurrentDevicePropertiesEv">
<span id="_CPPv3N5faiss3gpu26getCurrentDevicePropertiesEv"></span><span id="_CPPv2N5faiss3gpu26getCurrentDevicePropertiesEv"></span><span id="faiss::gpu::getCurrentDeviceProperties"></span><span class="target" id="DeviceUtils_8h_1af758bcee021c4fd616724dbf287e292a"></span><em class="property">const</em> cudaDeviceProp &amp;<code class="sig-name descname">getCurrentDeviceProperties</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the cached cudaDeviceProp for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13getMaxThreadsEi">
<span id="_CPPv3N5faiss3gpu13getMaxThreadsEi"></span><span id="_CPPv2N5faiss3gpu13getMaxThreadsEi"></span><span id="faiss::gpu::getMaxThreads__i"></span><span class="target" id="DeviceUtils_8h_1aec530c2ba3468b1edd6e9eceb864e797"></span>int <code class="sig-name descname">getMaxThreads</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the maximum number of threads available for the given GPU device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26getMaxThreadsCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu26getMaxThreadsCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu26getMaxThreadsCurrentDeviceEv"></span><span id="faiss::gpu::getMaxThreadsCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1a7aa4505c9349ef84ae046e7973107366"></span>int <code class="sig-name descname">getMaxThreadsCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Equivalent to getMaxThreads(getCurrentDevice()) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu23getMaxSharedMemPerBlockEi">
<span id="_CPPv3N5faiss3gpu23getMaxSharedMemPerBlockEi"></span><span id="_CPPv2N5faiss3gpu23getMaxSharedMemPerBlockEi"></span><span id="faiss::gpu::getMaxSharedMemPerBlock__i"></span><span class="target" id="DeviceUtils_8h_1ab671a87a6284fc4d2fec44400ca5d163"></span>size_t <code class="sig-name descname">getMaxSharedMemPerBlock</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the maximum smem available for the given GPU device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu36getMaxSharedMemPerBlockCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu36getMaxSharedMemPerBlockCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu36getMaxSharedMemPerBlockCurrentDeviceEv"></span><span id="faiss::gpu::getMaxSharedMemPerBlockCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1accf2b1c27fb6cbd2b384266d42f8c9a3"></span>size_t <code class="sig-name descname">getMaxSharedMemPerBlockCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Equivalent to getMaxSharedMemPerBlock(getCurrentDevice()) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19getDeviceForAddressEPKv">
<span id="_CPPv3N5faiss3gpu19getDeviceForAddressEPKv"></span><span id="_CPPv2N5faiss3gpu19getDeviceForAddressEPKv"></span><span id="faiss::gpu::getDeviceForAddress__voidCP"></span><span class="target" id="DeviceUtils_8h_1a90940c17958ddf1b0f5a7f86b556788b"></span>int <code class="sig-name descname">getDeviceForAddress</code><span class="sig-paren">(</span><em class="property">const</em> void *<em>p</em><span class="sig-paren">)</span><br /></dt>
<dd><p>For a given pointer, returns whether or not it is located on a device (deviceId &gt;= 0) or the host (-1). </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24getFullUnifiedMemSupportEi">
<span id="_CPPv3N5faiss3gpu24getFullUnifiedMemSupportEi"></span><span id="_CPPv2N5faiss3gpu24getFullUnifiedMemSupportEi"></span><span id="faiss::gpu::getFullUnifiedMemSupport__i"></span><span class="target" id="DeviceUtils_8h_1ae57d0b0e0c7d5529d4aee4cbd432a474"></span>bool <code class="sig-name descname">getFullUnifiedMemSupport</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Does the given device support full unified memory sharing host memory? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu37getFullUnifiedMemSupportCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu37getFullUnifiedMemSupportCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu37getFullUnifiedMemSupportCurrentDeviceEv"></span><span id="faiss::gpu::getFullUnifiedMemSupportCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1a5b39c8414f2bdc2fbe1ab6f5f21473f8"></span>bool <code class="sig-name descname">getFullUnifiedMemSupportCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Equivalent to getFullUnifiedMemSupport(getCurrentDevice()) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20getTensorCoreSupportEi">
<span id="_CPPv3N5faiss3gpu20getTensorCoreSupportEi"></span><span id="_CPPv2N5faiss3gpu20getTensorCoreSupportEi"></span><span id="faiss::gpu::getTensorCoreSupport__i"></span><span class="target" id="DeviceUtils_8h_1a5de148f49baef8d80b3dd4a1509bec37"></span>bool <code class="sig-name descname">getTensorCoreSupport</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Does the given device support tensor core operations? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu33getTensorCoreSupportCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu33getTensorCoreSupportCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu33getTensorCoreSupportCurrentDeviceEv"></span><span id="faiss::gpu::getTensorCoreSupportCurrentDevice"></span><span class="target" id="DeviceUtils_8h_1abf99b9aa3d1433ad0a69e7cccd949817"></span>bool <code class="sig-name descname">getTensorCoreSupportCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Equivalent to getTensorCoreSupport(getCurrentDevice()) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16getMaxKSelectionEv">
<span id="_CPPv3N5faiss3gpu16getMaxKSelectionEv"></span><span id="_CPPv2N5faiss3gpu16getMaxKSelectionEv"></span><span id="faiss::gpu::getMaxKSelection"></span><span class="target" id="DeviceUtils_8h_1af43e39c84e5b12e107a71dfa5d840e60"></span>int <code class="sig-name descname">getMaxKSelection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the maximum k-selection value supported based on the CUDA SDK that we were compiled with. .cu files can use DeviceDefs.cuh, but this is for non-CUDA files </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I00EN5faiss3gpu14streamWaitBaseEvRK2L1RK2L2">
<span id="_CPPv3I00EN5faiss3gpu14streamWaitBaseERK2L1RK2L2"></span><span id="_CPPv2I00EN5faiss3gpu14streamWaitBaseERK2L1RK2L2"></span>template&lt;typename <code class="sig-name descname">L1</code>, typename <code class="sig-name descname">L2</code>&gt;<br /><span class="target" id="DeviceUtils_8h_1a4e6905505fb0c0d1525037408ee0a389"></span>void <code class="sig-name descname">streamWaitBase</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4I00EN5faiss3gpu14streamWaitBaseEvRK2L1RK2L2" title="faiss::gpu::streamWaitBase::L1">L1</a> &amp;<em>listWaiting</em>, <em class="property">const</em> <a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4I00EN5faiss3gpu14streamWaitBaseEvRK2L1RK2L2" title="faiss::gpu::streamWaitBase::L2">L2</a> &amp;<em>listWaitOn</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Call for a collection of streams to wait on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss3gpu10streamWaitEvRK2L1RKNSt16initializer_listI12cudaStream_tEE">
<span id="_CPPv3I0EN5faiss3gpu10streamWaitERK2L1RKNSt16initializer_listI12cudaStream_tEE"></span><span id="_CPPv2I0EN5faiss3gpu10streamWaitERK2L1RKNSt16initializer_listI12cudaStream_tEE"></span>template&lt;typename <code class="sig-name descname">L1</code>&gt;<br /><span class="target" id="DeviceUtils_8h_1a64ae6cf687076b6b0f6a956e42d009c8"></span>void <code class="sig-name descname">streamWait</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4I0EN5faiss3gpu10streamWaitEvRK2L1RKNSt16initializer_listI12cudaStream_tEE" title="faiss::gpu::streamWait::L1">L1</a> &amp;<em>a</em>, <em class="property">const</em> std::initializer_list&lt;cudaStream_t&gt; &amp;<em>b</em><span class="sig-paren">)</span><br /></dt>
<dd><p>These versions allow usage of initializer_list as arguments, since otherwise {â¦} doesnât have a type </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4I0EN5faiss3gpu10streamWaitEvRKNSt16initializer_listI12cudaStream_tEERK2L2">
<span id="_CPPv3I0EN5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERK2L2"></span><span id="_CPPv2I0EN5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERK2L2"></span>template&lt;typename <code class="sig-name descname">L2</code>&gt;<br /><span class="target" id="DeviceUtils_8h_1a26377a820f76459a3451aa2664b6326f"></span>void <code class="sig-name descname">streamWait</code><span class="sig-paren">(</span><em class="property">const</em> std::initializer_list&lt;cudaStream_t&gt; &amp;<em>a</em>, <em class="property">const</em> <a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4I0EN5faiss3gpu10streamWaitEvRKNSt16initializer_listI12cudaStream_tEERK2L2" title="faiss::gpu::streamWait::L2">L2</a> &amp;<em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERKNSt16initializer_listI12cudaStream_tEE">
<span id="_CPPv3N5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERKNSt16initializer_listI12cudaStream_tEE"></span><span id="_CPPv2N5faiss3gpu10streamWaitERKNSt16initializer_listI12cudaStream_tEERKNSt16initializer_listI12cudaStream_tEE"></span><span id="faiss::gpu::streamWait__std::initializer_list:cudaStream_t:CR.std::initializer_list:cudaStream_t:CR"></span><span class="target" id="DeviceUtils_8h_1a0ef5a2acf5c02c590e5029c061f463d8"></span>void <code class="sig-name descname">streamWait</code><span class="sig-paren">(</span><em class="property">const</em> std::initializer_list&lt;cudaStream_t&gt; &amp;<em>a</em>, <em class="property">const</em> std::initializer_list&lt;cudaStream_t&gt; &amp;<em>b</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu9AllocInfoE">
<span id="_CPPv3N5faiss3gpu9AllocInfoE"></span><span id="_CPPv2N5faiss3gpu9AllocInfoE"></span><span id="faiss::gpu::AllocInfo"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo"></span><em class="property">struct </em><code class="sig-name descname">AllocInfo</code><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>Information on what/where an allocation is. </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1AllocRequest.html#structfaiss_1_1gpu_1_1AllocRequest"><span class="std std-ref">faiss::gpu::AllocRequest</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9AllocInfo9AllocInfoEv">
<span id="_CPPv3N5faiss3gpu9AllocInfo9AllocInfoEv"></span><span id="_CPPv2N5faiss3gpu9AllocInfo9AllocInfoEv"></span><span id="faiss::gpu::AllocInfo::AllocInfo"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a9f0952aebd52122e8c9a304653a6c321"></span><code class="sig-name descname">AllocInfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9AllocInfo9AllocInfoE9AllocTypei11MemorySpace12cudaStream_t">
<span id="_CPPv3N5faiss3gpu9AllocInfo9AllocInfoE9AllocTypei11MemorySpace12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu9AllocInfo9AllocInfoE9AllocTypei11MemorySpace12cudaStream_t"></span><span id="faiss::gpu::AllocInfo::AllocInfo__AllocType.i.MemorySpace.cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a37c06c3cfa2bd56b6f93a4e7d732ace5"></span><code class="sig-name descname">AllocInfo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, int <em>dev</em>, <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <em>sp</em>, cudaStream_t <em>st</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu9AllocInfo8toStringEv">
<span id="_CPPv3NK5faiss3gpu9AllocInfo8toStringEv"></span><span id="_CPPv2NK5faiss3gpu9AllocInfo8toStringEv"></span><span id="faiss::gpu::AllocInfo::toStringC"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a977c06dfb2bb29e7997712508ebd9e36"></span>std::string <code class="sig-name descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns a string representation of this info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9AllocInfo4typeE">
<span id="_CPPv3N5faiss3gpu9AllocInfo4typeE"></span><span id="_CPPv2N5faiss3gpu9AllocInfo4typeE"></span><span id="faiss::gpu::AllocInfo::type__AllocType"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1ae927d4e6e7b86c3541ffd0106f3b6d34"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <code class="sig-name descname">type</code><br /></dt>
<dd><p>The internal category of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9AllocInfo6deviceE">
<span id="_CPPv3N5faiss3gpu9AllocInfo6deviceE"></span><span id="_CPPv2N5faiss3gpu9AllocInfo6deviceE"></span><span id="faiss::gpu::AllocInfo::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1aa1417147ce3c9b88c2600d7b2618f719"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>The device on which the allocation is happening. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9AllocInfo5spaceE">
<span id="_CPPv3N5faiss3gpu9AllocInfo5spaceE"></span><span id="_CPPv2N5faiss3gpu9AllocInfo5spaceE"></span><span id="faiss::gpu::AllocInfo::space__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a5be5f0b54e3fe97ceca73df4799b87ee"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">space</code><br /></dt>
<dd><p>The memory space of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9AllocInfo6streamE">
<span id="_CPPv3N5faiss3gpu9AllocInfo6streamE"></span><span id="_CPPv2N5faiss3gpu9AllocInfo6streamE"></span><span id="faiss::gpu::AllocInfo::stream__cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1aa84beb46d87edf606343beefeb882bd0"></span>cudaStream_t <code class="sig-name descname">stream</code><br /></dt>
<dd><p>The stream on which new work on the memory will be ordered (e.g., if a piece of memory cached and to be returned for this call was last used on stream 3 and a new memory request is for stream 4, the memory manager will synchronize stream 4 to wait for the completion of stream 3 via events or other stream synchronization.</p>
<p>The memory manager guarantees that the returned memory is free to use without data races on this stream specified. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu12AllocRequestE">
<span id="_CPPv3N5faiss3gpu12AllocRequestE"></span><span id="_CPPv2N5faiss3gpu12AllocRequestE"></span><span id="faiss::gpu::AllocRequest"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest"></span><em class="property">struct </em><code class="sig-name descname">AllocRequest</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>Information on what/where an allocation is, along with how big it should be. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12AllocRequest12AllocRequestEv">
<span id="_CPPv3N5faiss3gpu12AllocRequest12AllocRequestEv"></span><span id="_CPPv2N5faiss3gpu12AllocRequest12AllocRequestEv"></span><span id="faiss::gpu::AllocRequest::AllocRequest"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1a0ecb0120bf0c4bcbcc79a916e82e6a0f"></span><code class="sig-name descname">AllocRequest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12AllocRequest12AllocRequestERK9AllocInfo6size_t">
<span id="_CPPv3N5faiss3gpu12AllocRequest12AllocRequestERK9AllocInfo6size_t"></span><span id="_CPPv2N5faiss3gpu12AllocRequest12AllocRequestERK9AllocInfo6size_t"></span><span id="faiss::gpu::AllocRequest::AllocRequest__AllocInfoCR.s"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1aa65de465c83315a5702844834174a0d2"></span><code class="sig-name descname">AllocRequest</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocInfoE" title="faiss::gpu::AllocInfo">AllocInfo</a> &amp;<em>info</em>, size_t <em>sz</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12AllocRequest12AllocRequestE9AllocTypei11MemorySpace12cudaStream_t6size_t">
<span id="_CPPv3N5faiss3gpu12AllocRequest12AllocRequestE9AllocTypei11MemorySpace12cudaStream_t6size_t"></span><span id="_CPPv2N5faiss3gpu12AllocRequest12AllocRequestE9AllocTypei11MemorySpace12cudaStream_t6size_t"></span><span id="faiss::gpu::AllocRequest::AllocRequest__AllocType.i.MemorySpace.cudaStream_t.s"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1a498bb2e3d03902fe07db036d3287b355"></span><code class="sig-name descname">AllocRequest</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <em>at</em>, int <em>dev</em>, <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <em>sp</em>, cudaStream_t <em>st</em>, size_t <em>sz</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12AllocRequest8toStringEv">
<span id="_CPPv3NK5faiss3gpu12AllocRequest8toStringEv"></span><span id="_CPPv2NK5faiss3gpu12AllocRequest8toStringEv"></span><span id="faiss::gpu::AllocRequest::toStringC"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1a9089e476b1b39c6fdb5d262e511ebef5"></span>std::string <code class="sig-name descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns a string representation of this request. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest4sizeE">
<span id="_CPPv3N5faiss3gpu12AllocRequest4sizeE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest4sizeE"></span><span id="faiss::gpu::AllocRequest::size__s"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocRequest_1a93563f81de28e3628f4b657536c95ceb"></span>size_t <code class="sig-name descname">size</code><br /></dt>
<dd><p>The size in bytes of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest4typeE">
<span id="_CPPv3N5faiss3gpu12AllocRequest4typeE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest4typeE"></span><span id="faiss::gpu::AllocRequest::type__AllocType"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1ae927d4e6e7b86c3541ffd0106f3b6d34"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu9AllocTypeE" title="faiss::gpu::AllocType">AllocType</a> <code class="sig-name descname">type</code><br /></dt>
<dd><p>The internal category of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest6deviceE">
<span id="_CPPv3N5faiss3gpu12AllocRequest6deviceE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest6deviceE"></span><span id="faiss::gpu::AllocRequest::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1aa1417147ce3c9b88c2600d7b2618f719"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>The device on which the allocation is happening. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest5spaceE">
<span id="_CPPv3N5faiss3gpu12AllocRequest5spaceE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest5spaceE"></span><span id="faiss::gpu::AllocRequest::space__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1a5be5f0b54e3fe97ceca73df4799b87ee"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">space</code><br /></dt>
<dd><p>The memory space of the allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12AllocRequest6streamE">
<span id="_CPPv3N5faiss3gpu12AllocRequest6streamE"></span><span id="_CPPv2N5faiss3gpu12AllocRequest6streamE"></span><span id="faiss::gpu::AllocRequest::stream__cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1AllocInfo_1aa84beb46d87edf606343beefeb882bd0"></span>cudaStream_t <code class="sig-name descname">stream</code><br /></dt>
<dd><p>The stream on which new work on the memory will be ordered (e.g., if a piece of memory cached and to be returned for this call was last used on stream 3 and a new memory request is for stream 4, the memory manager will synchronize stream 4 to wait for the completion of stream 3 via events or other stream synchronization.</p>
<p>The memory manager guarantees that the returned memory is free to use without data races on this stream specified. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu8CpuTimerE">
<span id="_CPPv3N5faiss3gpu8CpuTimerE"></span><span id="_CPPv2N5faiss3gpu8CpuTimerE"></span><span id="faiss::gpu::CpuTimer"></span><span class="target" id="classfaiss_1_1gpu_1_1CpuTimer"></span><em class="property">class </em><code class="sig-name descname">CpuTimer</code><br /></dt>
<dd><em>#include &lt;Timer.h&gt;</em><p>CPU wallclock elapsed timer. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8CpuTimer8CpuTimerEv">
<span id="_CPPv3N5faiss3gpu8CpuTimer8CpuTimerEv"></span><span id="_CPPv2N5faiss3gpu8CpuTimer8CpuTimerEv"></span><span id="faiss::gpu::CpuTimer::CpuTimer"></span><span class="target" id="classfaiss_1_1gpu_1_1CpuTimer_1af2f8e832b4c5425e152834ae7aa2af49"></span><code class="sig-name descname">CpuTimer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Creates and starts a new timer. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8CpuTimer19elapsedMillisecondsEv">
<span id="_CPPv3N5faiss3gpu8CpuTimer19elapsedMillisecondsEv"></span><span id="_CPPv2N5faiss3gpu8CpuTimer19elapsedMillisecondsEv"></span><span id="faiss::gpu::CpuTimer::elapsedMilliseconds"></span><span class="target" id="classfaiss_1_1gpu_1_1CpuTimer_1a4a2795debf10bc7eb904d62356e41f0d"></span>float <code class="sig-name descname">elapsedMilliseconds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns elapsed time in milliseconds. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8CpuTimer6start_E">
<span id="_CPPv3N5faiss3gpu8CpuTimer6start_E"></span><span id="_CPPv2N5faiss3gpu8CpuTimer6start_E"></span><span id="faiss::gpu::CpuTimer::start___timespec"></span><span class="target" id="classfaiss_1_1gpu_1_1CpuTimer_1a9ee5ff7a6ce21c7aa8251fe0e18f1521"></span><em class="property">struct</em> timespec <code class="sig-name descname">start_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScopeE">
<span id="_CPPv3N5faiss3gpu17CublasHandleScopeE"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScopeE"></span><span id="faiss::gpu::CublasHandleScope"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope"></span><em class="property">class </em><code class="sig-name descname">CublasHandleScope</code><br /></dt>
<dd><em>#include &lt;DeviceUtils.h&gt;</em><p>RAII object to manage a cublasHandle_t. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScope17CublasHandleScopeEv">
<span id="_CPPv3N5faiss3gpu17CublasHandleScope17CublasHandleScopeEv"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScope17CublasHandleScopeEv"></span><span id="faiss::gpu::CublasHandleScope::CublasHandleScope"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope_1a7bcf61f669741a93cab18a0fa71b8df7"></span><code class="sig-name descname">CublasHandleScope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScopeD0Ev">
<span id="_CPPv3N5faiss3gpu17CublasHandleScopeD0Ev"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScopeD0Ev"></span><span id="faiss::gpu::CublasHandleScope::~CublasHandleScope"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope_1aebc00829e05d127f84f6502c61911109"></span><code class="sig-name descname">~CublasHandleScope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScope3getEv">
<span id="_CPPv3N5faiss3gpu17CublasHandleScope3getEv"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScope3getEv"></span><span id="faiss::gpu::CublasHandleScope::get"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope_1ad72c3f76d76df0a5b8947b4a07a37cb5"></span>cublasHandle_t <code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17CublasHandleScope11blasHandle_E">
<span id="_CPPv3N5faiss3gpu17CublasHandleScope11blasHandle_E"></span><span id="_CPPv2N5faiss3gpu17CublasHandleScope11blasHandle_E"></span><span id="faiss::gpu::CublasHandleScope::blasHandle___cublasHandle_t"></span><span class="target" id="classfaiss_1_1gpu_1_1CublasHandleScope_1a990a8e8805606bba7a6450404c6d05d1"></span>cublasHandle_t <code class="sig-name descname">blasHandle_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu9CudaEventE">
<span id="_CPPv3N5faiss3gpu9CudaEventE"></span><span id="_CPPv2N5faiss3gpu9CudaEventE"></span><span id="faiss::gpu::CudaEvent"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent"></span><em class="property">class </em><code class="sig-name descname">CudaEvent</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent9CudaEventE12cudaStream_tb">
<span id="_CPPv3N5faiss3gpu9CudaEvent9CudaEventE12cudaStream_tb"></span><span id="_CPPv2N5faiss3gpu9CudaEvent9CudaEventE12cudaStream_tb"></span><span id="faiss::gpu::CudaEvent::CudaEvent__cudaStream_t.b"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a53bb2b58bd6ddc1b9b8e317db8eb3e2a"></span><code class="sig-name descname">CudaEvent</code><span class="sig-paren">(</span>cudaStream_t <em>stream</em>, bool <em>timer</em> = false<span class="sig-paren">)</span><br /></dt>
<dd><p>Creates an event and records it in this stream. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent9CudaEventERK9CudaEvent">
<span id="_CPPv3N5faiss3gpu9CudaEvent9CudaEventERK9CudaEvent"></span><span id="_CPPv2N5faiss3gpu9CudaEvent9CudaEventERK9CudaEvent"></span><span id="faiss::gpu::CudaEvent::CudaEvent__CudaEventCR"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1ad72ad67f6eb35e7716ef153a6d212dc7"></span><code class="sig-name descname">CudaEvent</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEvent9CudaEventERK9CudaEvent" title="faiss::gpu::CudaEvent::CudaEvent">CudaEvent</a> &amp;<em>event</em><span class="sig-paren">)</span> = delete<br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent9CudaEventERR9CudaEvent">
<span id="_CPPv3N5faiss3gpu9CudaEvent9CudaEventERR9CudaEvent"></span><span id="_CPPv2N5faiss3gpu9CudaEvent9CudaEventERR9CudaEvent"></span><span id="faiss::gpu::CudaEvent::CudaEvent__CudaEventRR"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1acf9a0e14a2b79745a45cff67e94988dd"></span><code class="sig-name descname">CudaEvent</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEvent9CudaEventERR9CudaEvent" title="faiss::gpu::CudaEvent::CudaEvent">CudaEvent</a> &amp;&amp;<em>event</em><span class="sig-paren">)</span> <em class="property">noexcept</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEventD0Ev">
<span id="_CPPv3N5faiss3gpu9CudaEventD0Ev"></span><span id="_CPPv2N5faiss3gpu9CudaEventD0Ev"></span><span id="faiss::gpu::CudaEvent::~CudaEvent"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a6ab1e9050459d4509daf294eb6e50ea3"></span><code class="sig-name descname">~CudaEvent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent3getEv">
<span id="_CPPv3N5faiss3gpu9CudaEvent3getEv"></span><span id="_CPPv2N5faiss3gpu9CudaEvent3getEv"></span><span id="faiss::gpu::CudaEvent::get"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1adfd9acdace7565145c339c7a3241e151"></span>cudaEvent_t <code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent17streamWaitOnEventE12cudaStream_t">
<span id="_CPPv3N5faiss3gpu9CudaEvent17streamWaitOnEventE12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu9CudaEvent17streamWaitOnEventE12cudaStream_t"></span><span id="faiss::gpu::CudaEvent::streamWaitOnEvent__cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1ad8968b298b95788c7679d7e5aa0571eb"></span>void <code class="sig-name descname">streamWaitOnEvent</code><span class="sig-paren">(</span>cudaStream_t <em>stream</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Wait on this event in this stream. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEvent14cpuWaitOnEventEv">
<span id="_CPPv3N5faiss3gpu9CudaEvent14cpuWaitOnEventEv"></span><span id="_CPPv2N5faiss3gpu9CudaEvent14cpuWaitOnEventEv"></span><span id="faiss::gpu::CudaEvent::cpuWaitOnEvent"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a9c85540093aaf87de80ece9f854e7c57"></span>void <code class="sig-name descname">cpuWaitOnEvent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Have the CPU wait for the completion of this event. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEventaSERR9CudaEvent">
<span id="_CPPv3N5faiss3gpu9CudaEventaSERR9CudaEvent"></span><span id="_CPPv2N5faiss3gpu9CudaEventaSERR9CudaEvent"></span><span id="faiss::gpu::CudaEvent::assign-operator__CudaEventRR"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a19acf4ec7faca9bddda2a23f4b1371d3"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEventE" title="faiss::gpu::CudaEvent">CudaEvent</a> &amp;<code class="sig-name descname">operator=</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEventE" title="faiss::gpu::CudaEvent">CudaEvent</a> &amp;&amp;<em>event</em><span class="sig-paren">)</span> <em class="property">noexcept</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu9CudaEventaSER9CudaEvent">
<span id="_CPPv3N5faiss3gpu9CudaEventaSER9CudaEvent"></span><span id="_CPPv2N5faiss3gpu9CudaEventaSER9CudaEvent"></span><span id="faiss::gpu::CudaEvent::assign-operator__CudaEventR"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a204899e640da688e4c5c526656ab0ffc"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEventE" title="faiss::gpu::CudaEvent">CudaEvent</a> &amp;<code class="sig-name descname">operator=</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1CudaEvent.html#_CPPv4N5faiss3gpu9CudaEventE" title="faiss::gpu::CudaEvent">CudaEvent</a> &amp;<em>event</em><span class="sig-paren">)</span> = delete<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu9CudaEvent6event_E">
<span id="_CPPv3N5faiss3gpu9CudaEvent6event_E"></span><span id="_CPPv2N5faiss3gpu9CudaEvent6event_E"></span><span id="faiss::gpu::CudaEvent::event___cudaEvent_t"></span><span class="target" id="classfaiss_1_1gpu_1_1CudaEvent_1a8aaeb33f793e5495ca2d12f76602b4e2"></span>cudaEvent_t <code class="sig-name descname">event_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu11DeviceScopeE">
<span id="_CPPv3N5faiss3gpu11DeviceScopeE"></span><span id="_CPPv2N5faiss3gpu11DeviceScopeE"></span><span id="faiss::gpu::DeviceScope"></span><span class="target" id="classfaiss_1_1gpu_1_1DeviceScope"></span><em class="property">class </em><code class="sig-name descname">DeviceScope</code><br /></dt>
<dd><em>#include &lt;DeviceUtils.h&gt;</em><p>RAII object to set the current device, and restore the previous device upon destruction </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11DeviceScope11DeviceScopeEi">
<span id="_CPPv3N5faiss3gpu11DeviceScope11DeviceScopeEi"></span><span id="_CPPv2N5faiss3gpu11DeviceScope11DeviceScopeEi"></span><span id="faiss::gpu::DeviceScope::DeviceScope__i"></span><span class="target" id="classfaiss_1_1gpu_1_1DeviceScope_1a0a7a0d5443adc242b076a17c2b0e8db9"></span><code class="sig-name descname">DeviceScope</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11DeviceScopeD0Ev">
<span id="_CPPv3N5faiss3gpu11DeviceScopeD0Ev"></span><span id="_CPPv2N5faiss3gpu11DeviceScopeD0Ev"></span><span id="faiss::gpu::DeviceScope::~DeviceScope"></span><span class="target" id="classfaiss_1_1gpu_1_1DeviceScope_1a418b10428f83a90c6b7fc4aad6cd9cfe"></span><code class="sig-name descname">~DeviceScope</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11DeviceScope11prevDevice_E">
<span id="_CPPv3N5faiss3gpu11DeviceScope11prevDevice_E"></span><span id="_CPPv2N5faiss3gpu11DeviceScope11prevDevice_E"></span><span id="faiss::gpu::DeviceScope::prevDevice___i"></span><span class="target" id="classfaiss_1_1gpu_1_1DeviceScope_1a9ebf7a524bd0fa7210dd851d7d2baa5c"></span>int <code class="sig-name descname">prevDevice_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptionsE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptionsE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptionsE"></span><span id="faiss::gpu::GpuClonerOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions"></span><em class="property">struct </em><code class="sig-name descname">GpuClonerOptions</code><br /></dt>
<dd><em>#include &lt;GpuClonerOptions.h&gt;</em><p>set some options on how to copy to GPU </p>
<p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuMultipleClonerOptions.html#structfaiss_1_1gpu_1_1GpuMultipleClonerOptions"><span class="std std-ref">faiss::gpu::GpuMultipleClonerOptions</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1ToGpuCloner.html#structfaiss_1_1gpu_1_1ToGpuCloner"><span class="std std-ref">faiss::gpu::ToGpuCloner</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions16GpuClonerOptionsEv">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions16GpuClonerOptionsEv"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions16GpuClonerOptionsEv"></span><span id="faiss::gpu::GpuClonerOptions::GpuClonerOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a07e1874e27433a0848dd8fff8392ed0c"></span><code class="sig-name descname">GpuClonerOptions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions14indicesOptionsE"></span><span id="faiss::gpu::GpuClonerOptions::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ad960ac51b7cc607fcb1a1b07efc32a9e"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p>how should indices be stored on index types that support indices (anything but GpuIndexFlat*)? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions25useFloat16CoarseQuantizerE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions25useFloat16CoarseQuantizerE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions25useFloat16CoarseQuantizerE"></span><span id="faiss::gpu::GpuClonerOptions::useFloat16CoarseQuantizer__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a85f3093908b6e9a503c24bb226b17b1b"></span>bool <code class="sig-name descname">useFloat16CoarseQuantizer</code><br /></dt>
<dd><p>is the coarse quantizer in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions10useFloat16E">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions10useFloat16E"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions10useFloat16E"></span><span id="faiss::gpu::GpuClonerOptions::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ac7cc57d6091d6a79ea6020bf8d1fbe27"></span>bool <code class="sig-name descname">useFloat16</code><br /></dt>
<dd><p>for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">GpuIndexIVFFlat</span></a>, is storage in float16? for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, are intermediate calculations in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions14usePrecomputedE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions14usePrecomputedE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions14usePrecomputedE"></span><span id="faiss::gpu::GpuClonerOptions::usePrecomputed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc9c607f2dfc9f23942a523fb49c63fe"></span>bool <code class="sig-name descname">usePrecomputed</code><br /></dt>
<dd><p>use precomputed tables? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions11reserveVecsE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions11reserveVecsE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions11reserveVecsE"></span><span id="faiss::gpu::GpuClonerOptions::reserveVecs__l"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ab60dd87e51af59373a48d73852573f04"></span>long <code class="sig-name descname">reserveVecs</code><br /></dt>
<dd><p>reserve vectors in the invfiles? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions15storeTransposedE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions15storeTransposedE"></span><span id="faiss::gpu::GpuClonerOptions::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a5f2470ec5b2a8fe7aae0542f113b781d"></span>bool <code class="sig-name descname">storeTransposed</code><br /></dt>
<dd><p>For <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a>, store data in transposed layout? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu16GpuClonerOptions7verboseE">
<span id="_CPPv3N5faiss3gpu16GpuClonerOptions7verboseE"></span><span id="_CPPv2N5faiss3gpu16GpuClonerOptions7verboseE"></span><span id="faiss::gpu::GpuClonerOptions::verbose__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc7d0451773e0f2f640338533abc1397"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>Set verbose options on the index. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParamsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParamsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParamsE"></span><span id="faiss::gpu::GpuDistanceParams"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams"></span><em class="property">struct </em><code class="sig-name descname">GpuDistanceParams</code><br /></dt>
<dd><em>#include &lt;GpuDistance.h&gt;</em><p>Arguments to brute-force GPU k-nearest neighbor searching. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams17GpuDistanceParamsEv">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams17GpuDistanceParamsEv"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams17GpuDistanceParamsEv"></span><span id="faiss::gpu::GpuDistanceParams::GpuDistanceParams"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1acc642fa3dfb2bd4d4c595dde12d83c88"></span><code class="sig-name descname">GpuDistanceParams</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams6metricE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams6metricE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams6metricE"></span><span id="faiss::gpu::GpuDistanceParams::metric__faiss::MetricType"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a4427235f12999619094246d7e5cdaafa"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams9metricArgE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams9metricArgE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams9metricArgE"></span><span id="faiss::gpu::GpuDistanceParams::metricArg__float"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a72acefaf5f4d3b7e410a6eff97ec375d"></span>float <code class="sig-name descname">metricArg</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams1kE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams1kE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams1kE"></span><span id="faiss::gpu::GpuDistanceParams::k__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a9f46ba6c76c2cbeb2f35c3ebe2acfcd4"></span>int <code class="sig-name descname">k</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams4dimsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams4dimsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams4dimsE"></span><span id="faiss::gpu::GpuDistanceParams::dims__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1aa0ed4c6020552f15dfec2b8058e2cc26"></span>int <code class="sig-name descname">dims</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams7vectorsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams7vectorsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams7vectorsE"></span><span id="faiss::gpu::GpuDistanceParams::vectors__voidCP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a056e77528c9b0f5f914b5a2cff27cafa"></span><em class="property">const</em> void *<code class="sig-name descname">vectors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams10vectorTypeE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams10vectorTypeE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams10vectorTypeE"></span><span id="faiss::gpu::GpuDistanceParams::vectorType__DistanceDataType"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a38675c80c01de518a2d960d0a16d2bd8"></span><a class="reference internal" href="../file/GpuDistance_8h.html#_CPPv4N5faiss3gpu16DistanceDataTypeE" title="faiss::gpu::DistanceDataType">DistanceDataType</a> <code class="sig-name descname">vectorType</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams15vectorsRowMajorE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams15vectorsRowMajorE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams15vectorsRowMajorE"></span><span id="faiss::gpu::GpuDistanceParams::vectorsRowMajor__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a784111949c261dcd9c1e0f174ece623b"></span>bool <code class="sig-name descname">vectorsRowMajor</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams10numVectorsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams10numVectorsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams10numVectorsE"></span><span id="faiss::gpu::GpuDistanceParams::numVectors__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a3a30590cd98103929ca605e21e7d0561"></span>int <code class="sig-name descname">numVectors</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams11vectorNormsE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams11vectorNormsE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams11vectorNormsE"></span><span id="faiss::gpu::GpuDistanceParams::vectorNorms__floatCP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1aef4df8038d668bcad75787a123aef689"></span><em class="property">const</em> float *<code class="sig-name descname">vectorNorms</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams7queriesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams7queriesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams7queriesE"></span><span id="faiss::gpu::GpuDistanceParams::queries__voidCP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a9bdef6601a49e2fa0ed704ebd8c37800"></span><em class="property">const</em> void *<code class="sig-name descname">queries</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams9queryTypeE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams9queryTypeE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams9queryTypeE"></span><span id="faiss::gpu::GpuDistanceParams::queryType__DistanceDataType"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1ac3e25631561ebfdb2df21e69b402061b"></span><a class="reference internal" href="../file/GpuDistance_8h.html#_CPPv4N5faiss3gpu16DistanceDataTypeE" title="faiss::gpu::DistanceDataType">DistanceDataType</a> <code class="sig-name descname">queryType</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams15queriesRowMajorE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams15queriesRowMajorE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams15queriesRowMajorE"></span><span id="faiss::gpu::GpuDistanceParams::queriesRowMajor__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a27221aaa9e83abf2875ae0e5b76f5f9b"></span>bool <code class="sig-name descname">queriesRowMajor</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams10numQueriesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams10numQueriesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams10numQueriesE"></span><span id="faiss::gpu::GpuDistanceParams::numQueries__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a482b948a09cfcc97c8033cb2901b2d40"></span>int <code class="sig-name descname">numQueries</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams12outDistancesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams12outDistancesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams12outDistancesE"></span><span id="faiss::gpu::GpuDistanceParams::outDistances__floatP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a9ad96367054d61e361107f5c1e7e0535"></span>float *<code class="sig-name descname">outDistances</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams18ignoreOutDistancesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams18ignoreOutDistancesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams18ignoreOutDistancesE"></span><span id="faiss::gpu::GpuDistanceParams::ignoreOutDistances__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a6c2c87890ef21e22f38059cb6bf614be"></span>bool <code class="sig-name descname">ignoreOutDistances</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams14outIndicesTypeE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams14outIndicesTypeE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams14outIndicesTypeE"></span><span id="faiss::gpu::GpuDistanceParams::outIndicesType__IndicesDataType"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1adff919837926113a0022b2889d931d27"></span><a class="reference internal" href="../file/GpuDistance_8h.html#_CPPv4N5faiss3gpu15IndicesDataTypeE" title="faiss::gpu::IndicesDataType">IndicesDataType</a> <code class="sig-name descname">outIndicesType</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuDistanceParams10outIndicesE">
<span id="_CPPv3N5faiss3gpu17GpuDistanceParams10outIndicesE"></span><span id="_CPPv2N5faiss3gpu17GpuDistanceParams10outIndicesE"></span><span id="faiss::gpu::GpuDistanceParams::outIndices__voidP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuDistanceParams_1a2b44c3fec85b2fa6f9b52894a11242b2"></span>void *<code class="sig-name descname">outIndices</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu8GpuIndexE">
<span id="_CPPv3N5faiss3gpu8GpuIndexE"></span><span id="_CPPv2N5faiss3gpu8GpuIndexE"></span><span id="faiss::gpu::GpuIndex"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex"></span><em class="property">class </em><code class="sig-name descname">GpuIndex</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">faiss::gpu::GpuIndexFlat</span></a>, <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVF"><span class="std std-ref">faiss::gpu::GpuIndexIVF</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu8GpuIndex5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu8GpuIndex11component_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex11component_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10distance_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex10distance_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex8GpuIndexENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeEf14GpuIndexConfig">
<span id="_CPPv3N5faiss3gpu8GpuIndex8GpuIndexENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeEf14GpuIndexConfig"></span><span id="_CPPv2N5faiss3gpu8GpuIndex8GpuIndexENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeEf14GpuIndexConfig"></span><span id="faiss::gpu::GpuIndex::GpuIndex__std::shared_ptr:GpuResources:.i.faiss::MetricType.float.GpuIndexConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9711f1d478ac1e3b672811226823978d"></span><code class="sig-name descname">GpuIndex</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, float <em>metricArg</em>, <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <em>config</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu8GpuIndex9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex9getDeviceEv"></span><span id="faiss::gpu::GpuIndex::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex12getResourcesEv">
<span id="_CPPv3N5faiss3gpu8GpuIndex12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu8GpuIndex12getResourcesEv"></span><span id="faiss::gpu::GpuIndex::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu8GpuIndex16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu8GpuIndex16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndex::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu8GpuIndex16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndex::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu8GpuIndex3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu8GpuIndex3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndex::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex5trainE5idx_tPKf">
<span id="_CPPv3N5faiss3gpu8GpuIndex5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss3gpu8GpuIndex5trainE5idx_tPKf"></span><span id="faiss::gpu::GpuIndex::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu8GpuIndex12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndex::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex5resetEv">
<span id="_CPPv3N5faiss3gpu8GpuIndex5resetEv"></span><span id="_CPPv2N5faiss3gpu8GpuIndex5resetEv"></span><span id="faiss::gpu::GpuIndex::reset"></span><span class="target" id="structfaiss_1_1Index_1a849361f5f0ab0aba8d419c86f2594191"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu8GpuIndex10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndex::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu8GpuIndex11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndex::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu8GpuIndex13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndex::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu8GpuIndex22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndex::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu8GpuIndex21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndex::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu8GpuIndex12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndex::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu8GpuIndex9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndex::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu8GpuIndex9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndex::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex1dE">
<span id="_CPPv3N5faiss3gpu8GpuIndex1dE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex1dE"></span><span id="faiss::gpu::GpuIndex::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex6ntotalE">
<span id="_CPPv3N5faiss3gpu8GpuIndex6ntotalE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex6ntotalE"></span><span id="faiss::gpu::GpuIndex::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndex5idx_tE" title="faiss::gpu::GpuIndex::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex7verboseE">
<span id="_CPPv3N5faiss3gpu8GpuIndex7verboseE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex7verboseE"></span><span id="faiss::gpu::GpuIndex::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10is_trainedE">
<span id="_CPPv3N5faiss3gpu8GpuIndex10is_trainedE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10is_trainedE"></span><span id="faiss::gpu::GpuIndex::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex11metric_typeE">
<span id="_CPPv3N5faiss3gpu8GpuIndex11metric_typeE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex11metric_typeE"></span><span id="faiss::gpu::GpuIndex::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10metric_argE">
<span id="_CPPv3N5faiss3gpu8GpuIndex10metric_argE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10metric_argE"></span><span id="faiss::gpu::GpuIndex::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu8GpuIndex8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndex::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndex::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu8GpuIndex19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndex::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a358cad8f80a9c4b3aff45f3f7c131d03"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ae8479445214c5ef37adf154c138ce973"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Overridden to actually perform the add All data is guaranteed to be resident on our device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a184c443785b715fd692b2b67aa71d687"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Overridden to actually perform the search All data is guaranteed to be resident on our device </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex10resources_E">
<span id="_CPPv3N5faiss3gpu8GpuIndex10resources_E"></span><span id="_CPPv2N5faiss3gpu8GpuIndex10resources_E"></span><span id="faiss::gpu::GpuIndex::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex7config_E">
<span id="_CPPv3N5faiss3gpu8GpuIndex7config_E"></span><span id="_CPPv2N5faiss3gpu8GpuIndex7config_E"></span><span id="faiss::gpu::GpuIndex::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu8GpuIndex13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu8GpuIndex13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu8GpuIndex13minPagedSize_E"></span><span id="faiss::gpu::GpuIndex::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex9addPaged_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex9addPaged_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex9addPaged_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::addPaged___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aa54a945b1b8d2cde9a19bb21bc46af83"></span>void <code class="sig-name descname">addPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Handles paged adds if the add set is too large, passes to addImpl_ to actually perform the add for the current page </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu8GpuIndex8addPage_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu8GpuIndex8addPage_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu8GpuIndex8addPage_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::addPage___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af62c6767e8bbe6e7a3d21de1c25351e9"></span>void <code class="sig-name descname">addPage_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls addImpl_ for a single page of GPU-resident data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex15searchNonPaged_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex15searchNonPaged_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex15searchNonPaged_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::searchNonPaged___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1acd3020a33b4690a13b6af443cb3258aa"></span>void <code class="sig-name descname">searchNonPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>outDistancesData</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>outIndicesData</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Calls searchImpl_ for a single page of GPU-resident data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu8GpuIndex19searchFromCpuPaged_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu8GpuIndex19searchFromCpuPaged_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu8GpuIndex19searchFromCpuPaged_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndex::searchFromCpuPaged___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af2f61c6a197d2843662812ee17c11d7f"></span>void <code class="sig-name descname">searchFromCpuPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>outDistancesData</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>outIndicesData</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Calls searchImpl_ for a single page of GPU-resident data, handling paging of the data and copies from the CPU </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlatE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlatE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlatE"></span><span id="faiss::gpu::GpuIndexBinaryFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat"></span><em class="property">class </em><code class="sig-name descname">GpuIndexBinaryFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a><br /></dt>
<dd><em>#include &lt;GpuIndexBinaryFlat.h&gt;</em><p>A GPU version of <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryFlat.html#structfaiss_1_1IndexBinaryFlat"><span class="std std-ref">IndexBinaryFlat</span></a> for brute-force comparison of bit vectors via Hamming distance </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat5idx_tE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat5idx_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1a01749bbdbd3b7ec6bb9390257ab16c5c"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a><br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat11component_tE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat11component_tE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat11component_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1aaa0f338d22575d508cd6141972addaa6"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = uint8_t<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat10distance_tE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat10distance_tE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat10distance_tE"></span><span class="target" id="structfaiss_1_1IndexBinary_1af958aa9b51dac1fcc433014959cad20c"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = int32_t<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProviderPKN5faiss15IndexBinaryFlatE24GpuIndexBinaryFlatConfig">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProviderPKN5faiss15IndexBinaryFlatE24GpuIndexBinaryFlatConfig"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProviderPKN5faiss15IndexBinaryFlatE24GpuIndexBinaryFlatConfig"></span><span id="faiss::gpu::GpuIndexBinaryFlat::GpuIndexBinaryFlat__GpuResourcesProviderP.faiss::IndexBinaryFlatCP.GpuIndexBinaryFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1ae481f44b2f5233e2cc21298243133d6a"></span><code class="sig-name descname">GpuIndexBinaryFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>resources</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinaryFlat_8h.html#_CPPv4N5faiss15IndexBinaryFlatE" title="faiss::IndexBinaryFlat">IndexBinaryFlat</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexBinaryFlat.html#structfaiss_1_1IndexBinaryFlat"><span class="std std-ref">faiss::IndexBinaryFlat</span></a> instance, copying data over to the given GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProvideri24GpuIndexBinaryFlatConfig">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProvideri24GpuIndexBinaryFlatConfig"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat18GpuIndexBinaryFlatEP20GpuResourcesProvideri24GpuIndexBinaryFlatConfig"></span><span id="faiss::gpu::GpuIndexBinaryFlat::GpuIndexBinaryFlat__GpuResourcesProviderP.i.GpuIndexBinaryFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1af63a3b95ee7d806e37143b686e1c1d1d"></span><code class="sig-name descname">GpuIndexBinaryFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty instance that can be added to. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlatD0Ev">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlatD0Ev"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlatD0Ev"></span><span id="faiss::gpu::GpuIndexBinaryFlat::~GpuIndexBinaryFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a133dbba6c51339bcc3d15f7f66f90611"></span><code class="sig-name descname">~GpuIndexBinaryFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat9getDeviceEv"></span><span id="faiss::gpu::GpuIndexBinaryFlat::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a7f84b85338a3264d70ed30af4356d87b"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat12getResourcesEv">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat12getResourcesEv"></span><span id="faiss::gpu::GpuIndexBinaryFlat::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a2c649f0f33a0be2738d3ff7c0e7103c5"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat8copyFromEPKN5faiss15IndexBinaryFlatE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat8copyFromEPKN5faiss15IndexBinaryFlatE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat8copyFromEPKN5faiss15IndexBinaryFlatE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::copyFrom__faiss::IndexBinaryFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a1acf93b118b4136857b5dd9ab614e901"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinaryFlat_8h.html#_CPPv4N5faiss15IndexBinaryFlatE" title="faiss::IndexBinaryFlat">IndexBinaryFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat6copyToEPN5faiss15IndexBinaryFlatE">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat6copyToEPN5faiss15IndexBinaryFlatE"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat6copyToEPN5faiss15IndexBinaryFlatE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::copyTo__faiss::IndexBinaryFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a4a00b93de336e8536c657d69803ff5c2"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinaryFlat_8h.html#_CPPv4N5faiss15IndexBinaryFlatE" title="faiss::IndexBinaryFlat">IndexBinaryFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat3addEN5faiss11IndexBinary5idx_tEPK7uint8_t">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat3addEN5faiss11IndexBinary5idx_tEPK7uint8_t"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat3addEN5faiss11IndexBinary5idx_tEPK7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::add__faiss::IndexBinary::idx_t.uint8_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a84b9c07089abd5c0fa8f07a7a22de047"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Add n vectors of dimension d to the index.</p>
<p>Vectors are implicitly assigned labels ntotal .. ntotal + n - 1 <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input matrix, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5resetEv">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat5resetEv"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat5resetEv"></span><span id="faiss::gpu::GpuIndexBinaryFlat::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1ac8f14dd3257963082fa638d24df244d6"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat6searchEN5faiss11IndexBinary5idx_tEPK7uint8_tN5faiss11IndexBinary5idx_tEP7int32_tPN5faiss11IndexBinary5idx_tE">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat6searchEN5faiss11IndexBinary5idx_tEPK7uint8_tN5faiss11IndexBinary5idx_tEP7int32_tPN5faiss11IndexBinary5idx_tE"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat6searchEN5faiss11IndexBinary5idx_tEPK7uint8_tN5faiss11IndexBinary5idx_tEP7int32_tPN5faiss11IndexBinary5idx_tE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::search__faiss::IndexBinary::idx_t.uint8_tCP.faiss::IndexBinary::idx_t.int32_tP.faiss::IndexBinary::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1aa4d81e853f4194a8b865fcfe7dddd050"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return at most k vectors. If there are not enough results for a query, the result array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">distances</span></code>: output pairwise distances, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat11reconstructEN5faiss11IndexBinary5idx_tEP7uint8_t">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat11reconstructEN5faiss11IndexBinary5idx_tEP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat11reconstructEN5faiss11IndexBinary5idx_tEP7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::reconstruct__faiss::IndexBinary::idx_t.uint8_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a9b16b11b5fcc5cc97359e684f5e4a338"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinaryE" title="faiss::IndexBinary">IndexBinary</a>::<a class="reference internal" href="../file/IndexBinary_8h.html#_CPPv4N5faiss11IndexBinary5idx_tE" title="faiss::IndexBinary::idx_t">idx_t</a> <em>key</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruct a stored vector.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5trainE5idx_tPK7uint8_t">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat5trainE5idx_tPK7uint8_t"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat5trainE5idx_tPK7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::train__idx_t.uint8_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a3c0ffd1655d8a5486660cb025340c9a4"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d / 8 </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat12add_with_idsE5idx_tPK7uint8_tPK5idx_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::add_with_ids__idx_t.uint8_tCP.idx_tCP"></span><span class="target" id="structfaiss_1_1IndexBinary_1a33c74f55b919bf39138bb2ba60bbaafc"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> *<em>xids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Same as add, but stores xids instead of sequential ids.</p>
<p>The default implementation fails with an assertion, as it is not supported by all indexes.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xids</span></code>: if non-null, ids to store for the vectors (size n) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat12range_searchE5idx_tPK7uint8_tiP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexBinaryFlat::range_search__idx_t.uint8_tCP.i.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1a35aedb48dd0270377f5602d61b783fd1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory). The distances are converted to float to reuse the RangeSearchResult structure, but they are integer. By convention, only distances &lt; radius (strict comparison) are returned, ie. radius = 0 does not return any result and 1 returns only exact same vectors.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat6assignE5idx_tPK7uint8_tP5idx_t5idx_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::assign__idx_t.uint8_tCP.idx_tP.idx_tC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa706d8807d29c91e0a148553a8202bc9"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the indexes of the k vectors closest to the query x.</p>
<p>This function is identical to search but only returns labels of neighbors. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d / 8 </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">labels</span></code>: output labels of the NNs, size n*k </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexBinaryFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1IndexBinary_1a5ea7dee38e40f66b86d892bab2b6b80e"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Removes IDs from the index. Not supported by all indexes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat13reconstruct_nE5idx_t5idx_tP7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::reconstruct_n__idx_t.idx_t.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1afbeb7aa476a119b17cbfdb87e9de91e4"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>ni</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1.</p>
<p>This function may not be defined for some indexes. <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vectors (size ni * d / 8) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat22search_and_reconstructE5idx_tPK7uint8_t5idx_tP7int32_tP5idx_tP7uint8_t"></span><span id="faiss::gpu::GpuIndexBinaryFlat::search_and_reconstruct__idx_t.uint8_tCP.idx_t.int32_tP.idx_tP.uint8_tPC"></span><span class="target" id="structfaiss_1_1IndexBinary_1ae7a4b9bdbe6f4392d00cf4e44120409e"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <em>k</em>, int32_t *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> *<em>labels</em>, uint8_t *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting array is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat7displayEv">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat7displayEv"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat7displayEv"></span><span id="faiss::gpu::GpuIndexBinaryFlat::displayC"></span><span class="target" id="structfaiss_1_1IndexBinary_1aa22c24398be85229e338b15ea9a0e3f1"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Display the actual class name and some more info. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat1dE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat1dE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat1dE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::d__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a0e485a7189eec2675032486d3b12cf88"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat9code_sizeE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat9code_sizeE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat9code_sizeE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::code_size__i"></span><span class="target" id="structfaiss_1_1IndexBinary_1a277c2645b8def11c5d982384098c5380"></span>int <code class="sig-name descname">code_size</code><br /></dt>
<dd><p>number of bytes per vector ( = d / 8 ) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat6ntotalE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat6ntotalE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat6ntotalE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1IndexBinary_1a41b6759d127475d5fcd2b3982a8f355e"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html#_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5idx_tE" title="faiss::gpu::GpuIndexBinaryFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat7verboseE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat7verboseE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat7verboseE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::verbose__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a1656c00d77d55999becd71e3d8ea6dd7"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat10is_trainedE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat10is_trainedE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat10is_trainedE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1IndexBinary_1a132119ae93e240b54621c5c669853c7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat11metric_typeE">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat11metric_typeE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat11metric_typeE"></span><span id="faiss::gpu::GpuIndexBinaryFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1IndexBinary_1a344529c829717012b530ef9c13b145b7"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat19searchFromCpuPaged_EiPK7uint8_tiP7int32_tPi">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat19searchFromCpuPaged_EiPK7uint8_tiP7int32_tPi"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat19searchFromCpuPaged_EiPK7uint8_tiP7int32_tPi"></span><span id="faiss::gpu::GpuIndexBinaryFlat::searchFromCpuPaged___i.uint8_tCP.i.int32_tP.iPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a24a12945934042c0117e108ee3f82d66"></span>void <code class="sig-name descname">searchFromCpuPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>k</em>, int32_t *<em>outDistancesData</em>, int *<em>outIndicesData</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Called from search when the input data is on the CPU; potentially allows for pinned memory usage </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu18GpuIndexBinaryFlat15searchNonPaged_EiPK7uint8_tiP7int32_tPi">
<span id="_CPPv3NK5faiss3gpu18GpuIndexBinaryFlat15searchNonPaged_EiPK7uint8_tiP7int32_tPi"></span><span id="_CPPv2NK5faiss3gpu18GpuIndexBinaryFlat15searchNonPaged_EiPK7uint8_tiP7int32_tPi"></span><span id="faiss::gpu::GpuIndexBinaryFlat::searchNonPaged___i.uint8_tCP.i.int32_tP.iPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a9f569b1b69e696a8bc2ef298309be8f2"></span>void <code class="sig-name descname">searchNonPaged_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> uint8_t *<em>x</em>, int <em>k</em>, int32_t *<em>outDistancesData</em>, int *<em>outIndicesData</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat10resources_E">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat10resources_E"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat10resources_E"></span><span id="faiss::gpu::GpuIndexBinaryFlat::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1aa5486bb18c4dd2bf2acdb1324b31940b"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streans, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat17binaryFlatConfig_E">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat17binaryFlatConfig_E"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat17binaryFlatConfig_E"></span><span id="faiss::gpu::GpuIndexBinaryFlat::binaryFlatConfig___GpuIndexBinaryFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a280f27e2529d4ce6e08520c7687254c3"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexBinaryFlat_8h.html#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE" title="faiss::gpu::GpuIndexBinaryFlatConfig">GpuIndexBinaryFlatConfig</a> <code class="sig-name descname">binaryFlatConfig_</code><br /></dt>
<dd><p>Configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexBinaryFlat5data_E">
<span id="_CPPv3N5faiss3gpu18GpuIndexBinaryFlat5data_E"></span><span id="_CPPv2N5faiss3gpu18GpuIndexBinaryFlat5data_E"></span><span id="faiss::gpu::GpuIndexBinaryFlat::data___std::unique_ptr:BinaryFlatIndex:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat_1a6962261dda56de7315ba0481722dfc1f"></span>std::unique_ptr&lt;BinaryFlatIndex&gt; <code class="sig-name descname">data_</code><br /></dt>
<dd><p>Holds our GPU data containing the list of vectors. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfigE">
<span id="_CPPv3N5faiss3gpu24GpuIndexBinaryFlatConfigE"></span><span id="_CPPv2N5faiss3gpu24GpuIndexBinaryFlatConfigE"></span><span id="faiss::gpu::GpuIndexBinaryFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexBinaryFlatConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexBinaryFlatConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfig6deviceE">
<span id="_CPPv3N5faiss3gpu24GpuIndexBinaryFlatConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu24GpuIndexBinaryFlatConfig6deviceE"></span><span id="faiss::gpu::GpuIndexBinaryFlatConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><a class="headerlink" href="#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfig6deviceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu24GpuIndexBinaryFlatConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu24GpuIndexBinaryFlatConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexBinaryFlatConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><a class="headerlink" href="#_CPPv4N5faiss3gpu24GpuIndexBinaryFlatConfig11memorySpaceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu14GpuIndexConfigE">
<span id="_CPPv3N5faiss3gpu14GpuIndexConfigE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexConfigE"></span><span id="faiss::gpu::GpuIndexConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexConfig</code><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexBinaryFlatConfig.html#structfaiss_1_1gpu_1_1GpuIndexBinaryFlatConfig"><span class="std std-ref">faiss::gpu::GpuIndexBinaryFlatConfig</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexFlatConfig.html#structfaiss_1_1gpu_1_1GpuIndexFlatConfig"><span class="std std-ref">faiss::gpu::GpuIndexFlatConfig</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexIVFConfig.html#structfaiss_1_1gpu_1_1GpuIndexIVFConfig"><span class="std std-ref">faiss::gpu::GpuIndexIVFConfig</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexConfig14GpuIndexConfigEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexConfig14GpuIndexConfigEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexConfig14GpuIndexConfigEv"></span><span id="faiss::gpu::GpuIndexConfig::GpuIndexConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adabe0f431b8dec6968ef0abe91b17189"></span><code class="sig-name descname">GpuIndexConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexConfig6deviceE">
<span id="_CPPv3N5faiss3gpu14GpuIndexConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexConfig6deviceE"></span><span id="faiss::gpu::GpuIndexConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu14GpuIndexConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlatE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlatE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlatE"></span><span id="faiss::gpu::GpuIndexFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat"></span><em class="property">class </em><code class="sig-name descname">GpuIndexFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndexE" title="faiss::gpu::GpuIndex">GpuIndex</a><br /></dt>
<dd><em>#include &lt;GpuIndexFlat.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a>; copies over centroid data from a given <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a> </p>
<p>Subclassed by <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexFlatIP"><span class="std std-ref">faiss::gpu::GpuIndexFlatIP</span></a>, <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexFlatL2"><span class="std std-ref">faiss::gpu::GpuIndexFlatL2</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat5idx_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat11component_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat11component_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10distance_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10distance_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProviderPKN5faiss9IndexFlatE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProviderPKN5faiss9IndexFlatE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProviderPKN5faiss9IndexFlatE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlat::GpuIndexFlat__GpuResourcesProviderP.faiss::IndexFlatCP.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad191c8e9fad1233a3bfb69c6f6a50154"></span><code class="sig-name descname">GpuIndexFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a> instance, copying data over to the given GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEPKN5faiss9IndexFlatE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEPKN5faiss9IndexFlatE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEPKN5faiss9IndexFlatE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlat::GpuIndexFlat__std::shared_ptr:GpuResources:.faiss::IndexFlatCP.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ab2fa6f6569c2a72f7efeedb9ac31d076"></span><code class="sig-name descname">GpuIndexFlat</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProvideriN5faiss10MetricTypeE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProvideriN5faiss10MetricTypeE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12GpuIndexFlatEP20GpuResourcesProvideriN5faiss10MetricTypeE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlat::GpuIndexFlat__GpuResourcesProviderP.i.faiss::MetricType.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ac4076d99808129f2faed97dc82c9cc66"></span><code class="sig-name descname">GpuIndexFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty instance that can be added to. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12GpuIndexFlatENSt10shared_ptrI12GpuResourcesEEiN5faiss10MetricTypeE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlat::GpuIndexFlat__std::shared_ptr:GpuResources:.i.faiss::MetricType.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ae5dabec790659d92a0e2c716da5f9ecd"></span><code class="sig-name descname">GpuIndexFlat</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlatD0Ev">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlatD0Ev"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlatD0Ev"></span><span id="faiss::gpu::GpuIndexFlat::~GpuIndexFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a2b9f0211925b34e4f2a16d296f58e819"></span><code class="sig-name descname">~GpuIndexFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlat::copyFrom__faiss::IndexFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1abb964875e0893de1d8334ca5ad0f62dc"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlat::copyTo__faiss::IndexFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a6f439ec99e95404631284e664ffa697e"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat10getNumVecsEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat10getNumVecsEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat10getNumVecsEv"></span><span id="faiss::gpu::GpuIndexFlat::getNumVecsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a877d5445f62baff47a52df1f06b9fd60"></span>size_t <code class="sig-name descname">getNumVecs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of vectors we contain. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat5resetEv">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat5resetEv"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat5resetEv"></span><span id="faiss::gpu::GpuIndexFlat::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a67161796f274a7171a67c36bdf1ef1db"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears all vectors from this index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlat::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a0e74fad76628ddfb5ae3dc1d1c69f7e8"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>This index is not trained, so this does nothing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlat::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ac97a713a28450ca2fa0615eaef3bed5a"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Overrides to avoid excessive copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat11reconstructEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat11reconstructEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat11reconstructEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlat::reconstruct__Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad690b0d256903730605ce36d64720fbf"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruction methods; prefer the batch reconstruct as it will be more efficient </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlat::reconstruct_n__Index::idx_t.Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1aae123842b90fe5f6b9efbd030ce5a7d1"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>num</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Batch reconstruction method. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5eed422bb7d06a28188e97909ae1facf"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a23b4a5f8a321d2ccf8768608c5a06ae1"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual (batch mode) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10getGpuDataEv">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10getGpuDataEv"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10getGpuDataEv"></span><span id="faiss::gpu::GpuIndexFlat::getGpuData"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a310b00d4443920a855b11276d488c9a7"></span>FlatIndex *<code class="sig-name descname">getGpuData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>For internal access. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat9getDeviceEv"></span><span id="faiss::gpu::GpuIndexFlat::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12getResourcesEv">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12getResourcesEv"></span><span id="faiss::gpu::GpuIndexFlat::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexFlat::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexFlat::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexFlat::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexFlat::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexFlat::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexFlat::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexFlat::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexFlat::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat1dE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat1dE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat1dE"></span><span id="faiss::gpu::GpuIndexFlat::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat6ntotalE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat6ntotalE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat6ntotalE"></span><span id="faiss::gpu::GpuIndexFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlat5idx_tE" title="faiss::gpu::GpuIndexFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat7verboseE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat7verboseE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat7verboseE"></span><span id="faiss::gpu::GpuIndexFlat::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10is_trainedE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10is_trainedE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10is_trainedE"></span><span id="faiss::gpu::GpuIndexFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat11metric_typeE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat11metric_typeE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat11metric_typeE"></span><span id="faiss::gpu::GpuIndexFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10metric_argE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10metric_argE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10metric_argE"></span><span id="faiss::gpu::GpuIndexFlat::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexFlat::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad42677502d391e88427b26da1ae9bd2d"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Flat index does not require IDs as there is no storage available for them. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a3f2744527184208d1b845dda9d655a88"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlat::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a8c59233a8f269d9a81e9203d9eb392c7"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlat::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu12GpuIndexFlat6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlat::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat11flatConfig_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat11flatConfig_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat11flatConfig_E"></span><span id="faiss::gpu::GpuIndexFlat::flatConfig___GpuIndexFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5e40e91c68ff4821f8e34bc0aec4357a"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat5data_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat5data_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat5data_E"></span><span id="faiss::gpu::GpuIndexFlat::data___std::unique_ptr:FlatIndex:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a4d0552ba8116a565efacce4b1e9c8fa0"></span>std::unique_ptr&lt;FlatIndex&gt; <code class="sig-name descname">data_</code><br /></dt>
<dd><p>Holds our GPU data containing the list of vectors. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat10resources_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat10resources_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat10resources_E"></span><span id="faiss::gpu::GpuIndexFlat::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat7config_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat7config_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat7config_E"></span><span id="faiss::gpu::GpuIndexFlat::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12GpuIndexFlat13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu12GpuIndexFlat13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu12GpuIndexFlat13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexFlat::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfigE">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfigE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfigE"></span><span id="faiss::gpu::GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexFlatConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexFlatConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig18GpuIndexFlatConfigEv">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig18GpuIndexFlatConfigEv"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig18GpuIndexFlatConfigEv"></span><span id="faiss::gpu::GpuIndexFlatConfig::GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexFlatConfig_1a39b32076b957bd2e1de93df3f5f5ea0b"></span><code class="sig-name descname">GpuIndexFlatConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig10useFloat16E">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig10useFloat16E"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig10useFloat16E"></span><span id="faiss::gpu::GpuIndexFlatConfig::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexFlatConfig_1afd694186c87751937a646f3db2c8ba3d"></span>bool <code class="sig-name descname">useFloat16</code><br /></dt>
<dd><p>Whether or not data is stored as float16. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig15storeTransposedE">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig15storeTransposedE"></span><span id="faiss::gpu::GpuIndexFlatConfig::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexFlatConfig_1a0342a26f5e59563bfe04f3f80e3b27f0"></span>bool <code class="sig-name descname">storeTransposed</code><br /></dt>
<dd><p>Whether or not data is stored (transparently) in a transposed layout, enabling use of the NN GEMM call, which is ~10% faster. This will improve the speed of the flat index, but will substantially slow down any add() calls made, as all data must be transposed, and will increase storage requirements (we store data in both transposed and non-transposed layouts). </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig6deviceE">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig6deviceE"></span><span id="faiss::gpu::GpuIndexFlatConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><a class="headerlink" href="#_CPPv4N5faiss3gpu18GpuIndexFlatConfig6deviceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu18GpuIndexFlatConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu18GpuIndexFlatConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu18GpuIndexFlatConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexFlatConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><a class="headerlink" href="#_CPPv4N5faiss3gpu18GpuIndexFlatConfig11memorySpaceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIPE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIPE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIPE"></span><span id="faiss::gpu::GpuIndexFlatIP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP"></span><em class="property">class </em><code class="sig-name descname">GpuIndexFlatIP</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a><br /></dt>
<dd><em>#include &lt;GpuIndexFlat.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatIP.html#structfaiss_1_1IndexFlatIP"><span class="std std-ref">faiss::IndexFlatIP</span></a>; copies over centroid data from a given <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP11component_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP11component_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10distance_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10distance_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProviderPN5faiss11IndexFlatIPE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProviderPN5faiss11IndexFlatIPE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProviderPN5faiss11IndexFlatIPE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatIP::GpuIndexFlatIP__GpuResourcesProviderP.faiss::IndexFlatIPP.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1ad7b2961b0df53aa9ad88ebd3eebaebc1"></span><code class="sig-name descname">GpuIndexFlatIP</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatIPE" title="faiss::IndexFlatIP">IndexFlatIP</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatIP.html#structfaiss_1_1IndexFlatIP"><span class="std std-ref">faiss::IndexFlatIP</span></a> instance, copying data over to the given GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatIPE18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatIPE18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatIPE18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatIP::GpuIndexFlatIP__std::shared_ptr:GpuResources:.faiss::IndexFlatIPP.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1a243632aa5a40a565ee2df1b060491ef0"></span><code class="sig-name descname">GpuIndexFlatIP</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatIPE" title="faiss::IndexFlatIP">IndexFlatIP</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProvideri18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProvideri18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPEP20GpuResourcesProvideri18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatIP::GpuIndexFlatIP__GpuResourcesProviderP.i.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1ae64e77adba85249953a7cc92d3b5dd87"></span><code class="sig-name descname">GpuIndexFlatIP</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty instance that can be added to. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP14GpuIndexFlatIPENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatIP::GpuIndexFlatIP__std::shared_ptr:GpuResources:.i.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1ac519a6eb64bfc827521e7546e704b093"></span><code class="sig-name descname">GpuIndexFlatIP</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP8copyFromEPN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP8copyFromEPN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP8copyFromEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyFrom__faiss::IndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1aa22befc8cd4dbb304bbb96ac836e2355"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyTo__faiss::IndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatIP_1ae952d5494f25508f50dbe4f296fdcbf2"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyFrom__faiss::IndexFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1abb964875e0893de1d8334ca5ad0f62dc"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyTo__faiss::IndexFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a6f439ec99e95404631284e664ffa697e"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP10getNumVecsEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP10getNumVecsEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP10getNumVecsEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getNumVecsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a877d5445f62baff47a52df1f06b9fd60"></span>size_t <code class="sig-name descname">getNumVecs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of vectors we contain. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP5resetEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP5resetEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP5resetEv"></span><span id="faiss::gpu::GpuIndexFlatIP::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a67161796f274a7171a67c36bdf1ef1db"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears all vectors from this index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlatIP::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a0e74fad76628ddfb5ae3dc1d1c69f7e8"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>This index is not trained, so this does nothing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlatIP::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ac97a713a28450ca2fa0615eaef3bed5a"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Overrides to avoid excessive copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP11reconstructEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP11reconstructEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP11reconstructEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlatIP::reconstruct__Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad690b0d256903730605ce36d64720fbf"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruction methods; prefer the batch reconstruct as it will be more efficient </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP13reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlatIP::reconstruct_n__Index::idx_t.Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1aae123842b90fe5f6b9efbd030ce5a7d1"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>num</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Batch reconstruction method. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5eed422bb7d06a28188e97909ae1facf"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a23b4a5f8a321d2ccf8768608c5a06ae1"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual (batch mode) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10getGpuDataEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10getGpuDataEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10getGpuDataEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getGpuData"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a310b00d4443920a855b11276d488c9a7"></span>FlatIndex *<code class="sig-name descname">getGpuData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>For internal access. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP9getDeviceEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP12getResourcesEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP12getResourcesEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexFlatIP::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexFlatIP::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexFlatIP::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexFlatIP::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexFlatIP::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexFlatIP::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexFlatIP::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexFlatIP::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexFlatIP::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP1dE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP1dE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP1dE"></span><span id="faiss::gpu::GpuIndexFlatIP::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP6ntotalE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP6ntotalE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP6ntotalE"></span><span id="faiss::gpu::GpuIndexFlatIP::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatIP.html#_CPPv4N5faiss3gpu14GpuIndexFlatIP5idx_tE" title="faiss::gpu::GpuIndexFlatIP::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP7verboseE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP7verboseE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP7verboseE"></span><span id="faiss::gpu::GpuIndexFlatIP::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10is_trainedE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10is_trainedE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10is_trainedE"></span><span id="faiss::gpu::GpuIndexFlatIP::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP11metric_typeE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP11metric_typeE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP11metric_typeE"></span><span id="faiss::gpu::GpuIndexFlatIP::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10metric_argE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10metric_argE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10metric_argE"></span><span id="faiss::gpu::GpuIndexFlatIP::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlatIP::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexFlatIP::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad42677502d391e88427b26da1ae9bd2d"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Flat index does not require IDs as there is no storage available for them. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a3f2744527184208d1b845dda9d655a88"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatIP11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatIP11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatIP11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatIP::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a8c59233a8f269d9a81e9203d9eb392c7"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP11flatConfig_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP11flatConfig_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP11flatConfig_E"></span><span id="faiss::gpu::GpuIndexFlatIP::flatConfig___GpuIndexFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5e40e91c68ff4821f8e34bc0aec4357a"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP5data_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP5data_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP5data_E"></span><span id="faiss::gpu::GpuIndexFlatIP::data___std::unique_ptr:FlatIndex:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a4d0552ba8116a565efacce4b1e9c8fa0"></span>std::unique_ptr&lt;FlatIndex&gt; <code class="sig-name descname">data_</code><br /></dt>
<dd><p>Holds our GPU data containing the list of vectors. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP10resources_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP10resources_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP10resources_E"></span><span id="faiss::gpu::GpuIndexFlatIP::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP7config_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP7config_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP7config_E"></span><span id="faiss::gpu::GpuIndexFlatIP::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatIP13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatIP13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatIP13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexFlatIP::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL2E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL2E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL2E"></span><span id="faiss::gpu::GpuIndexFlatL2"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2"></span><em class="property">class </em><code class="sig-name descname">GpuIndexFlatL2</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a><br /></dt>
<dd><em>#include &lt;GpuIndexFlat.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlatL2"><span class="std std-ref">faiss::IndexFlatL2</span></a>; copies over centroid data from a given <a class="reference internal" href="../struct/structfaiss_1_1IndexFlat.html#structfaiss_1_1IndexFlat"><span class="std std-ref">faiss::IndexFlat</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL25idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL25idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL211component_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL211component_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL211component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210distance_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210distance_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProviderPN5faiss11IndexFlatL2E18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProviderPN5faiss11IndexFlatL2E18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProviderPN5faiss11IndexFlatL2E18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatL2::GpuIndexFlatL2__GpuResourcesProviderP.faiss::IndexFlatL2P.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1ab2443ad3b2102d212c8105e28cdbf606"></span><code class="sig-name descname">GpuIndexFlatL2</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatL2E" title="faiss::IndexFlatL2">IndexFlatL2</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexFlatL2.html#structfaiss_1_1IndexFlatL2"><span class="std std-ref">faiss::IndexFlatL2</span></a> instance, copying data over to the given GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatL2E18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatL2E18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEPN5faiss11IndexFlatL2E18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatL2::GpuIndexFlatL2__std::shared_ptr:GpuResources:.faiss::IndexFlatL2P.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1a4f8642f7baba4943e113c02bb5a46e9e"></span><code class="sig-name descname">GpuIndexFlatL2</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss11IndexFlatL2E" title="faiss::IndexFlatL2">IndexFlatL2</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProvideri18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProvideri18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2EP20GpuResourcesProvideri18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatL2::GpuIndexFlatL2__GpuResourcesProviderP.i.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1af062952f6b73ce3c07ebce18cfed9a4e"></span><code class="sig-name descname">GpuIndexFlatL2</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty instance that can be added to. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL214GpuIndexFlatL2ENSt10shared_ptrI12GpuResourcesEEi18GpuIndexFlatConfig"></span><span id="faiss::gpu::GpuIndexFlatL2::GpuIndexFlatL2__std::shared_ptr:GpuResources:.i.GpuIndexFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1ab52b52d458b6904090c5143871824618"></span><code class="sig-name descname">GpuIndexFlatL2</code><span class="sig-paren">(</span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <em>resources</em>, int <em>dims</em>, <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL28copyFromEPN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL28copyFromEPN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL28copyFromEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyFrom__faiss::IndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1aca5f2a30343a9126c38456ce6ef4b124"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyTo__faiss::IndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlatL2_1a99dcadc46e74753d7c8741ecf3e83281"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss9IndexFlatE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss9IndexFlatE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyFrom__faiss::IndexFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1abb964875e0893de1d8334ca5ad0f62dc"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss9IndexFlatE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyTo__faiss::IndexFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a6f439ec99e95404631284e664ffa697e"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexFlat_8h.html#_CPPv4N5faiss9IndexFlatE" title="faiss::IndexFlat">IndexFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL210getNumVecsEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL210getNumVecsEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL210getNumVecsEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getNumVecsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a877d5445f62baff47a52df1f06b9fd60"></span>size_t <code class="sig-name descname">getNumVecs</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of vectors we contain. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL25resetEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL25resetEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL25resetEv"></span><span id="faiss::gpu::GpuIndexFlatL2::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a67161796f274a7171a67c36bdf1ef1db"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears all vectors from this index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL25trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL25trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL25trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlatL2::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a0e74fad76628ddfb5ae3dc1d1c69f7e8"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>This index is not trained, so this does nothing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL23addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL23addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL23addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexFlatL2::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ac97a713a28450ca2fa0615eaef3bed5a"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Overrides to avoid excessive copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL211reconstructEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL211reconstructEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL211reconstructEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlatL2::reconstruct__Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad690b0d256903730605ce36d64720fbf"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Reconstruction methods; prefer the batch reconstruct as it will be more efficient </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL213reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL213reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL213reconstruct_nEN5Index5idx_tEN5Index5idx_tEPf"></span><span id="faiss::gpu::GpuIndexFlatL2::reconstruct_n__Index::idx_t.Index::idx_t.floatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1aae123842b90fe5f6b9efbd030ce5a7d1"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>num</em>, float *<em>out</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Batch reconstruction method. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL216compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL216compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL216compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5eed422bb7d06a28188e97909ae1facf"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL218compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL218compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL218compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a23b4a5f8a321d2ccf8768608c5a06ae1"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Compute residual (batch mode) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210getGpuDataEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210getGpuDataEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210getGpuDataEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getGpuData"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a310b00d4443920a855b11276d488c9a7"></span>FlatIndex *<code class="sig-name descname">getGpuData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>For internal access. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL29getDeviceEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL29getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL29getDeviceEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL212getResourcesEv">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL212getResourcesEv"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL212getResourcesEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL216setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL216setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL216setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexFlatL2::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL216getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL216getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL216getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexFlatL2::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL212add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL212add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL212add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL26assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL26assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL26assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL26searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL26searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL26searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL212range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexFlatL2::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexFlatL2::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL222search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexFlatL2::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL221get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL221get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL221get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexFlatL2::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL212sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL212sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL212sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexFlatL2::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL29sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL29sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL29sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexFlatL2::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL29sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL29sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL29sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexFlatL2::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL21dE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL21dE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL21dE"></span><span id="faiss::gpu::GpuIndexFlatL2::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL26ntotalE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL26ntotalE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL26ntotalE"></span><span id="faiss::gpu::GpuIndexFlatL2::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlatL2.html#_CPPv4N5faiss3gpu14GpuIndexFlatL25idx_tE" title="faiss::gpu::GpuIndexFlatL2::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL27verboseE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL27verboseE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL27verboseE"></span><span id="faiss::gpu::GpuIndexFlatL2::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210is_trainedE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210is_trainedE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210is_trainedE"></span><span id="faiss::gpu::GpuIndexFlatL2::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL211metric_typeE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL211metric_typeE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL211metric_typeE"></span><span id="faiss::gpu::GpuIndexFlatL2::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210metric_argE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210metric_argE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210metric_argE"></span><span id="faiss::gpu::GpuIndexFlatL2::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL28copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL26copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexFlatL2::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL219addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL219addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL219addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexFlatL2::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1ad42677502d391e88427b26da1ae9bd2d"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Flat index does not require IDs as there is no storage available for them. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL28addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL28addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL28addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a3f2744527184208d1b845dda9d655a88"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu14GpuIndexFlatL211searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu14GpuIndexFlatL211searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu14GpuIndexFlatL211searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexFlatL2::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a8c59233a8f269d9a81e9203d9eb392c7"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL211flatConfig_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL211flatConfig_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL211flatConfig_E"></span><span id="faiss::gpu::GpuIndexFlatL2::flatConfig___GpuIndexFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a5e40e91c68ff4821f8e34bc0aec4357a"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL25data_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL25data_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL25data_E"></span><span id="faiss::gpu::GpuIndexFlatL2::data___std::unique_ptr:FlatIndex:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexFlat_1a4d0552ba8116a565efacce4b1e9c8fa0"></span>std::unique_ptr&lt;FlatIndex&gt; <code class="sig-name descname">data_</code><br /></dt>
<dd><p>Holds our GPU data containing the list of vectors. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL210resources_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL210resources_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL210resources_E"></span><span id="faiss::gpu::GpuIndexFlatL2::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL27config_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL27config_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL27config_E"></span><span id="faiss::gpu::GpuIndexFlatL2::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu14GpuIndexFlatL213minPagedSize_E">
<span id="_CPPv3N5faiss3gpu14GpuIndexFlatL213minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu14GpuIndexFlatL213minPagedSize_E"></span><span id="faiss::gpu::GpuIndexFlatL2::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVFE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVFE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVFE"></span><span id="faiss::gpu::GpuIndexIVF"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF"></span><em class="property">class </em><code class="sig-name descname">GpuIndexIVF</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndex.html#_CPPv4N5faiss3gpu8GpuIndexE" title="faiss::gpu::GpuIndex">GpuIndex</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">faiss::gpu::GpuIndexIVFFlat</span></a>, <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">faiss::gpu::GpuIndexIVFPQ</span></a>, <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer"><span class="std std-ref">faiss::gpu::GpuIndexIVFScalarQuantizer</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5idx_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF11component_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF11component_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10distance_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10distance_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF11GpuIndexIVFEP20GpuResourcesProvideriN5faiss10MetricTypeEfi17GpuIndexIVFConfig">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF11GpuIndexIVFEP20GpuResourcesProvideriN5faiss10MetricTypeEfi17GpuIndexIVFConfig"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF11GpuIndexIVFEP20GpuResourcesProvideriN5faiss10MetricTypeEfi17GpuIndexIVFConfig"></span><span id="faiss::gpu::GpuIndexIVF::GpuIndexIVF__GpuResourcesProviderP.i.faiss::MetricType.float.i.GpuIndexIVFConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8fa90aab480c74879c8ae9f7d2916bc4"></span><code class="sig-name descname">GpuIndexIVF</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, float <em>metricArg</em>, int <em>nlist</em>, <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVFD0Ev">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVFD0Ev"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVFD0Ev"></span><span id="faiss::gpu::GpuIndexIVF::~GpuIndexIVF"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ad3829b7e97f1642f85721f95956da8f4"></span><code class="sig-name descname">~GpuIndexIVF</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss8IndexIVFE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVF::copyFrom__faiss::IndexIVFCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a94c2c171f9a2d27085dea9101067bdf2"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss8IndexIVFE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss8IndexIVFE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVF::copyTo__faiss::IndexIVFPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a9153ac747b50b454d85416edcf484bd3"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF11getNumListsEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF11getNumListsEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF11getNumListsEv"></span><span id="faiss::gpu::GpuIndexIVF::getNumListsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a008b31e78482337f8ca9ae72d9815be0"></span>int <code class="sig-name descname">getNumLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of inverted lists weâre managing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF13getListLengthEi">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF13getListLengthEi"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF13getListLengthEi"></span><span id="faiss::gpu::GpuIndexIVF::getListLength__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1abc6ffec2d09200c8f5cd88ccedc5aeed"></span>int <code class="sig-name descname">getListLength</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Returns the number of vectors present in a particular inverted list. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF17getListVectorDataEib">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF17getListVectorDataEib"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF17getListVectorDataEib"></span><span id="faiss::gpu::GpuIndexIVF::getListVectorData__i.bC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ad8ae56a9c75e3ebce52aceb6b180ce66"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">getListVectorData</code><span class="sig-paren">(</span>int <em>listId</em>, bool <em>gpuFormat</em> = false<span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Return the encoded vector data contained in a particular inverted list, for debugging purposes. If gpuFormat is true, the data is returned as it is encoded in the GPU-side representation. Otherwise, it is converted to the CPU format. compliant format, while the native GPU format may differ. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF14getListIndicesEi">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF14getListIndicesEi"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF14getListIndicesEi"></span><span id="faiss::gpu::GpuIndexIVF::getListIndices__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aca66be4b2e7c467ea145195a99902aed"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>&gt; <code class="sig-name descname">getListIndices</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Return the vector indices contained in a particular inverted list, for debugging purposes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF12getQuantizerEv">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF12getQuantizerEv"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF12getQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVF::getQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ae8ede11bab8c6f2296aa797986006511"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">getQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the quantizer weâre using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF12setNumProbesEi"></span><span id="faiss::gpu::GpuIndexIVF::setNumProbes__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a1efac4b9801d57fa6d0085d6aed9c1f2"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF12getNumProbesEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF12getNumProbesEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF12getNumProbesEv"></span><span id="faiss::gpu::GpuIndexIVF::getNumProbesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aa231de06057f6f024679291fed7d8c3a"></span>int <code class="sig-name descname">getNumProbes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns our current number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF9getDeviceEv"></span><span id="faiss::gpu::GpuIndexIVF::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF12getResourcesEv">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF12getResourcesEv"></span><span id="faiss::gpu::GpuIndexIVF::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexIVF::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexIVF::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVF::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5trainE5idx_tPKf">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5trainE5idx_tPKf"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5trainE5idx_tPKf"></span><span id="faiss::gpu::GpuIndexIVF::train__idx_t.floatCP"></span><span class="target" id="structfaiss_1_1Index_1a8f67dfd73993e192dc78f2c93d9d9532"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform training on a representative set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: nb of training vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: training vecors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexIVF::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5resetEv">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5resetEv"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5resetEv"></span><span id="faiss::gpu::GpuIndexIVF::reset"></span><span class="target" id="structfaiss_1_1Index_1a849361f5f0ab0aba8d419c86f2594191"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>removes all elements from the database. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexIVF::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVF::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVF::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVF::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexIVF::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexIVF::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexIVF::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexIVF::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF2cpE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF2cpE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF2cpE"></span><span id="faiss::gpu::GpuIndexIVF::cp__ClusteringParameters"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a520803e209b44c904b876d6b8dad23c9"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5nlistE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5nlistE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5nlistE"></span><span id="faiss::gpu::GpuIndexIVF::nlist__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7d06649d5ae58b7a637a8b348d6f16b3"></span>int <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>Exposing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF6nprobeE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF6nprobeE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF6nprobeE"></span><span id="faiss::gpu::GpuIndexIVF::nprobe__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a83cdbddf42124d7f6c0d9ef232e0c558"></span>int <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF9quantizerE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF9quantizerE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF9quantizerE"></span><span id="faiss::gpu::GpuIndexIVF::quantizer__GpuIndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ac741fa8825e3ef533cbe9a45aa22a8fe"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>Exposeing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF1dE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF1dE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF1dE"></span><span id="faiss::gpu::GpuIndexIVF::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF6ntotalE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF6ntotalE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF6ntotalE"></span><span id="faiss::gpu::GpuIndexIVF::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVF5idx_tE" title="faiss::gpu::GpuIndexIVF::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF7verboseE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF7verboseE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF7verboseE"></span><span id="faiss::gpu::GpuIndexIVF::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10is_trainedE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10is_trainedE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10is_trainedE"></span><span id="faiss::gpu::GpuIndexIVF::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF11metric_typeE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF11metric_typeE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF11metric_typeE"></span><span id="faiss::gpu::GpuIndexIVF::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10metric_argE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10metric_argE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10metric_argE"></span><span id="faiss::gpu::GpuIndexIVF::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexIVF::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a69731ab85d119127e1fe603757b28400"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF15trainQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVF::trainQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8f64aaab0221591c82825c1594432c72"></span>void <code class="sig-name descname">trainQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVF::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVF::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ae8479445214c5ef37adf154c138ce973"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Overridden to actually perform the add All data is guaranteed to be resident on our device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu11GpuIndexIVF11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu11GpuIndexIVF11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu11GpuIndexIVF11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVF::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a184c443785b715fd692b2b67aa71d687"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>Overridden to actually perform the search All data is guaranteed to be resident on our device </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10ivfConfig_E">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10ivfConfig_E"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10ivfConfig_E"></span><span id="faiss::gpu::GpuIndexIVF::ivfConfig___GpuIndexIVFConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7e25b7ac093961ab0f58f1bc72f6ea43"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <code class="sig-name descname">ivfConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF10resources_E">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF10resources_E"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF10resources_E"></span><span id="faiss::gpu::GpuIndexIVF::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF7config_E">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF7config_E"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF7config_E"></span><span id="faiss::gpu::GpuIndexIVF::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexIVF::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11GpuIndexIVF5init_Ev">
<span id="_CPPv3N5faiss3gpu11GpuIndexIVF5init_Ev"></span><span id="_CPPv2N5faiss3gpu11GpuIndexIVF5init_Ev"></span><span id="faiss::gpu::GpuIndexIVF::init_"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1acfc0a0775791db1859571e442ad678a4"></span>void <code class="sig-name descname">init_</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Shared initialization functions. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfigE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfigE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfigE"></span><span id="faiss::gpu::GpuIndexIVFConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexIVFConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig.html#structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig"><span class="std std-ref">faiss::gpu::GpuIndexIVFFlatConfig</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig.html#structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig"><span class="std std-ref">faiss::gpu::GpuIndexIVFPQConfig</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig.html#structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig"><span class="std std-ref">faiss::gpu::GpuIndexIVFScalarQuantizerConfig</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig17GpuIndexIVFConfigEv">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig17GpuIndexIVFConfigEv"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig17GpuIndexIVFConfigEv"></span><span id="faiss::gpu::GpuIndexIVFConfig::GpuIndexIVFConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1afdedee94ebe4faf9cdfcabc50128f948"></span><code class="sig-name descname">GpuIndexIVFConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig14indicesOptionsE"></span><span id="faiss::gpu::GpuIndexIVFConfig::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1af432221761d48e4753f501208a60264d"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> storage options for the GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig10flatConfigE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig10flatConfigE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig10flatConfigE"></span><span id="faiss::gpu::GpuIndexIVFConfig::flatConfig__GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1a6d357a9a67a2fed9c8e7b139712d30f6"></span><a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig</code><br /></dt>
<dd><p>Configuration for the coarse quantizer object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig6deviceE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig6deviceE"></span><span id="faiss::gpu::GpuIndexIVFConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuIndexIVFConfig6deviceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuIndexIVFConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu17GpuIndexIVFConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu17GpuIndexIVFConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexIVFConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuIndexIVFConfig11memorySpaceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlatE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlatE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlatE"></span><span id="faiss::gpu::GpuIndexIVFFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat"></span><em class="property">class </em><code class="sig-name descname">GpuIndexIVFFlat</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVFE" title="faiss::gpu::GpuIndexIVF">GpuIndexIVF</a><br /></dt>
<dd><em>#include &lt;GpuIndexIVFFlat.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFFlat.html#structfaiss_1_1IndexIVFFlat"><span class="std std-ref">faiss::IndexIVFFlat</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat5idx_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat11component_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat11component_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10distance_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10distance_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProviderPKN5faiss12IndexIVFFlatE21GpuIndexIVFFlatConfig">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProviderPKN5faiss12IndexIVFFlatE21GpuIndexIVFFlatConfig"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProviderPKN5faiss12IndexIVFFlatE21GpuIndexIVFFlatConfig"></span><span id="faiss::gpu::GpuIndexIVFFlat::GpuIndexIVFFlat__GpuResourcesProviderP.faiss::IndexIVFFlatCP.GpuIndexIVFFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a5122ad265cc49565b7b70f3149055f28"></span><code class="sig-name descname">GpuIndexIVFFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFFlat_8h.html#_CPPv4N5faiss12IndexIVFFlatE" title="faiss::IndexIVFFlat">IndexIVFFlat</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFFlat.html#structfaiss_1_1IndexIVFFlat"><span class="std std-ref">faiss::IndexIVFFlat</span></a> instance, copying data over to the given GPU, if the input index is trained. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProvideriiN5faiss10MetricTypeE21GpuIndexIVFFlatConfig">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProvideriiN5faiss10MetricTypeE21GpuIndexIVFFlatConfig"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat15GpuIndexIVFFlatEP20GpuResourcesProvideriiN5faiss10MetricTypeE21GpuIndexIVFFlatConfig"></span><span id="faiss::gpu::GpuIndexIVFFlat::GpuIndexIVFFlat__GpuResourcesProviderP.i.i.faiss::MetricType.GpuIndexIVFFlatConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1aee6a23efdb20392c234309c85e02968a"></span><code class="sig-name descname">GpuIndexIVFFlat</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, int <em>nlist</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Constructs a new instance with an empty flat quantizer; the user provides the number of lists desired. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlatD0Ev">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlatD0Ev"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlatD0Ev"></span><span id="faiss::gpu::GpuIndexIVFFlat::~GpuIndexIVFFlat"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a828af7e75a88c22ca427ee1da982d3a1"></span><code class="sig-name descname">~GpuIndexIVFFlat</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat13reserveMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat13reserveMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat13reserveMemoryE6size_t"></span><span id="faiss::gpu::GpuIndexIVFFlat::reserveMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a329d7734f1285788d10c1fbf1f88d72f"></span>void <code class="sig-name descname">reserveMemory</code><span class="sig-paren">(</span>size_t <em>numVecs</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Reserve GPU memory in our inverted lists for this number of vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss12IndexIVFFlatE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss12IndexIVFFlatE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss12IndexIVFFlatE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyFrom__faiss::IndexIVFFlatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a96fd66c31c7e46b1549ed61d1b3476f3"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFFlat_8h.html#_CPPv4N5faiss12IndexIVFFlatE" title="faiss::IndexIVFFlat">IndexIVFFlat</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss12IndexIVFFlatE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss12IndexIVFFlatE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss12IndexIVFFlatE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyTo__faiss::IndexIVFFlatPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a82e766abaeed6e3544c5f93a38b7a0ad"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFFlat_8h.html#_CPPv4N5faiss12IndexIVFFlatE" title="faiss::IndexIVFFlat">IndexIVFFlat</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat13reclaimMemoryEv">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat13reclaimMemoryEv"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat13reclaimMemoryEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::reclaimMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1adaa727f3e951068501ebf381b001f3bd"></span>size_t <code class="sig-name descname">reclaimMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>After adding vectors, one can call this to reclaim device memory to exactly the amount needed. Returns space reclaimed in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat5resetEv">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat5resetEv"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat5resetEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a88676a893e9b44041e7a52327d960b54"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears out all inverted lists, but retains the coarse centroid information. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFFlat::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a3c5b3760acb01814892fe93c72f08304"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the coarse quantizer based on the given vector data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat13getListLengthEi">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat13getListLengthEi"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat13getListLengthEi"></span><span id="faiss::gpu::GpuIndexIVFFlat::getListLength__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1ac02dc0f2ee1bdf5a58b56825e8c68543"></span>int <code class="sig-name descname">getListLength</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Returns the number of vectors present in a particular inverted list. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat17getListVectorDataEib">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat17getListVectorDataEib"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat17getListVectorDataEib"></span><span id="faiss::gpu::GpuIndexIVFFlat::getListVectorData__i.bC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1aba46df335e651d3a2ea6283565e5a7c2"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">getListVectorData</code><span class="sig-paren">(</span>int <em>listId</em>, bool <em>gpuFormat</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the encoded vector data contained in a particular inverted list, for debugging purposes. If gpuFormat is true, the data is returned as it is encoded in the GPU-side representation. Otherwise, it is converted to the CPU format. compliant format, while the native GPU format may differ. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat14getListIndicesEi">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat14getListIndicesEi"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat14getListIndicesEi"></span><span id="faiss::gpu::GpuIndexIVFFlat::getListIndices__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a30153a7564603d6419c411e256d3f6ed"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>&gt; <code class="sig-name descname">getListIndices</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the vector indices contained in a particular inverted list, for debugging purposes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss8IndexIVFE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyFrom__faiss::IndexIVFCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a94c2c171f9a2d27085dea9101067bdf2"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss8IndexIVFE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss8IndexIVFE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyTo__faiss::IndexIVFPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a9153ac747b50b454d85416edcf484bd3"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat11getNumListsEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat11getNumListsEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat11getNumListsEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getNumListsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a008b31e78482337f8ca9ae72d9815be0"></span>int <code class="sig-name descname">getNumLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of inverted lists weâre managing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat12getQuantizerEv">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat12getQuantizerEv"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat12getQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ae8ede11bab8c6f2296aa797986006511"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">getQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the quantizer weâre using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat12setNumProbesEi"></span><span id="faiss::gpu::GpuIndexIVFFlat::setNumProbes__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a1efac4b9801d57fa6d0085d6aed9c1f2"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat12getNumProbesEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat12getNumProbesEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat12getNumProbesEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getNumProbesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aa231de06057f6f024679291fed7d8c3a"></span>int <code class="sig-name descname">getNumProbes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns our current number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat9getDeviceEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat12getResourcesEv">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat12getResourcesEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexIVFFlat::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFFlat::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexIVFFlat::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexIVFFlat::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFFlat::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFFlat::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFFlat::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexIVFFlat::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexIVFFlat::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexIVFFlat::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat2cpE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat2cpE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat2cpE"></span><span id="faiss::gpu::GpuIndexIVFFlat::cp__ClusteringParameters"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a520803e209b44c904b876d6b8dad23c9"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat5nlistE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat5nlistE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat5nlistE"></span><span id="faiss::gpu::GpuIndexIVFFlat::nlist__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7d06649d5ae58b7a637a8b348d6f16b3"></span>int <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>Exposing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat6nprobeE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat6nprobeE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat6nprobeE"></span><span id="faiss::gpu::GpuIndexIVFFlat::nprobe__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a83cdbddf42124d7f6c0d9ef232e0c558"></span>int <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat9quantizerE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat9quantizerE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat9quantizerE"></span><span id="faiss::gpu::GpuIndexIVFFlat::quantizer__GpuIndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ac741fa8825e3ef533cbe9a45aa22a8fe"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>Exposeing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat1dE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat1dE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat1dE"></span><span id="faiss::gpu::GpuIndexIVFFlat::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat6ntotalE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat6ntotalE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat6ntotalE"></span><span id="faiss::gpu::GpuIndexIVFFlat::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html#_CPPv4N5faiss3gpu15GpuIndexIVFFlat5idx_tE" title="faiss::gpu::GpuIndexIVFFlat::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat7verboseE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat7verboseE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat7verboseE"></span><span id="faiss::gpu::GpuIndexIVFFlat::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10is_trainedE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10is_trainedE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10is_trainedE"></span><span id="faiss::gpu::GpuIndexIVFFlat::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat11metric_typeE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat11metric_typeE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat11metric_typeE"></span><span id="faiss::gpu::GpuIndexIVFFlat::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10metric_argE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10metric_argE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10metric_argE"></span><span id="faiss::gpu::GpuIndexIVFFlat::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1ad45ecb52cc736f89378661007ea731d2"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add/add_with_ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFFlat::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1abc85b8bc2e42b7d399f9c2561ae14ad0"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFFlat::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu15GpuIndexIVFFlat19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu15GpuIndexIVFFlat19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu15GpuIndexIVFFlat19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexIVFFlat::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a69731ab85d119127e1fe603757b28400"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat15trainQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFFlat::trainQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8f64aaab0221591c82825c1594432c72"></span>void <code class="sig-name descname">trainQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat14ivfFlatConfig_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat14ivfFlatConfig_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat14ivfFlatConfig_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::ivfFlatConfig___GpuIndexIVFFlatConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a71f9ce7e5fb21c46f1cd8271b166f894"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVFFlat_8h.html#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE" title="faiss::gpu::GpuIndexIVFFlatConfig">GpuIndexIVFFlatConfig</a> <code class="sig-name descname">ivfFlatConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat18reserveMemoryVecs_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat18reserveMemoryVecs_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat18reserveMemoryVecs_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::reserveMemoryVecs___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a741492b6184da608332a782492e8a2a8"></span>size_t <code class="sig-name descname">reserveMemoryVecs_</code><br /></dt>
<dd><p>Desired inverted list memory reservation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat6index_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat6index_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat6index_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::index___std::unique_ptr:IVFFlat:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFFlat_1a4d8d94d582aed54a5ffdc78896cb4b02"></span>std::unique_ptr&lt;IVFFlat&gt; <code class="sig-name descname">index_</code><br /></dt>
<dd><p>Instance that we own; contains the inverted list. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10ivfConfig_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10ivfConfig_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10ivfConfig_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::ivfConfig___GpuIndexIVFConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7e25b7ac093961ab0f58f1bc72f6ea43"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <code class="sig-name descname">ivfConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat10resources_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat10resources_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat10resources_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat7config_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat7config_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat7config_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu15GpuIndexIVFFlat13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu15GpuIndexIVFFlat13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu15GpuIndexIVFFlat13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexIVFFlat::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfigE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfigE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfigE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexIVFFlatConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig21GpuIndexIVFFlatConfigEv">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig21GpuIndexIVFFlatConfigEv"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig21GpuIndexIVFFlatConfigEv"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::GpuIndexIVFFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig_1adec18969ca176fe00f0a0691eb427793"></span><code class="sig-name descname">GpuIndexIVFFlatConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig17interleavedLayoutE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig17interleavedLayoutE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig17interleavedLayoutE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::interleavedLayout__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFFlatConfig_1a72d85abb66b5496a5ad1ff15ba2f8355"></span>bool <code class="sig-name descname">interleavedLayout</code><br /></dt>
<dd><p>Use the alternative memory layout for the IVF lists (currently the default) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig14indicesOptionsE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1af432221761d48e4753f501208a60264d"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><a class="headerlink" href="#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig14indicesOptionsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> storage options for the GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig10flatConfigE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig10flatConfigE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig10flatConfigE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::flatConfig__GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1a6d357a9a67a2fed9c8e7b139712d30f6"></span><a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig</code><a class="headerlink" href="#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig10flatConfigE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Configuration for the coarse quantizer object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig6deviceE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig6deviceE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><a class="headerlink" href="#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig6deviceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu21GpuIndexIVFFlatConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu21GpuIndexIVFFlatConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexIVFFlatConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><a class="headerlink" href="#_CPPv4N5faiss3gpu21GpuIndexIVFFlatConfig11memorySpaceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQE"></span><span id="faiss::gpu::GpuIndexIVFPQ"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ"></span><em class="property">class </em><code class="sig-name descname">GpuIndexIVFPQ</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVFE" title="faiss::gpu::GpuIndexIVF">GpuIndexIVF</a><br /></dt>
<dd><em>#include &lt;GpuIndexIVFPQ.h&gt;</em><p>IVFPQ index for the GPU. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ5idx_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ11component_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ11component_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10distance_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10distance_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProviderPKN5faiss10IndexIVFPQE19GpuIndexIVFPQConfig">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProviderPKN5faiss10IndexIVFPQE19GpuIndexIVFPQConfig"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProviderPKN5faiss10IndexIVFPQE19GpuIndexIVFPQConfig"></span><span id="faiss::gpu::GpuIndexIVFPQ::GpuIndexIVFPQ__GpuResourcesProviderP.faiss::IndexIVFPQCP.GpuIndexIVFPQConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a2142eefa6986b939927418c989ae7668"></span><code class="sig-name descname">GpuIndexIVFPQ</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFPQ.html#structfaiss_1_1IndexIVFPQ"><span class="std std-ref">faiss::IndexIVFPQ</span></a> instance, copying data over to the given GPU, if the input index is trained. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProvideriiiiN5faiss10MetricTypeE19GpuIndexIVFPQConfig">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProvideriiiiN5faiss10MetricTypeE19GpuIndexIVFPQConfig"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13GpuIndexIVFPQEP20GpuResourcesProvideriiiiN5faiss10MetricTypeE19GpuIndexIVFPQConfig"></span><span id="faiss::gpu::GpuIndexIVFPQ::GpuIndexIVFPQ__GpuResourcesProviderP.i.i.i.i.faiss::MetricType.GpuIndexIVFPQConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a6160437520c5959dca4ae6b7201ec242"></span><code class="sig-name descname">GpuIndexIVFPQ</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, int <em>nlist</em>, int <em>subQuantizers</em>, int <em>bitsPerCode</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em>, <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct an empty index. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQD0Ev">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQD0Ev"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQD0Ev"></span><span id="faiss::gpu::GpuIndexIVFPQ::~GpuIndexIVFPQ"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ab105c6666af5697b4f1b3cb99a1f7bf6"></span><code class="sig-name descname">~GpuIndexIVFPQ</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss10IndexIVFPQE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss10IndexIVFPQE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss10IndexIVFPQE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyFrom__faiss::IndexIVFPQCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a8d48f79af9080b55706050244fc24f0e"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Reserve space on the GPU for the inverted lists for <code class="docutils literal notranslate"><span class="pre">num</span></code> vectors, assumed equally distributed among Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss10IndexIVFPQE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss10IndexIVFPQE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss10IndexIVFPQE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyTo__faiss::IndexIVFPQPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1abdea07beafa14bb3d7fe9ad2c8dc34df"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVFPQ_8h.html#_CPPv4N5faiss10IndexIVFPQE" title="faiss::IndexIVFPQ">IndexIVFPQ</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13reserveMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13reserveMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13reserveMemoryE6size_t"></span><span id="faiss::gpu::GpuIndexIVFPQ::reserveMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a4e7d62e21f7e23fa4e94c69131389eea"></span>void <code class="sig-name descname">reserveMemory</code><span class="sig-paren">(</span>size_t <em>numVecs</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Reserve GPU memory in our inverted lists for this number of vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ19setPrecomputedCodesEb">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ19setPrecomputedCodesEb"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ19setPrecomputedCodesEb"></span><span id="faiss::gpu::GpuIndexIVFPQ::setPrecomputedCodes__b"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1afda2894c0ce520e0d3d06eeca5ed5f0c"></span>void <code class="sig-name descname">setPrecomputedCodes</code><span class="sig-paren">(</span>bool <em>enable</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Enable or disable pre-computed codes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ19getPrecomputedCodesEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ19getPrecomputedCodesEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ19getPrecomputedCodesEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getPrecomputedCodesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a518ebeefff55ed18c217d3c824f25676"></span>bool <code class="sig-name descname">getPrecomputedCodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Are pre-computed codes enabled? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ19getNumSubQuantizersEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ19getNumSubQuantizersEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ19getNumSubQuantizersEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getNumSubQuantizersC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a7ed87c230b75e0d859704a7d5b9daead"></span>int <code class="sig-name descname">getNumSubQuantizers</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the number of sub-quantizers we are using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ14getBitsPerCodeEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ14getBitsPerCodeEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ14getBitsPerCodeEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getBitsPerCodeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a0fa38b70f5a2bc7e6e359b47b4c1e73c"></span>int <code class="sig-name descname">getBitsPerCode</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the number of bits per PQ code. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ27getCentroidsPerSubQuantizerEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ27getCentroidsPerSubQuantizerEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ27getCentroidsPerSubQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getCentroidsPerSubQuantizerC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a7d8e89e73eeb7a936c144f28e613de23"></span>int <code class="sig-name descname">getCentroidsPerSubQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Return the number of centroids per PQ code (2^bits per code) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13reclaimMemoryEv">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13reclaimMemoryEv"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13reclaimMemoryEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::reclaimMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a83831088d9593f753560965172ccb0a0"></span>size_t <code class="sig-name descname">reclaimMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>After adding vectors, one can call this to reclaim device memory to exactly the amount needed. Returns space reclaimed in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ5resetEv">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ5resetEv"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ5resetEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a3a43a70461e09ef87bdb7b48ec420dd2"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears out all inverted lists, but retains the coarse and product centroid information </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFPQ::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ac4814acafa4bc340a4c4bdcafd469b56"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the coarse and product quantizer based on the given vector data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ13getListLengthEi">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ13getListLengthEi"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ13getListLengthEi"></span><span id="faiss::gpu::GpuIndexIVFPQ::getListLength__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ae9b275308a633114cf2e8a005b42bc08"></span>int <code class="sig-name descname">getListLength</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Returns the number of vectors present in a particular inverted list. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ17getListVectorDataEib">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ17getListVectorDataEib"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ17getListVectorDataEib"></span><span id="faiss::gpu::GpuIndexIVFPQ::getListVectorData__i.bC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ab2ce111a45fe511a4bcc807c5b84c8f9"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">getListVectorData</code><span class="sig-paren">(</span>int <em>listId</em>, bool <em>gpuFormat</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the encoded vector data contained in a particular inverted list, for debugging purposes. If gpuFormat is true, the data is returned as it is encoded in the GPU-side representation. Otherwise, it is converted to the CPU format. compliant format, while the native GPU format may differ. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ14getListIndicesEi">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ14getListIndicesEi"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ14getListIndicesEi"></span><span id="faiss::gpu::GpuIndexIVFPQ::getListIndices__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a62eddda61a10b790541ec1efe97a249d"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>&gt; <code class="sig-name descname">getListIndices</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the vector indices contained in a particular inverted list, for debugging purposes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss8IndexIVFE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyFrom__faiss::IndexIVFCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a94c2c171f9a2d27085dea9101067bdf2"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss8IndexIVFE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss8IndexIVFE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyTo__faiss::IndexIVFPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a9153ac747b50b454d85416edcf484bd3"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ11getNumListsEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ11getNumListsEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ11getNumListsEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getNumListsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a008b31e78482337f8ca9ae72d9815be0"></span>int <code class="sig-name descname">getNumLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of inverted lists weâre managing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12getQuantizerEv">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12getQuantizerEv"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12getQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ae8ede11bab8c6f2296aa797986006511"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">getQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the quantizer weâre using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12setNumProbesEi"></span><span id="faiss::gpu::GpuIndexIVFPQ::setNumProbes__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a1efac4b9801d57fa6d0085d6aed9c1f2"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ12getNumProbesEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ12getNumProbesEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ12getNumProbesEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getNumProbesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aa231de06057f6f024679291fed7d8c3a"></span>int <code class="sig-name descname">getNumProbes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns our current number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ9getDeviceEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12getResourcesEv">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12getResourcesEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexIVFPQ::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFPQ::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexIVFPQ::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexIVFPQ::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFPQ::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFPQ::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFPQ::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexIVFPQ::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexIVFPQ::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexIVFPQ::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ2cpE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ2cpE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ2cpE"></span><span id="faiss::gpu::GpuIndexIVFPQ::cp__ClusteringParameters"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a520803e209b44c904b876d6b8dad23c9"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ5nlistE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ5nlistE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ5nlistE"></span><span id="faiss::gpu::GpuIndexIVFPQ::nlist__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7d06649d5ae58b7a637a8b348d6f16b3"></span>int <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>Exposing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ6nprobeE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ6nprobeE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ6nprobeE"></span><span id="faiss::gpu::GpuIndexIVFPQ::nprobe__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a83cdbddf42124d7f6c0d9ef232e0c558"></span>int <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ9quantizerE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ9quantizerE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ9quantizerE"></span><span id="faiss::gpu::GpuIndexIVFPQ::quantizer__GpuIndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ac741fa8825e3ef533cbe9a45aa22a8fe"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>Exposeing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ1dE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ1dE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ1dE"></span><span id="faiss::gpu::GpuIndexIVFPQ::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ6ntotalE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ6ntotalE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ6ntotalE"></span><span id="faiss::gpu::GpuIndexIVFPQ::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html#_CPPv4N5faiss3gpu13GpuIndexIVFPQ5idx_tE" title="faiss::gpu::GpuIndexIVFPQ::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ7verboseE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ7verboseE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ7verboseE"></span><span id="faiss::gpu::GpuIndexIVFPQ::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10is_trainedE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10is_trainedE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10is_trainedE"></span><span id="faiss::gpu::GpuIndexIVFPQ::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ11metric_typeE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ11metric_typeE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ11metric_typeE"></span><span id="faiss::gpu::GpuIndexIVFPQ::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10metric_argE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10metric_argE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10metric_argE"></span><span id="faiss::gpu::GpuIndexIVFPQ::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1aa0468cf70921073b3ba798fe753531eb"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add/add_with_ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFPQ::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a73a06501e87117e5f620bb07d7c1e54d"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ15verifySettings_Ev">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ15verifySettings_Ev"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ15verifySettings_Ev"></span><span id="faiss::gpu::GpuIndexIVFPQ::verifySettings_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a93a5cdb61826376c8d4d8698d7a3ccc8"></span>void <code class="sig-name descname">verifySettings_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Throws errors if configuration settings are improper. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ23trainResidualQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ23trainResidualQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ23trainResidualQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFPQ::trainResidualQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a9252f1f86146658759fa0d0077b67dce"></span>void <code class="sig-name descname">trainResidualQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Trains the PQ quantizer based on the given vector data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFPQ::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu13GpuIndexIVFPQ19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu13GpuIndexIVFPQ19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu13GpuIndexIVFPQ19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexIVFPQ::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a69731ab85d119127e1fe603757b28400"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ15trainQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFPQ::trainQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8f64aaab0221591c82825c1594432c72"></span>void <code class="sig-name descname">trainQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12ivfpqConfig_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12ivfpqConfig_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12ivfpqConfig_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::ivfpqConfig___GpuIndexIVFPQConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a34e191c9fa03320f083ca06155faa1a9"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVFPQ_8h.html#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE" title="faiss::gpu::GpuIndexIVFPQConfig">GpuIndexIVFPQConfig</a> <code class="sig-name descname">ivfpqConfig_</code><br /></dt>
<dd><p>Our configuration options that we were initialized with. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ21usePrecomputedTables_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ21usePrecomputedTables_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ21usePrecomputedTables_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::usePrecomputedTables___b"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1ae687f3d1b19bc2da4864ececf84b944b"></span>bool <code class="sig-name descname">usePrecomputedTables_</code><br /></dt>
<dd><p>Runtime override: whether or not we use precomputed tables. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ14subQuantizers_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ14subQuantizers_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ14subQuantizers_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::subQuantizers___i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a1e0d550a362813a21de6af150ab67b7f"></span>int <code class="sig-name descname">subQuantizers_</code><br /></dt>
<dd><p>Number of sub-quantizers per encoded vector. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ12bitsPerCode_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ12bitsPerCode_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ12bitsPerCode_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::bitsPerCode___i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a56a4264e54409db885f439a06501ef11"></span>int <code class="sig-name descname">bitsPerCode_</code><br /></dt>
<dd><p>Bits per sub-quantizer code. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ18reserveMemoryVecs_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ18reserveMemoryVecs_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ18reserveMemoryVecs_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::reserveMemoryVecs___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1a145c8862f7e7ffd3b062a0ca38d6c6ec"></span>size_t <code class="sig-name descname">reserveMemoryVecs_</code><br /></dt>
<dd><p>Desired inverted list memory reservation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ6index_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ6index_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ6index_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::index___std::unique_ptr:IVFPQ:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFPQ_1aee2cdc21caa1cdac1e7973c5904ea091"></span>std::unique_ptr&lt;IVFPQ&gt; <code class="sig-name descname">index_</code><br /></dt>
<dd><p>The product quantizer instance that we own; contains the inverted lists </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10ivfConfig_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10ivfConfig_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10ivfConfig_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::ivfConfig___GpuIndexIVFConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7e25b7ac093961ab0f58f1bc72f6ea43"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <code class="sig-name descname">ivfConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ10resources_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ10resources_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ10resources_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ7config_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ7config_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ7config_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu13GpuIndexIVFPQ13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu13GpuIndexIVFPQ13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu13GpuIndexIVFPQ13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexIVFPQ::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfigE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfigE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfigE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexIVFPQConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig19GpuIndexIVFPQConfigEv">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig19GpuIndexIVFPQConfigEv"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig19GpuIndexIVFPQConfigEv"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::GpuIndexIVFPQConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1ab8173b4e53a49aa5c43f0b04a61f16fd"></span><code class="sig-name descname">GpuIndexIVFPQConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig22useFloat16LookupTablesE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig22useFloat16LookupTablesE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig22useFloat16LookupTablesE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::useFloat16LookupTables__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1a9dbbec78d77d90b7b150f543e477cc49"></span>bool <code class="sig-name descname">useFloat16LookupTables</code><br /></dt>
<dd><p>Whether or not float16 residual distance tables are used in the list scanning kernels. When subQuantizers * 2^bitsPerCode &gt; 16384, this is required. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig20usePrecomputedTablesE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig20usePrecomputedTablesE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig20usePrecomputedTablesE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::usePrecomputedTables__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1ae5b5c7acc06743e5bcca197bc33c30ec"></span>bool <code class="sig-name descname">usePrecomputedTables</code><br /></dt>
<dd><p>Whether or not we enable the precomputed table option for search, which can substantially increase the memory requirement. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig17interleavedLayoutE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig17interleavedLayoutE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig17interleavedLayoutE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::interleavedLayout__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1a3698bd46d5a0003ec43d434a58794532"></span>bool <code class="sig-name descname">interleavedLayout</code><br /></dt>
<dd><p>Use the alternative memory layout for the IVF lists WARNING: this is a feature under development, do not use! </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig17useMMCodeDistanceE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig17useMMCodeDistanceE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig17useMMCodeDistanceE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::useMMCodeDistance__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFPQConfig_1a45b88d1deb299970d887a4aa3ec8dd2a"></span>bool <code class="sig-name descname">useMMCodeDistance</code><br /></dt>
<dd><p>Use GEMM-backed computation of PQ code distances for the no precomputed table version of IVFPQ. This is for debugging purposes, it should not substantially affect the results one way for another.</p>
<p>Note that MM code distance is enabled automatically if one uses a number of dimensions per sub-quantizer that is not natively specialized (an odd number like 7 or so). </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig14indicesOptionsE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1af432221761d48e4753f501208a60264d"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig14indicesOptionsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> storage options for the GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig10flatConfigE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig10flatConfigE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig10flatConfigE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::flatConfig__GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1a6d357a9a67a2fed9c8e7b139712d30f6"></span><a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig10flatConfigE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Configuration for the coarse quantizer object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig6deviceE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig6deviceE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig6deviceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu19GpuIndexIVFPQConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu19GpuIndexIVFPQConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexIVFPQConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19GpuIndexIVFPQConfig11memorySpaceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizerE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizerE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizerE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer"></span><em class="property">class </em><code class="sig-name descname">GpuIndexIVFScalarQuantizer</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVF.html#_CPPv4N5faiss3gpu11GpuIndexIVFE" title="faiss::gpu::GpuIndexIVF">GpuIndexIVF</a><br /></dt>
<dd><em>#include &lt;GpuIndexIVFScalarQuantizer.h&gt;</em><p>Wrapper around the GPU implementation that looks like <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFScalarQuantizer.html#structfaiss_1_1IndexIVFScalarQuantizer"><span class="std std-ref">faiss::IndexIVFScalarQuantizer</span></a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE"></span><span class="target" id="structfaiss_1_1Index_1ab64b96e821336c5b363d023386781d1d"></span><em class="property">using </em><code class="sig-name descname">idx_t</code> = int64_t<br /></dt>
<dd><p>all indices are this type </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer11component_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer11component_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer11component_tE"></span><span class="target" id="structfaiss_1_1Index_1af317cb1e2ad0bd145f716f2243b693eb"></span><em class="property">using </em><code class="sig-name descname">component_t</code> = float<br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10distance_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10distance_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10distance_tE"></span><span class="target" id="structfaiss_1_1Index_1a1c60d7a12bf3ad27054963df8cccd93f"></span><em class="property">using </em><code class="sig-name descname">distance_t</code> = float<br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProviderPKN5faiss23IndexIVFScalarQuantizerE32GpuIndexIVFScalarQuantizerConfig">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProviderPKN5faiss23IndexIVFScalarQuantizerE32GpuIndexIVFScalarQuantizerConfig"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProviderPKN5faiss23IndexIVFScalarQuantizerE32GpuIndexIVFScalarQuantizerConfig"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::GpuIndexIVFScalarQuantizer__GpuResourcesProviderP.faiss::IndexIVFScalarQuantizerCP.GpuIndexIVFScalarQuantizerConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a20f55135edbd34cd7e11eda616a6c4a4"></span><code class="sig-name descname">GpuIndexIVFScalarQuantizer</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, <em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexScalarQuantizer_8h.html#_CPPv4N5faiss23IndexIVFScalarQuantizerE" title="faiss::IndexIVFScalarQuantizer">IndexIVFScalarQuantizer</a> *<em>index</em>, <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Construct from a pre-existing <a class="reference internal" href="../struct/structfaiss_1_1IndexIVFScalarQuantizer.html#structfaiss_1_1IndexIVFScalarQuantizer"><span class="std std-ref">faiss::IndexIVFScalarQuantizer</span></a> instance, copying data over to the given GPU, if the input index is trained. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProvideriiN5faiss15ScalarQuantizer13QuantizerTypeEN5faiss10MetricTypeEb32GpuIndexIVFScalarQuantizerConfig">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProvideriiN5faiss15ScalarQuantizer13QuantizerTypeEN5faiss10MetricTypeEb32GpuIndexIVFScalarQuantizerConfig"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer26GpuIndexIVFScalarQuantizerEP20GpuResourcesProvideriiN5faiss15ScalarQuantizer13QuantizerTypeEN5faiss10MetricTypeEb32GpuIndexIVFScalarQuantizerConfig"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::GpuIndexIVFScalarQuantizer__GpuResourcesProviderP.i.i.faiss::ScalarQuantizer::QuantizerType.faiss::MetricType.b.GpuIndexIVFScalarQuantizerConfig"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1acebcb18d4b9a6ed77dee46f355d4a493"></span><code class="sig-name descname">GpuIndexIVFScalarQuantizer</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>provider</em>, int <em>dims</em>, int <em>nlist</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::ScalarQuantizer::QuantizerType <em>qtype</em>, <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <em>metric</em> = <a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a>::<a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricType9METRIC_L2E" title="faiss::MetricType::METRIC_L2">METRIC_L2</a>, bool <em>encodeResidual</em> = true, <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a> <em>config</em> = <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a>()<span class="sig-paren">)</span><br /></dt>
<dd><p>Constructs a new instance with an empty flat quantizer; the user provides the number of lists desired. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizerD0Ev">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizerD0Ev"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizerD0Ev"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::~GpuIndexIVFScalarQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a65975284c6a485e26b415b36798e4785"></span><code class="sig-name descname">~GpuIndexIVFScalarQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer13reserveMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer13reserveMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer13reserveMemoryE6size_t"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reserveMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a442f3139eef5b90b53e3523294c9d30f"></span>void <code class="sig-name descname">reserveMemory</code><span class="sig-paren">(</span>size_t <em>numVecs</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Reserve GPU memory in our inverted lists for this number of vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss23IndexIVFScalarQuantizerE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss23IndexIVFScalarQuantizerE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss23IndexIVFScalarQuantizerE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyFrom__faiss::IndexIVFScalarQuantizerCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a9d739a970bac43f2b906f7a88b638fe3"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexScalarQuantizer_8h.html#_CPPv4N5faiss23IndexIVFScalarQuantizerE" title="faiss::IndexIVFScalarQuantizer">IndexIVFScalarQuantizer</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize ourselves from the given CPU index; will overwrite all data in ourselves </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss23IndexIVFScalarQuantizerE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss23IndexIVFScalarQuantizerE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss23IndexIVFScalarQuantizerE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyTo__faiss::IndexIVFScalarQuantizerPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a280bad274d429845f94c552b26531e64"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexScalarQuantizer_8h.html#_CPPv4N5faiss23IndexIVFScalarQuantizerE" title="faiss::IndexIVFScalarQuantizer">IndexIVFScalarQuantizer</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy ourselves to the given CPU index; will overwrite all data in the index instance </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer13reclaimMemoryEv">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer13reclaimMemoryEv"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer13reclaimMemoryEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reclaimMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a5611542c6d1e26dc94d677d33e30a8fd"></span>size_t <code class="sig-name descname">reclaimMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>After adding vectors, one can call this to reclaim device memory to exactly the amount needed. Returns space reclaimed in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5resetEv">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer5resetEv"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer5resetEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reset"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a6e25bd642bf3ae6fe84c9c315e0edf25"></span>void <code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Clears out all inverted lists, but retains the coarse and scalar quantizer information </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5trainEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer5trainEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer5trainEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::train__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a11c52bf069e04520b000cf888c06cb05"></span>void <code class="sig-name descname">train</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Trains the coarse and scalar quantizer based on the given vector data. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer13getListLengthEi">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer13getListLengthEi"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer13getListLengthEi"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getListLength__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1ae2a57707bf9631d4f4ca5866dba07208"></span>int <code class="sig-name descname">getListLength</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Returns the number of vectors present in a particular inverted list. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer17getListVectorDataEib">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer17getListVectorDataEib"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer17getListVectorDataEib"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getListVectorData__i.bC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a8fd6f67fc3978b1742473d789b783612"></span>std::vector&lt;uint8_t&gt; <code class="sig-name descname">getListVectorData</code><span class="sig-paren">(</span>int <em>listId</em>, bool <em>gpuFormat</em> = false<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the encoded vector data contained in a particular inverted list, for debugging purposes. If gpuFormat is true, the data is returned as it is encoded in the GPU-side representation. Otherwise, it is converted to the CPU format. compliant format, while the native GPU format may differ. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer14getListIndicesEi">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer14getListIndicesEi"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer14getListIndicesEi"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getListIndices__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a6755bb048958c117db7dd4d898f8a4d6"></span>std::vector&lt;<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>&gt; <code class="sig-name descname">getListIndices</code><span class="sig-paren">(</span>int <em>listId</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Return the vector indices contained in a particular inverted list, for debugging purposes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss8IndexIVFE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss8IndexIVFE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyFrom__faiss::IndexIVFCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a94c2c171f9a2d27085dea9101067bdf2"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss8IndexIVFE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss8IndexIVFE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss8IndexIVFE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyTo__faiss::IndexIVFPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a9153ac747b50b454d85416edcf484bd3"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer11getNumListsEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer11getNumListsEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer11getNumListsEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getNumListsC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a008b31e78482337f8ca9ae72d9815be0"></span>int <code class="sig-name descname">getNumLists</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the number of inverted lists weâre managing. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12getQuantizerEv">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12getQuantizerEv"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12getQuantizerEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ae8ede11bab8c6f2296aa797986006511"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">getQuantizer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Return the quantizer weâre using. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12setNumProbesEi"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::setNumProbes__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a1efac4b9801d57fa6d0085d6aed9c1f2"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets the number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer12getNumProbesEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer12getNumProbesEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer12getNumProbesEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getNumProbesC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1aa231de06057f6f024679291fed7d8c3a"></span>int <code class="sig-name descname">getNumProbes</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns our current number of list probes per query. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer9getDeviceEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1af4f02c713f639bd70e09af8afebd0f51"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the device that this index is resident on. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12getResourcesEv">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12getResourcesEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a2eb235a51b0a70bdbc2c814a48a0917d"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a reference to our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that manages memory, stream and handle resources on the GPU </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer16setMinPagingSizeE6size_t">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer16setMinPagingSizeE6size_t"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer16setMinPagingSizeE6size_t"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::setMinPagingSize__s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6c82cbea6b02cc996d634f822c1d310b"></span>void <code class="sig-name descname">setMinPagingSize</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set the minimum data size for searches (in MiB) for which we use CPU -&gt; GPU paging </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer16getMinPagingSizeEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer16getMinPagingSizeEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer16getMinPagingSizeEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::getMinPagingSizeC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6402d93925d2a403dc187dc1a7aab1e3"></span>size_t <code class="sig-name descname">getMinPagingSize</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current minimum data size for paged searches. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer3addEN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer3addEN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer3addEN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::add__Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac6ac307f55a1b44dbf185e22c83b0a10"></span>void <code class="sig-name descname">add</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12add_with_idsEN5Index5idx_tEPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::add_with_ids__Index::idx_t.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a47f6969fe60d82b8e3407557ba9eec88"></span>void <code class="sig-name descname">add_with_ids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">ids</span></code> can be resident on the CPU or any GPU; copies are performed as needed Handles paged adds if the add set is too large; calls addInternal_ </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6assignEN5Index5idx_tEPKfPN5Index5idx_tEN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::assign__Index::idx_t.floatCP.Index::idx_tP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ac108456e9c7cde162d77f64cc9c0dcdb"></span>void <code class="sig-name descname">assign</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em> = 1<span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6searchEN5Index5idx_tEPKfN5Index5idx_tEPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::search__Index::idx_t.floatCP.Index::idx_t.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a4564ff946e4339156173b39449562971"></span>void <code class="sig-name descname">search</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">distances</span></code> and <code class="docutils literal notranslate"><span class="pre">labels</span></code> can be resident on the CPU or any GPU; copies are performed as needed </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer16compute_residualEPKfPfN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer16compute_residualEPKfPfN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer16compute_residualEPKfPfN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::compute_residual__floatCP.floatP.Index::idx_tC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a1c68659822d9e330a7737c8a6aaacae2"></span>void <code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="property">const</em> float *<em>x</em>, float *<em>residual</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>key</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer18compute_residual_nEN5Index5idx_tEPKfPfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::compute_residual_n__Index::idx_t.floatCP.floatP.Index::idx_tCPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1aac69097d303830c3d48c4016c1e6a955"></span>void <code class="sig-name descname">compute_residual_n</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>xs</em>, float *<em>residuals</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>keys</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Overridden to force GPU indices to provide their own GPU-friendly implementation </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer12range_searchE5idx_tPKffP17RangeSearchResult"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::range_search__idx_t.floatCP.float.RangeSearchResultPC"></span><span class="target" id="structfaiss_1_1Index_1a23c23be6698f583402bde568eee00ad1"></span>void <code class="sig-name descname">range_search</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>query n vectors of dimension d to the index.</p>
<p>return all vectors with distance &lt; radius. Note that many indexes do not implement the range_search (only the k-NN search is mandatory).</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors to search, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">radius</span></code>: search radius </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">result</span></code>: result table </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10remove_idsERK10IDSelector">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10remove_idsERK10IDSelector"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10remove_idsERK10IDSelector"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::remove_ids__IDSelectorCR"></span><span class="target" id="structfaiss_1_1Index_1ab70f7d0acb4a2f22857da3b17559ae82"></span>size_t <code class="sig-name descname">remove_ids</code><span class="sig-paren">(</span><em class="property">const</em> IDSelector &amp;<em>sel</em><span class="sig-paren">)</span><br /></dt>
<dd><p>removes IDs from the index. Not supported by all indexes. Returns the number of elements removed. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer11reconstructE5idx_tPf">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer11reconstructE5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer11reconstructE5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reconstruct__idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1afaf9673009f9fe5a53ed6db522a5f69c"></span>void <code class="sig-name descname">reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>key</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct a stored vector (or an approximation if lossy coding)</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">key</span></code>: id of the vector to reconstruct </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer13reconstruct_nE5idx_t5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reconstruct_n__idx_t.idx_t.floatPC"></span><span class="target" id="structfaiss_1_1Index_1ae7c0b683e1fd5c8770ea2b3e1a82ce7f"></span>void <code class="sig-name descname">reconstruct_n</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>i0</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>ni</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Reconstruct vectors i0 to i0 + ni - 1</p>
<p>this function may not be defined for some indexes <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstucted vector (size ni * d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer22search_and_reconstructE5idx_tPKf5idx_tPfP5idx_tPf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::search_and_reconstruct__idx_t.floatCP.idx_t.floatP.idx_tP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1a009874adf12440eb46396522ffd736cd"></span>void <code class="sig-name descname">search_and_reconstruct</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> *<em>labels</em>, float *<em>recons</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Similar to search, but also reconstructs the stored vectors (or an approximation in the case of lossy coding) for the search results.</p>
<p>If there are not enough results for a query, the resulting arrays is padded with -1s.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">recons</span></code>: reconstructed vectors size (n, k, d) </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer21get_distance_computerEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer21get_distance_computerEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer21get_distance_computerEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::get_distance_computerC"></span><span class="target" id="structfaiss_1_1Index_1ab53ef983521567c3dc3fee4543546e6a"></span>DistanceComputer *<code class="sig-name descname">get_distance_computer</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Get a DistanceComputer (defined in AuxIndexStructures) object for this kind of index.</p>
<p>DistanceComputer is implemented for indexes that support random access of their vectors. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer12sa_code_sizeEv">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer12sa_code_sizeEv"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer12sa_code_sizeEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::sa_code_sizeC"></span><span class="target" id="structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"></span>size_t <code class="sig-name descname">sa_code_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>size of the produced codes in bytes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_encodeE5idx_tPKfP7uint8_t"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::sa_encode__idx_t.floatCP.uint8_tPC"></span><span class="target" id="structfaiss_1_1Index_1a16770c0addc888b92deee089d6f97e7c"></span>void <code class="sig-name descname">sa_encode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, uint8_t *<em>bytes</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: input vectors, size n * d </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: output encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer9sa_decodeE5idx_tPK7uint8_tPf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::sa_decode__idx_t.uint8_tCP.floatPC"></span><span class="target" id="structfaiss_1_1Index_1af39e4b00d097ac05dc9e31c52bfb9ed7"></span>void <code class="sig-name descname">sa_decode</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> uint8_t *<em>bytes</em>, float *<em>x</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>encode a set of vectors</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: number of vectors </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code>: input encoded vectors, size n * <a class="reference internal" href="../struct/structfaiss_1_1MultiIndexQuantizer2.html#structfaiss_1_1Index_1a5a050b805d4836afdf8f09251ad8b415"><span class="std std-ref">sa_code_size()</span></a> </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: output vectors, size n * d </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer2sqE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer2sqE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer2sqE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::sq__faiss::ScalarQuantizer"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1aa692a5a002bf93908018535d6a1cdf26"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::ScalarQuantizer <code class="sig-name descname">sq</code><br /></dt>
<dd><p>Exposed like the CPU version. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer11by_residualE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer11by_residualE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer11by_residualE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::by_residual__b"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a2586cb94bd25692ad730180a34630824"></span>bool <code class="sig-name descname">by_residual</code><br /></dt>
<dd><p>Exposed like the CPU version. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer2cpE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer2cpE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer2cpE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::cp__ClusteringParameters"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a520803e209b44c904b876d6b8dad23c9"></span><a class="reference internal" href="../file/Clustering_8h.html#_CPPv4N5faiss20ClusteringParametersE" title="faiss::ClusteringParameters">ClusteringParameters</a> <code class="sig-name descname">cp</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5nlistE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer5nlistE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer5nlistE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::nlist__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7d06649d5ae58b7a637a8b348d6f16b3"></span>int <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>Exposing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer6nprobeE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer6nprobeE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer6nprobeE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::nprobe__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a83cdbddf42124d7f6c0d9ef232e0c558"></span>int <code class="sig-name descname">nprobe</code><br /></dt>
<dd><p>Exposing this like the CPU version for manipulation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer9quantizerE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer9quantizerE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer9quantizerE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::quantizer__GpuIndexFlatP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1ac741fa8825e3ef533cbe9a45aa22a8fe"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexFlat.html#_CPPv4N5faiss3gpu12GpuIndexFlatE" title="faiss::gpu::GpuIndexFlat">GpuIndexFlat</a> *<code class="sig-name descname">quantizer</code><br /></dt>
<dd><p>Exposeing this like the CPU version for query. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer1dE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer1dE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer1dE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::d__i"></span><span class="target" id="structfaiss_1_1Index_1a2a002388d2c081c2dbab8508dcefe73d"></span>int <code class="sig-name descname">d</code><br /></dt>
<dd><p>vector dimension </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer6ntotalE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer6ntotalE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer6ntotalE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::ntotal__idx_t"></span><span class="target" id="structfaiss_1_1Index_1a6970683faa021b7a6f1a0865c0d4eccd"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html#_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer5idx_tE" title="faiss::gpu::GpuIndexIVFScalarQuantizer::idx_t">idx_t</a> <code class="sig-name descname">ntotal</code><br /></dt>
<dd><p>total nb of indexed vectors </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer7verboseE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer7verboseE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer7verboseE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::verbose__b"></span><span class="target" id="structfaiss_1_1Index_1a5590d847c5c2b958affd2a05e58a6f23"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>verbosity level </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10is_trainedE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10is_trainedE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10is_trainedE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::is_trained__b"></span><span class="target" id="structfaiss_1_1Index_1a6e92732617c4dbe364e7678dd8773a7f"></span>bool <code class="sig-name descname">is_trained</code><br /></dt>
<dd><p>set if the <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> does not require training, or if training is done already </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer11metric_typeE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer11metric_typeE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer11metric_typeE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::metric_type__MetricType"></span><span class="target" id="structfaiss_1_1Index_1a8e18f641854b2bde83ecff0a2f9a6f4e"></span><a class="reference internal" href="../file/MetricType_8h.html#_CPPv4N5faiss10MetricTypeE" title="faiss::MetricType">MetricType</a> <code class="sig-name descname">metric_type</code><br /></dt>
<dd><p>type of metric this index uses for search </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10metric_argE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10metric_argE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10metric_argE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::metric_arg__float"></span><span class="target" id="structfaiss_1_1Index_1a6f60646d6877658ea4df05e0231ed232"></span>float <code class="sig-name descname">metric_arg</code><br /></dt>
<dd><p>argument of the metric type </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer8addImpl_EiPKfPKN5Index5idx_tE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer8addImpl_EiPKfPKN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::addImpl___i.floatCP.Index::idx_tCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1acb0acce275150539ea2e6180052787f3"></span>void <code class="sig-name descname">addImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>ids</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for add/add_with_ids. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer11searchImpl_EiPKfiPfPN5Index5idx_tE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer11searchImpl_EiPKfiPfPN5Index5idx_tE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::searchImpl___i.floatCP.i.floatP.Index::idx_tPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a6b69eff925245a3e0d39e00564e7a988"></span>void <code class="sig-name descname">searchImpl_</code><span class="sig-paren">(</span>int <em>n</em>, <em class="property">const</em> float *<em>x</em>, int <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> *<em>labels</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Called from <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndex"><span class="std std-ref">GpuIndex</span></a> for search. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainResiduals_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainResiduals_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainResiduals_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::trainResiduals___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a8b1656df14f1e8c9aef6f19c0ca87982"></span>void <code class="sig-name descname">trainResiduals_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Called from train to handle SQ residual training. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer8copyFromEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyFrom__faiss::IndexCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a9d1657c6a28e0581b3bc96699e12a2ab"></span>void <code class="sig-name descname">copyFrom</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy what we need from the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss5IndexE">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss5IndexE"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer6copyToEPN5faiss5IndexE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::copyTo__faiss::IndexPC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a6fa51de122f2cf2bd49727d909fb4b6c"></span>void <code class="sig-name descname">copyTo</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Copy what we have to the CPU equivalent. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu26GpuIndexIVFScalarQuantizer19addImplRequiresIDs_Ev">
<span id="_CPPv3NK5faiss3gpu26GpuIndexIVFScalarQuantizer19addImplRequiresIDs_Ev"></span><span id="_CPPv2NK5faiss3gpu26GpuIndexIVFScalarQuantizer19addImplRequiresIDs_Ev"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::addImplRequiresIDs_C"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a69731ab85d119127e1fe603757b28400"></span>bool <code class="sig-name descname">addImplRequiresIDs_</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>Does addImpl_ require IDs? If so, and no IDs are provided, we will generate them sequentially based on the order in which the IDs are added </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainQuantizer_EN5Index5idx_tEPKf">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer15trainQuantizer_EN5Index5idx_tEPKf"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::trainQuantizer___Index::idx_t.floatCP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a8f64aaab0221591c82825c1594432c72"></span>void <code class="sig-name descname">trainQuantizer_</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer12ivfSQConfig_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer12ivfSQConfig_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer12ivfSQConfig_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::ivfSQConfig___GpuIndexIVFScalarQuantizerConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1ac11e7fc14a0fcd2e4bac244b47ac1238"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVFScalarQuantizer_8h.html#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE" title="faiss::gpu::GpuIndexIVFScalarQuantizerConfig">GpuIndexIVFScalarQuantizerConfig</a> <code class="sig-name descname">ivfSQConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer18reserveMemoryVecs_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer18reserveMemoryVecs_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer18reserveMemoryVecs_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::reserveMemoryVecs___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1a8476560fd366356b996fb249108982ad"></span>size_t <code class="sig-name descname">reserveMemoryVecs_</code><br /></dt>
<dd><p>Desired inverted list memory reservation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer6index_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer6index_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer6index_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::index___std::unique_ptr:IVFFlat:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer_1ac858f594d34b793fdd72043c2df8cf53"></span>std::unique_ptr&lt;IVFFlat&gt; <code class="sig-name descname">index_</code><br /></dt>
<dd><p>Instance that we own; contains the inverted list. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10ivfConfig_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10ivfConfig_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10ivfConfig_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::ivfConfig___GpuIndexIVFConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndexIVF_1a7e25b7ac093961ab0f58f1bc72f6ea43"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a> <code class="sig-name descname">ivfConfig_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer10resources_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer10resources_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer10resources_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::resources___std::shared_ptr:GpuResources:"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a5f6bffd99291b2198ef601ef7e5c5a30"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">resources_</code><br /></dt>
<dd><p>Manages streams, cuBLAS handles and scratch memory for devices. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer7config_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer7config_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer7config_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::config___GpuIndexConfigC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1ab62da82105579618d1b89a810d61e3bd"></span><em class="property">const</em> <a class="reference internal" href="../file/GpuIndex_8h.html#_CPPv4N5faiss3gpu14GpuIndexConfigE" title="faiss::gpu::GpuIndexConfig">GpuIndexConfig</a> <code class="sig-name descname">config_</code><br /></dt>
<dd><p>Our configuration options. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu26GpuIndexIVFScalarQuantizer13minPagedSize_E">
<span id="_CPPv3N5faiss3gpu26GpuIndexIVFScalarQuantizer13minPagedSize_E"></span><span id="_CPPv2N5faiss3gpu26GpuIndexIVFScalarQuantizer13minPagedSize_E"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizer::minPagedSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuIndex_1a32a08664fc4dca2f9405e07ea5bc206f"></span>size_t <code class="sig-name descname">minPagedSize_</code><br /></dt>
<dd><p>Size above which we page copies from the CPU to GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfigE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig"></span><em class="property">struct </em><code class="sig-name descname">GpuIndexIVFScalarQuantizerConfig</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuIndexIVF_8h.html#_CPPv4N5faiss3gpu17GpuIndexIVFConfigE" title="faiss::gpu::GpuIndexIVFConfig">GpuIndexIVFConfig</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig32GpuIndexIVFScalarQuantizerConfigEv">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig32GpuIndexIVFScalarQuantizerConfigEv"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig32GpuIndexIVFScalarQuantizerConfigEv"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::GpuIndexIVFScalarQuantizerConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig_1a9f1d563c0024b897e62edd1800bae795"></span><code class="sig-name descname">GpuIndexIVFScalarQuantizerConfig</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig17interleavedLayoutE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig17interleavedLayoutE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig17interleavedLayoutE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::interleavedLayout__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizerConfig_1a37a76f2a5f746906d167fbe915e87da1"></span>bool <code class="sig-name descname">interleavedLayout</code><br /></dt>
<dd><p>Use the alternative memory layout for the IVF lists (currently the default) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig14indicesOptionsE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1af432221761d48e4753f501208a60264d"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><a class="headerlink" href="#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig14indicesOptionsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> storage options for the GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig10flatConfigE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig10flatConfigE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig10flatConfigE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::flatConfig__GpuIndexFlatConfig"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexIVFConfig_1a6d357a9a67a2fed9c8e7b139712d30f6"></span><a class="reference internal" href="../file/GpuIndexFlat_8h.html#_CPPv4N5faiss3gpu18GpuIndexFlatConfigE" title="faiss::gpu::GpuIndexFlatConfig">GpuIndexFlatConfig</a> <code class="sig-name descname">flatConfig</code><a class="headerlink" href="#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig10flatConfigE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Configuration for the coarse quantizer object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig6deviceE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig6deviceE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig6deviceE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1aab05a0aa7b42feae7df4e556a52ead57"></span>int <code class="sig-name descname">device</code><a class="headerlink" href="#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig6deviceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>GPU device on which the index is resident. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig11memorySpaceE">
<span id="_CPPv3N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig11memorySpaceE"></span><span id="_CPPv2N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig11memorySpaceE"></span><span id="faiss::gpu::GpuIndexIVFScalarQuantizerConfig::memorySpace__MemorySpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuIndexConfig_1adf7c9461009108a9a433a077ab322d2e"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu11MemorySpaceE" title="faiss::gpu::MemorySpace">MemorySpace</a> <code class="sig-name descname">memorySpace</code><a class="headerlink" href="#_CPPv4N5faiss3gpu32GpuIndexIVFScalarQuantizerConfig11memorySpaceE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>What memory space to use for primary storage. On Pascal and above (CC 6+) architectures, allows GPUs to use more memory than is available on the GPU. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservationE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservationE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservationE"></span><span id="faiss::gpu::GpuMemoryReservation"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation"></span><em class="property">struct </em><code class="sig-name descname">GpuMemoryReservation</code><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>A RAII object that manages a temporary memory request. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEv">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEv"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEv"></span><span id="faiss::gpu::GpuMemoryReservation::GpuMemoryReservation"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a8631ed006dff5fce027220a1ea42a91d"></span><code class="sig-name descname">GpuMemoryReservation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEP12GpuResourcesi12cudaStream_tPv6size_t">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEP12GpuResourcesi12cudaStream_tPv6size_t"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationEP12GpuResourcesi12cudaStream_tPv6size_t"></span><span id="faiss::gpu::GpuMemoryReservation::GpuMemoryReservation__GpuResourcesP.i.cudaStream_t.voidP.s"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a21e29e3f8f04d34f03718c3eaad3d7ab"></span><code class="sig-name descname">GpuMemoryReservation</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<em>r</em>, int <em>dev</em>, cudaStream_t <em>str</em>, void *<em>p</em>, size_t <em>sz</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationERR20GpuMemoryReservation">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationERR20GpuMemoryReservation"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationERR20GpuMemoryReservation"></span><span id="faiss::gpu::GpuMemoryReservation::GpuMemoryReservation__GpuMemoryReservationRR"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a9f40022a8ca5ff60fe704b9d462fa096"></span><code class="sig-name descname">GpuMemoryReservation</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservation20GpuMemoryReservationERR20GpuMemoryReservation" title="faiss::gpu::GpuMemoryReservation::GpuMemoryReservation">GpuMemoryReservation</a> &amp;&amp;<em>m</em><span class="sig-paren">)</span> <em class="property">noexcept</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservationD0Ev">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservationD0Ev"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservationD0Ev"></span><span id="faiss::gpu::GpuMemoryReservation::~GpuMemoryReservation"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a24a41906bdc0f87e5ad3f0849df09c63"></span><code class="sig-name descname">~GpuMemoryReservation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservationaSERR20GpuMemoryReservation">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservationaSERR20GpuMemoryReservation"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservationaSERR20GpuMemoryReservation"></span><span id="faiss::gpu::GpuMemoryReservation::assign-operator__GpuMemoryReservationRR"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a2e36ac15a92691b0037d2f0ec9db833b"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservationE" title="faiss::gpu::GpuMemoryReservation">GpuMemoryReservation</a> &amp;<code class="sig-name descname">operator=</code><span class="sig-paren">(</span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservationE" title="faiss::gpu::GpuMemoryReservation">GpuMemoryReservation</a> &amp;&amp;<em>m</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation3getEv">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation3getEv"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation3getEv"></span><span id="faiss::gpu::GpuMemoryReservation::get"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a4894ba319a954367fc9a7d8e17ce0200"></span>void *<code class="sig-name descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation7releaseEv">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation7releaseEv"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation7releaseEv"></span><span id="faiss::gpu::GpuMemoryReservation::release"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a3420ab9b0a349ca60b9763268174c120"></span>void <code class="sig-name descname">release</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation3resE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation3resE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation3resE"></span><span id="faiss::gpu::GpuMemoryReservation::res__GpuResourcesP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a211012d3090fce8c79f7b7404c4b749c"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<code class="sig-name descname">res</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation6deviceE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation6deviceE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation6deviceE"></span><span id="faiss::gpu::GpuMemoryReservation::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a88f82c738e2527dfec47cf526237757c"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation6streamE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation6streamE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation6streamE"></span><span id="faiss::gpu::GpuMemoryReservation::stream__cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1ae42376827d02e31fe88ca0d79eab557a"></span>cudaStream_t <code class="sig-name descname">stream</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation4dataE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation4dataE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation4dataE"></span><span id="faiss::gpu::GpuMemoryReservation::data__voidP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1ae8b2f577d470cccf55e138708151cba1"></span>void *<code class="sig-name descname">data</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20GpuMemoryReservation4sizeE">
<span id="_CPPv3N5faiss3gpu20GpuMemoryReservation4sizeE"></span><span id="_CPPv2N5faiss3gpu20GpuMemoryReservation4sizeE"></span><span id="faiss::gpu::GpuMemoryReservation::size__s"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMemoryReservation_1a9d6c29b2ff05c2b3aa6bc0183719444e"></span>size_t <code class="sig-name descname">size</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptionsE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptionsE"></span><span id="faiss::gpu::GpuMultipleClonerOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions"></span><em class="property">struct </em><code class="sig-name descname">GpuMultipleClonerOptions</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu16GpuClonerOptionsE" title="faiss::gpu::GpuClonerOptions">GpuClonerOptions</a><br /></dt>
<dd><p>Subclassed by <a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1ToGpuClonerMultiple.html#structfaiss_1_1gpu_1_1ToGpuClonerMultiple"><span class="std std-ref">faiss::gpu::ToGpuClonerMultiple</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions24GpuMultipleClonerOptionsEv">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions24GpuMultipleClonerOptionsEv"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions24GpuMultipleClonerOptionsEv"></span><span id="faiss::gpu::GpuMultipleClonerOptions::GpuMultipleClonerOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1abd3d51458ecb2161a27f118086d4cd15"></span><code class="sig-name descname">GpuMultipleClonerOptions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions5shardE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions5shardE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions5shardE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::shard__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1a7c5bd7a840f6641d5d68699f4416d79d"></span>bool <code class="sig-name descname">shard</code><br /></dt>
<dd><p>Whether to shard the index across GPUs, versus replication across GPUs </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions10shard_typeE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions10shard_typeE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions10shard_typeE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::shard_type__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1a9548f823297298b0a78109dec7feb45e"></span>int <code class="sig-name descname">shard_type</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"><span class="std std-ref">IndexIVF::copy_subset_to</span></a> subset type. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions14indicesOptionsE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ad960ac51b7cc607fcb1a1b07efc32a9e"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><br /></dt>
<dd><p>how should indices be stored on index types that support indices (anything but GpuIndexFlat*)? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions25useFloat16CoarseQuantizerE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions25useFloat16CoarseQuantizerE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions25useFloat16CoarseQuantizerE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::useFloat16CoarseQuantizer__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a85f3093908b6e9a503c24bb226b17b1b"></span>bool <code class="sig-name descname">useFloat16CoarseQuantizer</code><br /></dt>
<dd><p>is the coarse quantizer in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions10useFloat16E">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions10useFloat16E"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions10useFloat16E"></span><span id="faiss::gpu::GpuMultipleClonerOptions::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ac7cc57d6091d6a79ea6020bf8d1fbe27"></span>bool <code class="sig-name descname">useFloat16</code><br /></dt>
<dd><p>for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">GpuIndexIVFFlat</span></a>, is storage in float16? for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, are intermediate calculations in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions14usePrecomputedE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions14usePrecomputedE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions14usePrecomputedE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::usePrecomputed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc9c607f2dfc9f23942a523fb49c63fe"></span>bool <code class="sig-name descname">usePrecomputed</code><br /></dt>
<dd><p>use precomputed tables? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions11reserveVecsE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions11reserveVecsE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions11reserveVecsE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::reserveVecs__l"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ab60dd87e51af59373a48d73852573f04"></span>long <code class="sig-name descname">reserveVecs</code><br /></dt>
<dd><p>reserve vectors in the invfiles? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions15storeTransposedE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions15storeTransposedE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a5f2470ec5b2a8fe7aae0542f113b781d"></span>bool <code class="sig-name descname">storeTransposed</code><br /></dt>
<dd><p>For <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a>, store data in transposed layout? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24GpuMultipleClonerOptions7verboseE">
<span id="_CPPv3N5faiss3gpu24GpuMultipleClonerOptions7verboseE"></span><span id="_CPPv2N5faiss3gpu24GpuMultipleClonerOptions7verboseE"></span><span id="faiss::gpu::GpuMultipleClonerOptions::verbose__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc7d0451773e0f2f640338533abc1397"></span>bool <code class="sig-name descname">verbose</code><br /></dt>
<dd><p>Set verbose options on the index. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpaceE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpaceE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpaceE"></span><span id="faiss::gpu::GpuParameterSpace"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuParameterSpace"></span><em class="property">struct </em><code class="sig-name descname">GpuParameterSpace</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14ParameterSpaceE" title="faiss::ParameterSpace">ParameterSpace</a><br /></dt>
<dd><em>#include &lt;GpuAutoTune.h&gt;</em><p>parameter space and setters for GPU indexes </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace10initializeEPKN5faiss5IndexE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace10initializeEPKN5faiss5IndexE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace10initializeEPKN5faiss5IndexE"></span><span id="faiss::gpu::GpuParameterSpace::initialize__faiss::IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuParameterSpace_1ab2bf33a6f1579c3d42f656ded1df3398"></span>void <code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>initialize with reasonable parameters for the index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace19set_index_parameterEPN5faiss5IndexERKNSt6stringEd">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace19set_index_parameterEPN5faiss5IndexERKNSt6stringEd"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace19set_index_parameterEPN5faiss5IndexERKNSt6stringEd"></span><span id="faiss::gpu::GpuParameterSpace::set_index_parameter__faiss::IndexP.ssCR.doubleC"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuParameterSpace_1a1820826bb47a51ec9f000118be9c83b2"></span>void <code class="sig-name descname">set_index_parameter</code><span class="sig-paren">(</span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> std::string &amp;<em>name</em>, double <em>val</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>set a combination of parameters on an index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace14n_combinationsEv">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace14n_combinationsEv"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace14n_combinationsEv"></span><span id="faiss::gpu::GpuParameterSpace::n_combinationsC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a255b1e3bf93f8b0cbbe16eae66478acc"></span>size_t <code class="sig-name descname">n_combinations</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss3gpu17GpuParameterSpace14n_combinationsEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>nb of combinations, = product of values sizes </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace14combination_geE6size_t6size_t">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace14combination_geE6size_t6size_t"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace14combination_geE6size_t6size_t"></span><span id="faiss::gpu::GpuParameterSpace::combination_ge__s.sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1ab311c622327c18b42aa66e2b9bcd5a7f"></span>bool <code class="sig-name descname">combination_ge</code><span class="sig-paren">(</span>size_t <em>c1</em>, size_t <em>c2</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss3gpu17GpuParameterSpace14combination_geE6size_t6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>returns whether combinations c1 &gt;= c2 in the tuple sense </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace16combination_nameE6size_t">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace16combination_nameE6size_t"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace16combination_nameE6size_t"></span><span id="faiss::gpu::GpuParameterSpace::combination_name__sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1af5081b3739982c6be702e46df666fec4"></span>std::string <code class="sig-name descname">combination_name</code><span class="sig-paren">(</span>size_t <em>cno</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss3gpu17GpuParameterSpace16combination_nameE6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>get string representation of the combination </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace7displayEv">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace7displayEv"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace7displayEv"></span><span id="faiss::gpu::GpuParameterSpace::displayC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a066ae6501cf7b31b1b5bb1e34bb8d0dc"></span>void <code class="sig-name descname">display</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss3gpu17GpuParameterSpace7displayEv" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>print a description on stdout </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace9add_rangeERKNSt6stringE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace9add_rangeERKNSt6stringE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace9add_rangeERKNSt6stringE"></span><span id="faiss::gpu::GpuParameterSpace::add_range__ssCR"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a48fcb0d8a091c768dd59b4234c0733c1"></span><a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14ParameterRangeE" title="faiss::ParameterRange">ParameterRange</a> &amp;<code class="sig-name descname">add_range</code><span class="sig-paren">(</span><em class="property">const</em> std::string &amp;<em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuParameterSpace9add_rangeERKNSt6stringE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>add a new parameter (or return it if it exists) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5Index6size_t">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5Index6size_t"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5Index6size_t"></span><span id="faiss::gpu::GpuParameterSpace::set_index_parameters__IndexP.sC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a613036d9ce9b2d89856043782975a30a"></span>void <code class="sig-name descname">set_index_parameters</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, size_t <em>cno</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5Index6size_t" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set a combination of parameters on an index </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5IndexPKc">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5IndexPKc"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5IndexPKc"></span><span id="faiss::gpu::GpuParameterSpace::set_index_parameters__IndexP.cCPC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1acaf902b57394d802a32dcbdfa6bcd7b8"></span>void <code class="sig-name descname">set_index_parameters</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> char *<em>param_string</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss3gpu17GpuParameterSpace20set_index_parametersEP5IndexPKc" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>set a combination of parameters described by a string </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd"></span><span id="faiss::gpu::GpuParameterSpace::update_bounds__s.OperatingPointCR.doubleP.doublePC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a8b8ca45f0a520a7100b4ad9c7be1e079"></span>void <code class="sig-name descname">update_bounds</code><span class="sig-paren">(</span>size_t <em>cno</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14OperatingPointE" title="faiss::OperatingPoint">OperatingPoint</a> &amp;<em>op</em>, double *<em>upper_bound_perf</em>, double *<em>lower_bound_t</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss3gpu17GpuParameterSpace13update_boundsE6size_tRK14OperatingPointPdPd" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>find an upper bound on the performance and a lower bound on t for configuration cno given another operating point op </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17GpuParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints">
<span id="_CPPv3NK5faiss3gpu17GpuParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints"></span><span id="_CPPv2NK5faiss3gpu17GpuParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints"></span><span id="faiss::gpu::GpuParameterSpace::explore__IndexP.s.floatCP.AutoTuneCriterionCR.OperatingPointsPC"></span><span class="target" id="structfaiss_1_1ParameterSpace_1abf95f9ac04d0a2d1d4ac9e3b685bfcc3"></span>void <code class="sig-name descname">explore</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, size_t <em>nq</em>, <em class="property">const</em> float *<em>xq</em>, <em class="property">const</em> <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss17AutoTuneCriterionE" title="faiss::AutoTuneCriterion">AutoTuneCriterion</a> &amp;<em>crit</em>, <a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss15OperatingPointsE" title="faiss::OperatingPoints">OperatingPoints</a> *<em>ops</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK5faiss3gpu17GpuParameterSpace7exploreEP5Index6size_tPKfRK17AutoTuneCriterionP15OperatingPoints" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>explore operating points <dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">index</span></code>: index to run on </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xq</span></code>: query vectors (size nq * index.d) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">crit</span></code>: selection criterion </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ops</span></code>: resulting operating points </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace16parameter_rangesE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace16parameter_rangesE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace16parameter_rangesE"></span><span id="faiss::gpu::GpuParameterSpace::parameter_ranges__std::vector:ParameterRange:"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a334c1bb54bc2b70950a4a63950728cbb"></span>std::vector&lt;<a class="reference internal" href="../file/AutoTune_8h.html#_CPPv4N5faiss14ParameterRangeE" title="faiss::ParameterRange">ParameterRange</a>&gt; <code class="sig-name descname">parameter_ranges</code><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuParameterSpace16parameter_rangesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>all tunable parameters </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace7verboseE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace7verboseE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace7verboseE"></span><span id="faiss::gpu::GpuParameterSpace::verbose__i"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a7a9f2292c4e0ac3aad569434edea87b0"></span>int <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuParameterSpace7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>verbosity during exploration </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace13n_experimentsE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace13n_experimentsE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace13n_experimentsE"></span><span id="faiss::gpu::GpuParameterSpace::n_experiments__i"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a76aeae25b3269fb24a26194fbe013b86"></span>int <code class="sig-name descname">n_experiments</code><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuParameterSpace13n_experimentsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>nb of experiments during optimization (0 = try all combinations) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace9batchsizeE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace9batchsizeE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace9batchsizeE"></span><span id="faiss::gpu::GpuParameterSpace::batchsize__s"></span><span class="target" id="structfaiss_1_1ParameterSpace_1aee8fd44e15656ba80fe98de4c65ed767"></span>size_t <code class="sig-name descname">batchsize</code><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuParameterSpace9batchsizeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>maximum number of queries to submit at a time. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace19thread_over_batchesE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace19thread_over_batchesE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace19thread_over_batchesE"></span><span id="faiss::gpu::GpuParameterSpace::thread_over_batches__b"></span><span class="target" id="structfaiss_1_1ParameterSpace_1af6dc3b9c5631b509cbae99bf0f24170b"></span>bool <code class="sig-name descname">thread_over_batches</code><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuParameterSpace19thread_over_batchesE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>use multithreading over batches (useful to benchmark independent single-searches) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17GpuParameterSpace17min_test_durationE">
<span id="_CPPv3N5faiss3gpu17GpuParameterSpace17min_test_durationE"></span><span id="_CPPv2N5faiss3gpu17GpuParameterSpace17min_test_durationE"></span><span id="faiss::gpu::GpuParameterSpace::min_test_duration__double"></span><span class="target" id="structfaiss_1_1ParameterSpace_1a50d9d784d69d9812c12dc9b2baf9351d"></span>double <code class="sig-name descname">min_test_duration</code><a class="headerlink" href="#_CPPv4N5faiss3gpu17GpuParameterSpace17min_test_durationE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>run tests several times until they reach at least this duration (to avoid jittering in MT mode) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu12GpuResourcesE">
<span id="_CPPv3N5faiss3gpu12GpuResourcesE"></span><span id="_CPPv2N5faiss3gpu12GpuResourcesE"></span><span id="faiss::gpu::GpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources"></span><em class="property">class </em><code class="sig-name descname">GpuResources</code><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>Base class of GPU-side resource provider; hides provision of cuBLAS handles, CUDA streams and all device memory allocation performed </p>
<p>Subclassed by <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1StandardGpuResourcesImpl"><span class="std std-ref">faiss::gpu::StandardGpuResourcesImpl</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResourcesD0Ev">
<span id="_CPPv3N5faiss3gpu12GpuResourcesD0Ev"></span><span id="_CPPv2N5faiss3gpu12GpuResourcesD0Ev"></span><span id="faiss::gpu::GpuResources::~GpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a979a487daf95fc077321e4cd8020278c"></span><code class="sig-name descname">~GpuResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources19initializeForDeviceEi">
<span id="_CPPv3N5faiss3gpu12GpuResources19initializeForDeviceEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources19initializeForDeviceEi"></span><span id="faiss::gpu::GpuResources::initializeForDevice__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a1f7f4e220ce279257e1daf929c3b0d4e"></span>void <code class="sig-name descname">initializeForDevice</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Call to pre-allocate resources for a particular device. If this is not called, then resources will be allocated at the first time of demand </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources13getBlasHandleEi">
<span id="_CPPv3N5faiss3gpu12GpuResources13getBlasHandleEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources13getBlasHandleEi"></span><span id="faiss::gpu::GpuResources::getBlasHandle__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aa2682b8503dfdab4f7f5ef867035ad29"></span>cublasHandle_t <code class="sig-name descname">getBlasHandle</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the cuBLAS handle that we use for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources16getDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu12GpuResources16getDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources16getDefaultStreamEi"></span><span id="faiss::gpu::GpuResources::getDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a6c564198df6ba675920c993e2af34b8c"></span>cudaStream_t <code class="sig-name descname">getDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the stream that we order all computation on for the given device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources16setDefaultStreamEi12cudaStream_t">
<span id="_CPPv3N5faiss3gpu12GpuResources16setDefaultStreamEi12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu12GpuResources16setDefaultStreamEi12cudaStream_t"></span><span id="faiss::gpu::GpuResources::setDefaultStream__i.cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1ac7a6bad94585904e17907844736165ec"></span>void <code class="sig-name descname">setDefaultStream</code><span class="sig-paren">(</span>int <em>device</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Overrides the default stream for a device to the user-supplied stream. The resources object does not own this stream (i.e., it will not destroy it). </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources19getAlternateStreamsEi">
<span id="_CPPv3N5faiss3gpu12GpuResources19getAlternateStreamsEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources19getAlternateStreamsEi"></span><span id="faiss::gpu::GpuResources::getAlternateStreams__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1afb469bf3b107f43ef0d6abe4a014bb5b"></span>std::vector&lt;cudaStream_t&gt; <code class="sig-name descname">getAlternateStreams</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the set of alternative streams that we use for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources11allocMemoryERK12AllocRequest">
<span id="_CPPv3N5faiss3gpu12GpuResources11allocMemoryERK12AllocRequest"></span><span id="_CPPv2N5faiss3gpu12GpuResources11allocMemoryERK12AllocRequest"></span><span id="faiss::gpu::GpuResources::allocMemory__AllocRequestCR"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a4f29fea84dc03a44931d2e985ee39d82"></span>void *<code class="sig-name descname">allocMemory</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a> &amp;<em>req</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Memory management Returns an allocation from the given memory space, ordered with respect to the given stream (i.e., the first user will be a kernel in this stream). All allocations are sized internally to be the next highest multiple of 16 bytes, and all allocations returned are guaranteed to be 16 byte aligned. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources13deallocMemoryEiPv">
<span id="_CPPv3N5faiss3gpu12GpuResources13deallocMemoryEiPv"></span><span id="_CPPv2N5faiss3gpu12GpuResources13deallocMemoryEiPv"></span><span id="faiss::gpu::GpuResources::deallocMemory__i.voidP"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a0f444157f93f8c99cf1ce12591818d3d"></span>void <code class="sig-name descname">deallocMemory</code><span class="sig-paren">(</span>int <em>device</em>, void *<em>in</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns a previous allocation. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuResources22getTempMemoryAvailableEi">
<span id="_CPPv3NK5faiss3gpu12GpuResources22getTempMemoryAvailableEi"></span><span id="_CPPv2NK5faiss3gpu12GpuResources22getTempMemoryAvailableEi"></span><span id="faiss::gpu::GpuResources::getTempMemoryAvailable__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1abfad190786252900370003ed02b3f411"></span>size_t <code class="sig-name descname">getTempMemoryAvailable</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">const</em> = 0<br /></dt>
<dd><p>For MemorySpace::Temporary, how much space is immediately available without cudaMalloc allocation? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources15getPinnedMemoryEv">
<span id="_CPPv3N5faiss3gpu12GpuResources15getPinnedMemoryEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources15getPinnedMemoryEv"></span><span id="faiss::gpu::GpuResources::getPinnedMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1ad1b018745239e03d0044b659335c17a8"></span>std::pair&lt;void*, size_t&gt; <code class="sig-name descname">getPinnedMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the available CPU pinned memory buffer. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources18getAsyncCopyStreamEi">
<span id="_CPPv3N5faiss3gpu12GpuResources18getAsyncCopyStreamEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources18getAsyncCopyStreamEi"></span><span id="faiss::gpu::GpuResources::getAsyncCopyStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a104b291ed4116033752144e90856c2e7"></span>cudaStream_t <code class="sig-name descname">getAsyncCopyStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the stream on which we perform async CPU &lt;-&gt; GPU copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources26getBlasHandleCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources26getBlasHandleCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources26getBlasHandleCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getBlasHandleCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a00cb7bcbc5f1a00da673f30749149b12"></span>cublasHandle_t <code class="sig-name descname">getBlasHandleCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getBlasHandle with the current device. </p>
<p>Functions provided by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources29getDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources29getDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources29getDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aa0354aa570c24e17a9f8a6a45b153ed2"></span>cudaStream_t <code class="sig-name descname">getDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getDefaultStream with the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu12GpuResources35getTempMemoryAvailableCurrentDeviceEv">
<span id="_CPPv3NK5faiss3gpu12GpuResources35getTempMemoryAvailableCurrentDeviceEv"></span><span id="_CPPv2NK5faiss3gpu12GpuResources35getTempMemoryAvailableCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getTempMemoryAvailableCurrentDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aeb57bc66a9823aaf140324e22985a71d"></span>size_t <code class="sig-name descname">getTempMemoryAvailableCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Calls getTempMemoryAvailable with the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources17allocMemoryHandleERK12AllocRequest">
<span id="_CPPv3N5faiss3gpu12GpuResources17allocMemoryHandleERK12AllocRequest"></span><span id="_CPPv2N5faiss3gpu12GpuResources17allocMemoryHandleERK12AllocRequest"></span><span id="faiss::gpu::GpuResources::allocMemoryHandle__AllocRequestCR"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1af0949f87d4f522b7ee5be17ad760b266"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservationE" title="faiss::gpu::GpuMemoryReservation">GpuMemoryReservation</a> <code class="sig-name descname">allocMemoryHandle</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a> &amp;<em>req</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a temporary memory allocation via a RAII object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources17syncDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu12GpuResources17syncDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu12GpuResources17syncDefaultStreamEi"></span><span id="faiss::gpu::GpuResources::syncDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a130deab9f6d49cbdde8f9da45ce868fd"></span>void <code class="sig-name descname">syncDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronizes the CPU with respect to the default stream for the given device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources30syncDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources30syncDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources30syncDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::syncDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1adf6a5653ec2bbb0e9d58a0e1dd73897f"></span>void <code class="sig-name descname">syncDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls syncDefaultStream for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources32getAlternateStreamsCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources32getAlternateStreamsCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources32getAlternateStreamsCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getAlternateStreamsCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a2104e59caebc31d9f98729281b616acc"></span>std::vector&lt;cudaStream_t&gt; <code class="sig-name descname">getAlternateStreamsCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getAlternateStreams for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12GpuResources31getAsyncCopyStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu12GpuResources31getAsyncCopyStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu12GpuResources31getAsyncCopyStreamCurrentDeviceEv"></span><span id="faiss::gpu::GpuResources::getAsyncCopyStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aefb90d15fade57cdfcff03ec800183d4"></span>cudaStream_t <code class="sig-name descname">getAsyncCopyStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getAsyncCopyStream for the current device. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu20GpuResourcesProviderE">
<span id="_CPPv3N5faiss3gpu20GpuResourcesProviderE"></span><span id="_CPPv2N5faiss3gpu20GpuResourcesProviderE"></span><span id="faiss::gpu::GpuResourcesProvider"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResourcesProvider"></span><em class="property">class </em><code class="sig-name descname">GpuResourcesProvider</code><br /></dt>
<dd><em>#include &lt;GpuResources.h&gt;</em><p>Interface for a provider of a shared resources object. </p>
<p>Subclassed by <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1StandardGpuResources"><span class="std std-ref">faiss::gpu::StandardGpuResources</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuResourcesProviderD0Ev">
<span id="_CPPv3N5faiss3gpu20GpuResourcesProviderD0Ev"></span><span id="_CPPv2N5faiss3gpu20GpuResourcesProviderD0Ev"></span><span id="faiss::gpu::GpuResourcesProvider::~GpuResourcesProvider"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResourcesProvider_1a9de5bf47e6a9754f19e43b30dd61bfca"></span><code class="sig-name descname">~GpuResourcesProvider</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20GpuResourcesProvider12getResourcesEv">
<span id="_CPPv3N5faiss3gpu20GpuResourcesProvider12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu20GpuResourcesProvider12getResourcesEv"></span><span id="faiss::gpu::GpuResourcesProvider::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResourcesProvider_1a0b727386cf462ab0392ee1ccca8135b3"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span> = 0<br /></dt>
<dd><p>Returns the shared resources object. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4I0EN5faiss3gpu12IndexWrapperE">
<span id="_CPPv3I0EN5faiss3gpu12IndexWrapperE"></span><span id="_CPPv2I0EN5faiss3gpu12IndexWrapperE"></span>template&lt;typename <code class="sig-name descname">GpuIndex</code>&gt;<br /><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper"></span><em class="property">struct </em><code class="sig-name descname">IndexWrapper</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper12IndexWrapperEiNSt8functionIFNSt10unique_ptrI8GpuIndexEEP20GpuResourcesProvideriEEE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper12IndexWrapperEiNSt8functionIFNSt10unique_ptrI8GpuIndexEEP20GpuResourcesProvideriEEE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper12IndexWrapperEiNSt8functionIFNSt10unique_ptrI8GpuIndexEEP20GpuResourcesProvideriEEE"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a6b9484717293c385b79b8408e525fda5"></span><code class="sig-name descname">IndexWrapper</code><span class="sig-paren">(</span>int <em>numGpus</em>, std::function&lt;std::unique_ptr&lt;<a class="reference internal" href="../file/IndexWrapper_8h.html#_CPPv4I0EN5faiss3gpu12IndexWrapperE" title="faiss::gpu::IndexWrapper::GpuIndex">GpuIndex</a>&gt;<span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a>*, int<span class="sig-paren">)</span>&gt; <em>init</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper8getIndexEv">
<span id="_CPPv3N5faiss3gpu12IndexWrapper8getIndexEv"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper8getIndexEv"></span><span id="faiss::gpu::IndexWrapper::getIndex"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a4abae0ec686d3e382ba7562ee97e17cc"></span><a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">getIndex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper12runOnIndicesENSt8functionIFvP8GpuIndexEEE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper12runOnIndicesENSt8functionIFvP8GpuIndexEEE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper12runOnIndicesENSt8functionIFvP8GpuIndexEEE"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a533e41b6d13eaeefb960fa48aba50430"></span>void <code class="sig-name descname">runOnIndices</code><span class="sig-paren">(</span>std::function&lt;void<span class="sig-paren">(</span><a class="reference internal" href="../file/IndexWrapper_8h.html#_CPPv4I0EN5faiss3gpu12IndexWrapperE" title="faiss::gpu::IndexWrapper::GpuIndex">GpuIndex</a>*<span class="sig-paren">)</span>&gt; <em>f</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper12setNumProbesEi">
<span id="_CPPv3N5faiss3gpu12IndexWrapper12setNumProbesEi"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper12setNumProbesEi"></span><span id="faiss::gpu::IndexWrapper::setNumProbes__i"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a98d34a44e898d9e6c35de0da8f4eff8e"></span>void <code class="sig-name descname">setNumProbes</code><span class="sig-paren">(</span>int <em>nprobe</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper9resourcesE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper9resourcesE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper9resourcesE"></span><span id="faiss::gpu::IndexWrapper::resources__std::vector:std::unique_ptr:faiss::gpu::StandardGpuResources::"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a9a617b326139ba9e1082f6052a8963f6"></span>std::vector&lt;std::unique_ptr&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StandardGpuResources.html#_CPPv4N5faiss3gpu20StandardGpuResourcesE" title="faiss::gpu::StandardGpuResources">StandardGpuResources</a>&gt;&gt; <code class="sig-name descname">resources</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper8subIndexE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper8subIndexE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper8subIndexE"></span><span id="faiss::gpu::IndexWrapper::subIndex__std::vector:std::unique_ptr:GpuIndex::"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1a166f30f9ea4d8d6b9a5dacc5c37e8871"></span>std::vector&lt;std::unique_ptr&lt;<a class="reference internal" href="../file/IndexWrapper_8h.html#_CPPv4I0EN5faiss3gpu12IndexWrapperE" title="faiss::gpu::IndexWrapper::GpuIndex">GpuIndex</a>&gt;&gt; <code class="sig-name descname">subIndex</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu12IndexWrapper12replicaIndexE">
<span id="_CPPv3N5faiss3gpu12IndexWrapper12replicaIndexE"></span><span id="_CPPv2N5faiss3gpu12IndexWrapper12replicaIndexE"></span><span id="faiss::gpu::IndexWrapper::replicaIndex__std::unique_ptr:faiss::IndexReplicas:"></span><span class="target" id="structfaiss_1_1gpu_1_1IndexWrapper_1af265d777bf70e674192125f090718750"></span>std::unique_ptr&lt;<a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/IndexReplicas_8h.html#_CPPv4N5faiss13IndexReplicasE" title="faiss::IndexReplicas">IndexReplicas</a>&gt; <code class="sig-name descname">replicaIndex</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu11KernelTimerE">
<span id="_CPPv3N5faiss3gpu11KernelTimerE"></span><span id="_CPPv2N5faiss3gpu11KernelTimerE"></span><span id="faiss::gpu::KernelTimer"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer"></span><em class="property">class </em><code class="sig-name descname">KernelTimer</code><br /></dt>
<dd><em>#include &lt;Timer.h&gt;</em><p>Utility class for timing execution of a kernel. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11KernelTimer11KernelTimerE12cudaStream_t">
<span id="_CPPv3N5faiss3gpu11KernelTimer11KernelTimerE12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu11KernelTimer11KernelTimerE12cudaStream_t"></span><span id="faiss::gpu::KernelTimer::KernelTimer__cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1af533a5a8734243263032960c2445d233"></span><code class="sig-name descname">KernelTimer</code><span class="sig-paren">(</span>cudaStream_t <em>stream</em> = 0<span class="sig-paren">)</span><br /></dt>
<dd><p>Constructor starts the timer and adds an event into the current device stream </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11KernelTimerD0Ev">
<span id="_CPPv3N5faiss3gpu11KernelTimerD0Ev"></span><span id="_CPPv2N5faiss3gpu11KernelTimerD0Ev"></span><span id="faiss::gpu::KernelTimer::~KernelTimer"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1af9883350bf0732b2452f1ce4670266fa"></span><code class="sig-name descname">~KernelTimer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Destructor releases event resources. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11KernelTimer19elapsedMillisecondsEv">
<span id="_CPPv3N5faiss3gpu11KernelTimer19elapsedMillisecondsEv"></span><span id="_CPPv2N5faiss3gpu11KernelTimer19elapsedMillisecondsEv"></span><span id="faiss::gpu::KernelTimer::elapsedMilliseconds"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1ac79ab2b2ef60a3fb713f7c80380ad2b5"></span>float <code class="sig-name descname">elapsedMilliseconds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Adds a stop event then synchronizes on the stop event to get the actual GPU-side kernel timings for any kernels launched in the current stream. Returns the number of milliseconds elapsed. Can only be called once. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11KernelTimer11startEvent_E">
<span id="_CPPv3N5faiss3gpu11KernelTimer11startEvent_E"></span><span id="_CPPv2N5faiss3gpu11KernelTimer11startEvent_E"></span><span id="faiss::gpu::KernelTimer::startEvent___cudaEvent_t"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1ae02d1204dcac4dc5cff5be785312a7b4"></span>cudaEvent_t <code class="sig-name descname">startEvent_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11KernelTimer10stopEvent_E">
<span id="_CPPv3N5faiss3gpu11KernelTimer10stopEvent_E"></span><span id="_CPPv2N5faiss3gpu11KernelTimer10stopEvent_E"></span><span id="faiss::gpu::KernelTimer::stopEvent___cudaEvent_t"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1a53028f1e94f1f092208a6df69893b73f"></span>cudaEvent_t <code class="sig-name descname">stopEvent_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11KernelTimer7stream_E">
<span id="_CPPv3N5faiss3gpu11KernelTimer7stream_E"></span><span id="_CPPv2N5faiss3gpu11KernelTimer7stream_E"></span><span id="faiss::gpu::KernelTimer::stream___cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1aac90fea6973d68d2b12149d5fb928da8"></span>cudaStream_t <code class="sig-name descname">stream_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11KernelTimer6valid_E">
<span id="_CPPv3N5faiss3gpu11KernelTimer6valid_E"></span><span id="_CPPv2N5faiss3gpu11KernelTimer6valid_E"></span><span id="faiss::gpu::KernelTimer::valid___b"></span><span class="target" id="classfaiss_1_1gpu_1_1KernelTimer_1a7582d3003da51096c5740c8773d9c3ec"></span>bool <code class="sig-name descname">valid_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemoryE">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemoryE"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemoryE"></span><span id="faiss::gpu::StackDeviceMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory"></span><em class="property">class </em><code class="sig-name descname">StackDeviceMemory</code><br /></dt>
<dd><em>#include &lt;StackDeviceMemory.h&gt;</em><p>Device memory manager that provides temporary memory allocations out of a region of memory, for a single device </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEP12GpuResourcesi6size_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEP12GpuResourcesi6size_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEP12GpuResourcesi6size_t"></span><span id="faiss::gpu::StackDeviceMemory::StackDeviceMemory__GpuResourcesP.i.s"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a0b23b6f143696a118db874ea55dcf7bd"></span><code class="sig-name descname">StackDeviceMemory</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<em>res</em>, int <em>device</em>, size_t <em>allocPerDevice</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Allocate a new region of memory that we manage. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEiPv6size_tb">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEiPv6size_tb"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory17StackDeviceMemoryEiPv6size_tb"></span><span id="faiss::gpu::StackDeviceMemory::StackDeviceMemory__i.voidP.s.b"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1afd7a84b8cd1f747d873cdd1ab07e8a4b"></span><code class="sig-name descname">StackDeviceMemory</code><span class="sig-paren">(</span>int <em>device</em>, void *<em>p</em>, size_t <em>size</em>, bool <em>isOwner</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Manage a region of memory for a particular device, with or without ownership </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemoryD0Ev">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemoryD0Ev"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemoryD0Ev"></span><span id="faiss::gpu::StackDeviceMemory::~StackDeviceMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1ab9c08b79317d9d2dae9208b41dba7826"></span><code class="sig-name descname">~StackDeviceMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory9getDeviceEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory9getDeviceEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory9getDeviceEv"></span><span id="faiss::gpu::StackDeviceMemory::getDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1ab4d6a319417fb80e56cce4d28124ea89"></span>int <code class="sig-name descname">getDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory11allocMemoryE12cudaStream_t6size_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory11allocMemoryE12cudaStream_t6size_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory11allocMemoryE12cudaStream_t6size_t"></span><span id="faiss::gpu::StackDeviceMemory::allocMemory__cudaStream_t.s"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a24c4533f998df2a186ab6588257dd5fa"></span>void *<code class="sig-name descname">allocMemory</code><span class="sig-paren">(</span>cudaStream_t <em>stream</em>, size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>All allocations requested should be a multiple of 16 bytes. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory13deallocMemoryEi12cudaStream_t6size_tPv">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory13deallocMemoryEi12cudaStream_t6size_tPv"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory13deallocMemoryEi12cudaStream_t6size_tPv"></span><span id="faiss::gpu::StackDeviceMemory::deallocMemory__i.cudaStream_t.s.voidP"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a59d4cd8b4ef1b4968c5954c2c778d83f"></span>void <code class="sig-name descname">deallocMemory</code><span class="sig-paren">(</span>int <em>device</em>, cudaStream_t, size_t <em>size</em>, void *<em>p</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory16getSizeAvailableEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory16getSizeAvailableEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory16getSizeAvailableEv"></span><span id="faiss::gpu::StackDeviceMemory::getSizeAvailableC"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a58431176d97b990ab8144bb30d7c2bd5"></span>size_t <code class="sig-name descname">getSizeAvailable</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory8toStringEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory8toStringEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory8toStringEv"></span><span id="faiss::gpu::StackDeviceMemory::toStringC"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1adc327179a0f60e889bad08dfb0ad5b0d"></span>std::string <code class="sig-name descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Attributes</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory7device_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory7device_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory7device_E"></span><span id="faiss::gpu::StackDeviceMemory::device___i"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1ac54f49a3be6b7fe4f1fc70094075d875"></span>int <code class="sig-name descname">device_</code><br /></dt>
<dd><p>Our device. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory6stack_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory6stack_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory6stack_E"></span><span id="faiss::gpu::StackDeviceMemory::stack___Stack"></span><span class="target" id="classfaiss_1_1gpu_1_1StackDeviceMemory_1a323a632f397eaf3df3034595762c6a29"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StackDeviceMemory.html#_CPPv4N5faiss3gpu17StackDeviceMemory5StackE" title="faiss::gpu::StackDeviceMemory::Stack">Stack</a> <code class="sig-name descname">stack_</code><br /></dt>
<dd><p>Memory stack. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5RangeE">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5RangeE"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5RangeE"></span><span id="faiss::gpu::StackDeviceMemory::Range"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range"></span><em class="property">struct </em><code class="sig-name descname">Range</code><br /></dt>
<dd><em>#include &lt;StackDeviceMemory.h&gt;</em><p>Previous allocation ranges and the streams for which synchronization is required </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Range5RangeEPcPc12cudaStream_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Range5RangeEPcPc12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Range5RangeEPcPc12cudaStream_t"></span><span id="faiss::gpu::StackDeviceMemory::Range::Range__cP.cP.cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range_1a02f1fe4dc4d707011090e3e925e9d9ef"></span><code class="sig-name descname">Range</code><span class="sig-paren">(</span>char *<em>s</em>, char *<em>e</em>, cudaStream_t <em>str</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Range6start_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Range6start_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Range6start_E"></span><span id="faiss::gpu::StackDeviceMemory::Range::start___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range_1a421e4893035861050a391d0088df815a"></span>char *<code class="sig-name descname">start_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Range4end_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Range4end_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Range4end_E"></span><span id="faiss::gpu::StackDeviceMemory::Range::end___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range_1ab822fde6b35d02fa17b291db81e72c1f"></span>char *<code class="sig-name descname">end_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Range7stream_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Range7stream_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Range7stream_E"></span><span id="faiss::gpu::StackDeviceMemory::Range::stream___cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Range_1acca587483d1cb6776c200b11f518a34c"></span>cudaStream_t <code class="sig-name descname">stream_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5StackE">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5StackE"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5StackE"></span><span id="faiss::gpu::StackDeviceMemory::Stack"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack"></span><em class="property">struct </em><code class="sig-name descname">Stack</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack5StackEP12GpuResourcesi6size_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack5StackEP12GpuResourcesi6size_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack5StackEP12GpuResourcesi6size_t"></span><span id="faiss::gpu::StackDeviceMemory::Stack::Stack__GpuResourcesP.i.s"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1ab6afe6dad139fe3759c2835e31475e93"></span><code class="sig-name descname">Stack</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<em>res</em>, int <em>device</em>, size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Constructor that allocates memory via cudaMalloc. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5StackD0Ev">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5StackD0Ev"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5StackD0Ev"></span><span id="faiss::gpu::StackDeviceMemory::Stack::~Stack"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a79be10f299ef6152040bff6c0cdd51ca"></span><code class="sig-name descname">~Stack</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory5Stack16getSizeAvailableEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory5Stack16getSizeAvailableEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory5Stack16getSizeAvailableEv"></span><span id="faiss::gpu::StackDeviceMemory::Stack::getSizeAvailableC"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a897d537bc1505843de36e104c1c9163c"></span>size_t <code class="sig-name descname">getSizeAvailable</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns how much size is available for an allocation without calling cudaMalloc </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack8getAllocE6size_t12cudaStream_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack8getAllocE6size_t12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack8getAllocE6size_t12cudaStream_t"></span><span id="faiss::gpu::StackDeviceMemory::Stack::getAlloc__s.cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a2ff2675de5f5dbfc50d8ca8400845396"></span>char *<code class="sig-name descname">getAlloc</code><span class="sig-paren">(</span>size_t <em>size</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Obtains an allocation; all allocations are guaranteed to be 16 byte aligned </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack11returnAllocEPc6size_t12cudaStream_t">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack11returnAllocEPc6size_t12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack11returnAllocEPc6size_t12cudaStream_t"></span><span id="faiss::gpu::StackDeviceMemory::Stack::returnAlloc__cP.s.cudaStream_t"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a5c652c126c2bf37149995cdb9d46a382"></span>void <code class="sig-name descname">returnAlloc</code><span class="sig-paren">(</span>char *<em>p</em>, size_t <em>size</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns an allocation. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu17StackDeviceMemory5Stack8toStringEv">
<span id="_CPPv3NK5faiss3gpu17StackDeviceMemory5Stack8toStringEv"></span><span id="_CPPv2NK5faiss3gpu17StackDeviceMemory5Stack8toStringEv"></span><span id="faiss::gpu::StackDeviceMemory::Stack::toStringC"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a85a65314a9a97a91d36bf1398f07f17d"></span>std::string <code class="sig-name descname">toString</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the stack state. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack4res_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack4res_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack4res_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::res___GpuResourcesP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a9b05d832e1643160a35bc02066a2c7b1"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a> *<code class="sig-name descname">res_</code><br /></dt>
<dd><p>Our <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack7device_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack7device_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack7device_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::device___i"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a0950e30ddd0008367a0fb109db9c01b9"></span>int <code class="sig-name descname">device_</code><br /></dt>
<dd><p>Device this allocation is on. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack6alloc_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack6alloc_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack6alloc_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::alloc___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1ad856213491fe150e623daf1732da6909"></span>char *<code class="sig-name descname">alloc_</code><br /></dt>
<dd><p>Where our temporary memory buffer is allocated; we allocate starting 16 bytes into this </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack10allocSize_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack10allocSize_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack10allocSize_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::allocSize___s"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1ae85e9575618031342319550a9994b24c"></span>size_t <code class="sig-name descname">allocSize_</code><br /></dt>
<dd><p>Total size of our allocation. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack6start_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack6start_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack6start_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::start___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1aed64654e7d498114fdd48a6f1cdb1aa2"></span>char *<code class="sig-name descname">start_</code><br /></dt>
<dd><p>Our temporary memory region; [start_, end_) is valid. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack4end_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack4end_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack4end_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::end___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a1db5eeb343fc59b9dc3f0303558c692b"></span>char *<code class="sig-name descname">end_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack5head_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack5head_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack5head_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::head___cP"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a140d3dc4577883704708ecca493813ff"></span>char *<code class="sig-name descname">head_</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack.html#structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack"><span class="std std-ref">Stack</span></a> head within [start, end) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack10lastUsers_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack10lastUsers_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack10lastUsers_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::lastUsers___std::list:Range:"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1a9fc42fbbe671faee41ea85a68bdb6b1e"></span>std::list&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StackDeviceMemory.html#_CPPv4N5faiss3gpu17StackDeviceMemory5RangeE" title="faiss::gpu::StackDeviceMemory::Range">Range</a>&gt; <code class="sig-name descname">lastUsers_</code><br /></dt>
<dd><p>List of previous last users of allocations on our stack, for possible synchronization purposes </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu17StackDeviceMemory5Stack20highWaterMemoryUsed_E">
<span id="_CPPv3N5faiss3gpu17StackDeviceMemory5Stack20highWaterMemoryUsed_E"></span><span id="_CPPv2N5faiss3gpu17StackDeviceMemory5Stack20highWaterMemoryUsed_E"></span><span id="faiss::gpu::StackDeviceMemory::Stack::highWaterMemoryUsed___s"></span><span class="target" id="structfaiss_1_1gpu_1_1StackDeviceMemory_1_1Stack_1aa05c1f4a5280fe723c9888937182df75"></span>size_t <code class="sig-name descname">highWaterMemoryUsed_</code><br /></dt>
<dd><p>Whatâs the high water mark in terms of memory used from the temporary buffer? </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResourcesE">
<span id="_CPPv3N5faiss3gpu20StandardGpuResourcesE"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResourcesE"></span><span id="faiss::gpu::StandardGpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources"></span><em class="property">class </em><code class="sig-name descname">StandardGpuResources</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a><br /></dt>
<dd><em>#include &lt;StandardGpuResources.h&gt;</em><p>Default implementation of <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> that allocates a cuBLAS stream and 2 streams for use, as well as temporary memory. Internally, the Faiss GPU code uses the instance managed by getResources, but this is the user-facing object that is internally reference counted. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources20StandardGpuResourcesEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources20StandardGpuResourcesEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources20StandardGpuResourcesEv"></span><span id="faiss::gpu::StandardGpuResources::StandardGpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1ad1ef27033798e5250230a339099e07db"></span><code class="sig-name descname">StandardGpuResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResourcesD0Ev">
<span id="_CPPv3N5faiss3gpu20StandardGpuResourcesD0Ev"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResourcesD0Ev"></span><span id="faiss::gpu::StandardGpuResources::~StandardGpuResources"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1ae26840fd6490cfaf7311f2eed81def34"></span><code class="sig-name descname">~StandardGpuResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources12getResourcesEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources12getResourcesEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources12getResourcesEv"></span><span id="faiss::gpu::StandardGpuResources::getResources"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1aed88267bce1b6657a06d160f0e62ffc4"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a>&gt; <code class="sig-name descname">getResources</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the shared resources object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources12noTempMemoryEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources12noTempMemoryEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources12noTempMemoryEv"></span><span id="faiss::gpu::StandardGpuResources::noTempMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a6431477a7328ac147797b3b4e3fcf651"></span>void <code class="sig-name descname">noTempMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Disable allocation of temporary memory; all temporary memory requests will call cudaMalloc / cudaFree at the point of use </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources13setTempMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources13setTempMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources13setTempMemoryE6size_t"></span><span id="faiss::gpu::StandardGpuResources::setTempMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a367102e65b16bfdc7a32770a4f5854a6"></span>void <code class="sig-name descname">setTempMemory</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Specify that we wish to use a certain fixed size of memory on all devices as temporary memory. This is the upper bound for the GPU memory that we will reserve. We will never go above 1.5 GiB on any GPU; smaller GPUs (with &lt;= 4 GiB or &lt;= 8 GiB) will use less memory than that. To avoid any temporary memory allocation, pass 0. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources15setPinnedMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources15setPinnedMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources15setPinnedMemoryE6size_t"></span><span id="faiss::gpu::StandardGpuResources::setPinnedMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1af9acb23ac323f85fa5dab4ed968ccd51"></span>void <code class="sig-name descname">setPinnedMemory</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set amount of pinned memory to allocate, for async GPU &lt;-&gt; CPU transfers </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources16setDefaultStreamEi12cudaStream_t">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources16setDefaultStreamEi12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources16setDefaultStreamEi12cudaStream_t"></span><span id="faiss::gpu::StandardGpuResources::setDefaultStream__i.cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a5924b424c36dba8300866f1b98c438cb"></span>void <code class="sig-name descname">setDefaultStream</code><span class="sig-paren">(</span>int <em>device</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Called to change the stream for work ordering. We do not own <code class="docutils literal notranslate"><span class="pre">stream</span></code>; i.e., it will not be destroyed when the <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object gets cleaned up. We are guaranteed that all Faiss GPU work is ordered with respect to this stream upon exit from an index or other Faiss GPU call. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources19revertDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources19revertDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources19revertDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResources::revertDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1abf351c4a72d7ab72070b24f82764da58"></span>void <code class="sig-name descname">revertDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Revert the default stream to the original stream managed by this resources object, in case someone called <code class="docutils literal notranslate"><span class="pre">setDefaultStream</span></code>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources30setDefaultNullStreamAllDevicesEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources30setDefaultNullStreamAllDevicesEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources30setDefaultNullStreamAllDevicesEv"></span><span id="faiss::gpu::StandardGpuResources::setDefaultNullStreamAllDevices"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a5374f336f1957c266d7a5c185eb962a1"></span>void <code class="sig-name descname">setDefaultNullStreamAllDevices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Called to change the work ordering streams to the null stream for all devices </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu20StandardGpuResources13getMemoryInfoEv">
<span id="_CPPv3NK5faiss3gpu20StandardGpuResources13getMemoryInfoEv"></span><span id="_CPPv2NK5faiss3gpu20StandardGpuResources13getMemoryInfoEv"></span><span id="faiss::gpu::StandardGpuResources::getMemoryInfoC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a9e0e2c7d7e9254c73546dc87d24ccbcf"></span>std::map&lt;int, std::map&lt;std::string, std::pair&lt;int, size_t&gt;&gt;&gt; <code class="sig-name descname">getMemoryInfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Export a description of memory used for Python. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources16getDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources16getDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources16getDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResources::getDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a2d0caade01eb384bc82c2e8759a129a1"></span>cudaStream_t <code class="sig-name descname">getDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the current default stream. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu20StandardGpuResources22getTempMemoryAvailableEi">
<span id="_CPPv3NK5faiss3gpu20StandardGpuResources22getTempMemoryAvailableEi"></span><span id="_CPPv2NK5faiss3gpu20StandardGpuResources22getTempMemoryAvailableEi"></span><span id="faiss::gpu::StandardGpuResources::getTempMemoryAvailable__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a318f3c0aa6085f430c71f64496f42496"></span>size_t <code class="sig-name descname">getTempMemoryAvailable</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Returns the current amount of temp memory available. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources30syncDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources30syncDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources30syncDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResources::syncDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1aba33a979707f40913035bbbfcc9b2a14"></span>void <code class="sig-name descname">syncDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronize our default stream with the CPU. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources23setLogMemoryAllocationsEb">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources23setLogMemoryAllocationsEb"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources23setLogMemoryAllocationsEb"></span><span id="faiss::gpu::StandardGpuResources::setLogMemoryAllocations__b"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a26de76d448f071aa46555b77155a516d"></span>void <code class="sig-name descname">setLogMemoryAllocations</code><span class="sig-paren">(</span>bool <em>enable</em><span class="sig-paren">)</span><br /></dt>
<dd><p>If enabled, will print every GPU memory allocation and deallocation to standard output </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu20StandardGpuResources4res_E">
<span id="_CPPv3N5faiss3gpu20StandardGpuResources4res_E"></span><span id="_CPPv2N5faiss3gpu20StandardGpuResources4res_E"></span><span id="faiss::gpu::StandardGpuResources::res___std::shared_ptr:StandardGpuResourcesImpl:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResources_1a14134d33f2201b905babac6252ac1019"></span>std::shared_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StandardGpuResourcesImpl.html#_CPPv4N5faiss3gpu24StandardGpuResourcesImplE" title="faiss::gpu::StandardGpuResourcesImpl">StandardGpuResourcesImpl</a>&gt; <code class="sig-name descname">res_</code><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImplE">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImplE"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImplE"></span><span id="faiss::gpu::StandardGpuResourcesImpl"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl"></span><em class="property">class </em><code class="sig-name descname">StandardGpuResourcesImpl</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResources.html#_CPPv4N5faiss3gpu12GpuResourcesE" title="faiss::gpu::GpuResources">GpuResources</a><br /></dt>
<dd><em>#include &lt;StandardGpuResources.h&gt;</em><p>Standard implementation of the <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object that provides for a temporary memory manager </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl24StandardGpuResourcesImplEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl24StandardGpuResourcesImplEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl24StandardGpuResourcesImplEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::StandardGpuResourcesImpl"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a416835fae3db3685e40f42c8260f8745"></span><code class="sig-name descname">StandardGpuResourcesImpl</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImplD0Ev">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImplD0Ev"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImplD0Ev"></span><span id="faiss::gpu::StandardGpuResourcesImpl::~StandardGpuResourcesImpl"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a6c05d4e676be74d65d44ccb23eb63f63"></span><code class="sig-name descname">~StandardGpuResourcesImpl</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl12noTempMemoryEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl12noTempMemoryEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl12noTempMemoryEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::noTempMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a37459ad7862e50792e6498289c7f81b7"></span>void <code class="sig-name descname">noTempMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Disable allocation of temporary memory; all temporary memory requests will call cudaMalloc / cudaFree at the point of use </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl13setTempMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl13setTempMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl13setTempMemoryE6size_t"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setTempMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a95ec5cc373c8aeefcacd55ee0be0dff3"></span>void <code class="sig-name descname">setTempMemory</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Specify that we wish to use a certain fixed size of memory on all devices as temporary memory. This is the upper bound for the GPU memory that we will reserve. We will never go above 1.5 GiB on any GPU; smaller GPUs (with &lt;= 4 GiB or &lt;= 8 GiB) will use less memory than that. To avoid any temporary memory allocation, pass 0. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl15setPinnedMemoryE6size_t">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl15setPinnedMemoryE6size_t"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl15setPinnedMemoryE6size_t"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setPinnedMemory__s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a63bd261de7e331760dea2e59ac26c036"></span>void <code class="sig-name descname">setPinnedMemory</code><span class="sig-paren">(</span>size_t <em>size</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set amount of pinned memory to allocate, for async GPU &lt;-&gt; CPU transfers </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl16setDefaultStreamEi12cudaStream_t">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl16setDefaultStreamEi12cudaStream_t"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl16setDefaultStreamEi12cudaStream_t"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setDefaultStream__i.cudaStream_t"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1aea675757238dda776033cd8607c6daef"></span>void <code class="sig-name descname">setDefaultStream</code><span class="sig-paren">(</span>int <em>device</em>, cudaStream_t <em>stream</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Called to change the stream for work ordering. We do not own <code class="docutils literal notranslate"><span class="pre">stream</span></code>; i.e., it will not be destroyed when the <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuResources"><span class="std std-ref">GpuResources</span></a> object gets cleaned up. We are guaranteed that all Faiss GPU work is ordered with respect to this stream upon exit from an index or other Faiss GPU call. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19revertDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19revertDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19revertDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::revertDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a9c01fa8034c5fcb8ef797293873ab75d"></span>void <code class="sig-name descname">revertDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Revert the default stream to the original stream managed by this resources object, in case someone called <code class="docutils literal notranslate"><span class="pre">setDefaultStream</span></code>. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl16getDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl16getDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl16getDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ade7aa26366d1dae8b5eafc445bdbc465"></span>cudaStream_t <code class="sig-name descname">getDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the stream for the given device on which all Faiss GPU work is ordered. We are guaranteed that all Faiss GPU work is ordered with respect to this stream upon exit from an index or other Faiss GPU call. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl30setDefaultNullStreamAllDevicesEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl30setDefaultNullStreamAllDevicesEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl30setDefaultNullStreamAllDevicesEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setDefaultNullStreamAllDevices"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1af7f1af9afed27148890d5e4aaabe10d5"></span>void <code class="sig-name descname">setDefaultNullStreamAllDevices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Called to change the work ordering streams to the null stream for all devices </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl23setLogMemoryAllocationsEb">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl23setLogMemoryAllocationsEb"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl23setLogMemoryAllocationsEb"></span><span id="faiss::gpu::StandardGpuResourcesImpl::setLogMemoryAllocations__b"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ace6a664d48bf37e59cc4adb942a35ad7"></span>void <code class="sig-name descname">setLogMemoryAllocations</code><span class="sig-paren">(</span>bool <em>enable</em><span class="sig-paren">)</span><br /></dt>
<dd><p>If enabled, will print every GPU memory allocation and deallocation to standard output </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19initializeForDeviceEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19initializeForDeviceEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19initializeForDeviceEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::initializeForDevice__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a5a7f41d69de7b8ec6b9b5d99cc39e86b"></span>void <code class="sig-name descname">initializeForDevice</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Internal system calls. </p>
<p>Initialize resources for this device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl13getBlasHandleEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl13getBlasHandleEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl13getBlasHandleEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getBlasHandle__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a7a2b9d0db8057ec24a4acbdad5acf984"></span>cublasHandle_t <code class="sig-name descname">getBlasHandle</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the cuBLAS handle that we use for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19getAlternateStreamsEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19getAlternateStreamsEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19getAlternateStreamsEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getAlternateStreams__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a098278ee17c5a58a385190da02ba8b08"></span>std::vector&lt;cudaStream_t&gt; <code class="sig-name descname">getAlternateStreams</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the set of alternative streams that we use for the given device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl11allocMemoryERK12AllocRequest">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl11allocMemoryERK12AllocRequest"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl11allocMemoryERK12AllocRequest"></span><span id="faiss::gpu::StandardGpuResourcesImpl::allocMemory__AllocRequestCR"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1abfebafa768ef83db56488906fe57ed6c"></span>void *<code class="sig-name descname">allocMemory</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a> &amp;<em>req</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Allocate non-temporary GPU memory. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl13deallocMemoryEiPv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl13deallocMemoryEiPv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl13deallocMemoryEiPv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::deallocMemory__i.voidP"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a00d69ab624340410818c700b9019475d"></span>void <code class="sig-name descname">deallocMemory</code><span class="sig-paren">(</span>int <em>device</em>, void *<em>in</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns a previous allocation. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu24StandardGpuResourcesImpl22getTempMemoryAvailableEi">
<span id="_CPPv3NK5faiss3gpu24StandardGpuResourcesImpl22getTempMemoryAvailableEi"></span><span id="_CPPv2NK5faiss3gpu24StandardGpuResourcesImpl22getTempMemoryAvailableEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getTempMemoryAvailable__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a633cfc45b53aa74156418ddc108c8167"></span>size_t <code class="sig-name descname">getTempMemoryAvailable</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">const</em> <em class="property">override</em><br /></dt>
<dd><p>For MemorySpace::Temporary, how much space is immediately available without cudaMalloc allocation? </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu24StandardGpuResourcesImpl13getMemoryInfoEv">
<span id="_CPPv3NK5faiss3gpu24StandardGpuResourcesImpl13getMemoryInfoEv"></span><span id="_CPPv2NK5faiss3gpu24StandardGpuResourcesImpl13getMemoryInfoEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getMemoryInfoC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1af8760dfaf89fac90208e8c73b718437c"></span>std::map&lt;int, std::map&lt;std::string, std::pair&lt;int, size_t&gt;&gt;&gt; <code class="sig-name descname">getMemoryInfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Export a description of memory used for Python. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl15getPinnedMemoryEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl15getPinnedMemoryEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl15getPinnedMemoryEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getPinnedMemory"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a86dea0d55d2ab7226f173e2ec998c6b4"></span>std::pair&lt;void*, size_t&gt; <code class="sig-name descname">getPinnedMemory</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the available CPU pinned memory buffer. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl18getAsyncCopyStreamEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl18getAsyncCopyStreamEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl18getAsyncCopyStreamEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getAsyncCopyStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a28beb152642c2621724c7eedb088630c"></span>cudaStream_t <code class="sig-name descname">getAsyncCopyStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>Returns the stream on which we perform async CPU &lt;-&gt; GPU copies. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl26getBlasHandleCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl26getBlasHandleCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl26getBlasHandleCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getBlasHandleCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a00cb7bcbc5f1a00da673f30749149b12"></span>cublasHandle_t <code class="sig-name descname">getBlasHandleCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getBlasHandle with the current device. </p>
<p>Functions provided by default </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl29getDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl29getDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl29getDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aa0354aa570c24e17a9f8a6a45b153ed2"></span>cudaStream_t <code class="sig-name descname">getDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getDefaultStream with the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu24StandardGpuResourcesImpl35getTempMemoryAvailableCurrentDeviceEv">
<span id="_CPPv3NK5faiss3gpu24StandardGpuResourcesImpl35getTempMemoryAvailableCurrentDeviceEv"></span><span id="_CPPv2NK5faiss3gpu24StandardGpuResourcesImpl35getTempMemoryAvailableCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getTempMemoryAvailableCurrentDeviceC"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aeb57bc66a9823aaf140324e22985a71d"></span>size_t <code class="sig-name descname">getTempMemoryAvailableCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Calls getTempMemoryAvailable with the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl17allocMemoryHandleERK12AllocRequest">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl17allocMemoryHandleERK12AllocRequest"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl17allocMemoryHandleERK12AllocRequest"></span><span id="faiss::gpu::StandardGpuResourcesImpl::allocMemoryHandle__AllocRequestCR"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1af0949f87d4f522b7ee5be17ad760b266"></span><a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu20GpuMemoryReservationE" title="faiss::gpu::GpuMemoryReservation">GpuMemoryReservation</a> <code class="sig-name descname">allocMemoryHandle</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a> &amp;<em>req</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns a temporary memory allocation via a RAII object. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl17syncDefaultStreamEi">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl17syncDefaultStreamEi"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl17syncDefaultStreamEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::syncDefaultStream__i"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a130deab9f6d49cbdde8f9da45ce868fd"></span>void <code class="sig-name descname">syncDefaultStream</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Synchronizes the CPU with respect to the default stream for the given device </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl30syncDefaultStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl30syncDefaultStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl30syncDefaultStreamCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::syncDefaultStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1adf6a5653ec2bbb0e9d58a0e1dd73897f"></span>void <code class="sig-name descname">syncDefaultStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls syncDefaultStream for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl32getAlternateStreamsCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl32getAlternateStreamsCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl32getAlternateStreamsCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getAlternateStreamsCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1a2104e59caebc31d9f98729281b616acc"></span>std::vector&lt;cudaStream_t&gt; <code class="sig-name descname">getAlternateStreamsCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getAlternateStreams for the current device. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl31getAsyncCopyStreamCurrentDeviceEv">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl31getAsyncCopyStreamCurrentDeviceEv"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl31getAsyncCopyStreamCurrentDeviceEv"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getAsyncCopyStreamCurrentDevice"></span><span class="target" id="classfaiss_1_1gpu_1_1GpuResources_1aefb90d15fade57cdfcff03ec800183d4"></span>cudaStream_t <code class="sig-name descname">getAsyncCopyStreamCurrentDevice</code><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calls getAsyncCopyStream for the current device. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Functions</p>
<dl class="cpp function">
<dt id="_CPPv4NK5faiss3gpu24StandardGpuResourcesImpl13isInitializedEi">
<span id="_CPPv3NK5faiss3gpu24StandardGpuResourcesImpl13isInitializedEi"></span><span id="_CPPv2NK5faiss3gpu24StandardGpuResourcesImpl13isInitializedEi"></span><span id="faiss::gpu::StandardGpuResourcesImpl::isInitialized__iC"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a55c7e84b0f56ea2c591fd14415a23dd2"></span>bool <code class="sig-name descname">isInitialized</code><span class="sig-paren">(</span>int <em>device</em><span class="sig-paren">)</span> <em class="property">const</em><br /></dt>
<dd><p>Have GPU resources been initialized for this device yet? </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl7allocs_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl7allocs_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl7allocs_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::allocs___std::unordered_map:i.std::unordered_map:voidP.AllocRequest::"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1aaf1d435773c0b0a0571fa397c9bfaa6a"></span>std::unordered_map&lt;int, std::unordered_map&lt;void*, <a class="reference internal" href="../file/GpuResources_8h.html#_CPPv4N5faiss3gpu12AllocRequestE" title="faiss::gpu::AllocRequest">AllocRequest</a>&gt;&gt; <code class="sig-name descname">allocs_</code><br /></dt>
<dd><p>Set of currently outstanding memory allocations per device device -&gt; (alloc request, allocated ptr) </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl11tempMemory_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl11tempMemory_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl11tempMemory_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::tempMemory___std::unordered_map:i.std::unique_ptr:StackDeviceMemory::"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ae246ade2809d7dc770dcc52183b8b498"></span>std::unordered_map&lt;int, std::unique_ptr&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1StackDeviceMemory.html#_CPPv4N5faiss3gpu17StackDeviceMemoryE" title="faiss::gpu::StackDeviceMemory">StackDeviceMemory</a>&gt;&gt; <code class="sig-name descname">tempMemory_</code><br /></dt>
<dd><p>Temporary memory provider, per each device. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl15defaultStreams_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl15defaultStreams_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl15defaultStreams_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::defaultStreams___std::unordered_map:i.cudaStream_t:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a20022e4935d985f8e274e5cd1bc37187"></span>std::unordered_map&lt;int, cudaStream_t&gt; <code class="sig-name descname">defaultStreams_</code><br /></dt>
<dd><p>Our default stream that work is ordered on, one per each device. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19userDefaultStreams_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19userDefaultStreams_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19userDefaultStreams_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::userDefaultStreams___std::unordered_map:i.cudaStream_t:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ad7a1e48b4128742c29a97f87ccecdd11"></span>std::unordered_map&lt;int, cudaStream_t&gt; <code class="sig-name descname">userDefaultStreams_</code><br /></dt>
<dd><p>This contains particular streams as set by the user for ordering, if any </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl17alternateStreams_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl17alternateStreams_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl17alternateStreams_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::alternateStreams___std::unordered_map:i.std::vector:cudaStream_t::"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a6b511d4f63fe99e81624a2a5b13847b2"></span>std::unordered_map&lt;int, std::vector&lt;cudaStream_t&gt;&gt; <code class="sig-name descname">alternateStreams_</code><br /></dt>
<dd><p>Other streams we can use, per each device. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl17asyncCopyStreams_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl17asyncCopyStreams_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl17asyncCopyStreams_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::asyncCopyStreams___std::unordered_map:i.cudaStream_t:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a8ca38d5ac22483ae58a0fe5555998846"></span>std::unordered_map&lt;int, cudaStream_t&gt; <code class="sig-name descname">asyncCopyStreams_</code><br /></dt>
<dd><p>Async copy stream to use for GPU &lt;-&gt; CPU pinned memory copies. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl12blasHandles_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl12blasHandles_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl12blasHandles_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::blasHandles___std::unordered_map:i.cublasHandle_t:"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1af1c41ca22c2e5b2c7451759223f9f3db"></span>std::unordered_map&lt;int, cublasHandle_t&gt; <code class="sig-name descname">blasHandles_</code><br /></dt>
<dd><p>cuBLAS handle for each device </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl15pinnedMemAlloc_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl15pinnedMemAlloc_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl15pinnedMemAlloc_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::pinnedMemAlloc___voidP"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a54c32dec0e85b9316426c89085e03b3c"></span>void *<code class="sig-name descname">pinnedMemAlloc_</code><br /></dt>
<dd><p>Pinned memory allocation for use with this GPU. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl19pinnedMemAllocSize_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl19pinnedMemAllocSize_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl19pinnedMemAllocSize_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::pinnedMemAllocSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1aed791b318265666dd2b6fde3863f7d18"></span>size_t <code class="sig-name descname">pinnedMemAllocSize_</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl12tempMemSize_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl12tempMemSize_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl12tempMemSize_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::tempMemSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a62e7ab153d60395b6e4906f223a60116"></span>size_t <code class="sig-name descname">tempMemSize_</code><br /></dt>
<dd><p>Another option is to use a specified amount of memory on all devices </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl14pinnedMemSize_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl14pinnedMemSize_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl14pinnedMemSize_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::pinnedMemSize___s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a68fb215506fb57a4adca5b289808c79f"></span>size_t <code class="sig-name descname">pinnedMemSize_</code><br /></dt>
<dd><p>Amount of pinned memory we should allocate. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl13allocLogging_E">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl13allocLogging_E"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl13allocLogging_E"></span><span id="faiss::gpu::StandardGpuResourcesImpl::allocLogging___b"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1ad157e95342116754b0be81a8e5775343"></span>bool <code class="sig-name descname">allocLogging_</code><br /></dt>
<dd><p>Whether or not we log every GPU memory allocation and deallocation. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Private Static Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu24StandardGpuResourcesImpl23getDefaultTempMemForGPUEi6size_t">
<span id="_CPPv3N5faiss3gpu24StandardGpuResourcesImpl23getDefaultTempMemForGPUEi6size_t"></span><span id="_CPPv2N5faiss3gpu24StandardGpuResourcesImpl23getDefaultTempMemForGPUEi6size_t"></span><span id="faiss::gpu::StandardGpuResourcesImpl::getDefaultTempMemForGPU__i.s"></span><span class="target" id="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl_1a8ec365660c997441b2cf5faea71c36bb"></span>size_t <code class="sig-name descname">getDefaultTempMemForGPU</code><span class="sig-paren">(</span>int <em>device</em>, size_t <em>requested</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Adjust the default temporary memory allocation based on the total GPU memory size </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu11ToCPUClonerE">
<span id="_CPPv3N5faiss3gpu11ToCPUClonerE"></span><span id="_CPPv2N5faiss3gpu11ToCPUClonerE"></span><span id="faiss::gpu::ToCPUCloner"></span><span class="target" id="structfaiss_1_1gpu_1_1ToCPUCloner"></span><em class="property">struct </em><code class="sig-name descname">ToCPUCloner</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/clone__index_8h.html#_CPPv4N5faiss6ClonerE" title="faiss::Cloner">Cloner</a><br /></dt>
<dd><em>#include &lt;GpuCloner.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Cloner.html#structfaiss_1_1Cloner"><span class="std std-ref">Cloner</span></a> specialized for GPU -&gt; CPU. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToCPUCloner11merge_indexEP5IndexP5Indexb">
<span id="_CPPv3N5faiss3gpu11ToCPUCloner11merge_indexEP5IndexP5Indexb"></span><span id="_CPPv2N5faiss3gpu11ToCPUCloner11merge_indexEP5IndexP5Indexb"></span><span id="faiss::gpu::ToCPUCloner::merge_index__IndexP.IndexP.b"></span><span class="target" id="structfaiss_1_1gpu_1_1ToCPUCloner_1ac176600d3e3e5c79ce334ed12e835d50"></span>void <code class="sig-name descname">merge_index</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>dst</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>src</em>, bool <em>successive_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToCPUCloner11clone_IndexEPK5Index">
<span id="_CPPv3N5faiss3gpu11ToCPUCloner11clone_IndexEPK5Index"></span><span id="_CPPv2N5faiss3gpu11ToCPUCloner11clone_IndexEPK5Index"></span><span id="faiss::gpu::ToCPUCloner::clone_Index__IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToCPUCloner_1a213e9050200bc81d808892216f6a578c"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToCPUCloner21clone_VectorTransformEPK15VectorTransform">
<span id="_CPPv3N5faiss3gpu11ToCPUCloner21clone_VectorTransformEPK15VectorTransform"></span><span id="_CPPv2N5faiss3gpu11ToCPUCloner21clone_VectorTransformEPK15VectorTransform"></span><span id="faiss::gpu::ToCPUCloner::clone_VectorTransform__VectorTransformCP"></span><span class="target" id="structfaiss_1_1Cloner_1a6d0153062dcfde3da36a7ee845f0378e"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">clone_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a>*<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToCPUCloner21clone_VectorTransformEPK15VectorTransform" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToCPUCloner14clone_IndexIVFEPK8IndexIVF">
<span id="_CPPv3N5faiss3gpu11ToCPUCloner14clone_IndexIVFEPK8IndexIVF"></span><span id="_CPPv2N5faiss3gpu11ToCPUCloner14clone_IndexIVFEPK8IndexIVF"></span><span id="faiss::gpu::ToCPUCloner::clone_IndexIVF__IndexIVFCP"></span><span class="target" id="structfaiss_1_1Cloner_1a900cc361b28631b47359b1df41fda0cf"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">clone_IndexIVF</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a>*<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToCPUCloner14clone_IndexIVFEPK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu11ToGpuClonerE">
<span id="_CPPv3N5faiss3gpu11ToGpuClonerE"></span><span id="_CPPv2N5faiss3gpu11ToGpuClonerE"></span><span id="faiss::gpu::ToGpuCloner"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner"></span><em class="property">struct </em><code class="sig-name descname">ToGpuCloner</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/clone__index_8h.html#_CPPv4N5faiss6ClonerE" title="faiss::Cloner">Cloner</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu16GpuClonerOptionsE" title="faiss::gpu::GpuClonerOptions">GpuClonerOptions</a><br /></dt>
<dd><em>#include &lt;GpuCloner.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Cloner.html#structfaiss_1_1Cloner"><span class="std std-ref">Cloner</span></a> specialized for CPU -&gt; 1 GPU. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner11ToGpuClonerEP20GpuResourcesProvideriRK16GpuClonerOptions">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner11ToGpuClonerEP20GpuResourcesProvideriRK16GpuClonerOptions"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner11ToGpuClonerEP20GpuResourcesProvideriRK16GpuClonerOptions"></span><span id="faiss::gpu::ToGpuCloner::ToGpuCloner__GpuResourcesProviderP.i.GpuClonerOptionsCR"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner_1a75c697e6c9678764e5fcd17e18f23867"></span><code class="sig-name descname">ToGpuCloner</code><span class="sig-paren">(</span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<em>prov</em>, int <em>device</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu16GpuClonerOptionsE" title="faiss::gpu::GpuClonerOptions">GpuClonerOptions</a> &amp;<em>options</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner11clone_IndexEPK5Index">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner11clone_IndexEPK5Index"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner11clone_IndexEPK5Index"></span><span id="faiss::gpu::ToGpuCloner::clone_Index__IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner_1afd01f5d062a04d0ea3b2342cfac066bb"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner21clone_VectorTransformEPK15VectorTransform">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner21clone_VectorTransformEPK15VectorTransform"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner21clone_VectorTransformEPK15VectorTransform"></span><span id="faiss::gpu::ToGpuCloner::clone_VectorTransform__VectorTransformCP"></span><span class="target" id="structfaiss_1_1Cloner_1a6d0153062dcfde3da36a7ee845f0378e"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">clone_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a>*<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner21clone_VectorTransformEPK15VectorTransform" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner14clone_IndexIVFEPK8IndexIVF">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner14clone_IndexIVFEPK8IndexIVF"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner14clone_IndexIVFEPK8IndexIVF"></span><span id="faiss::gpu::ToGpuCloner::clone_IndexIVF__IndexIVFCP"></span><span class="target" id="structfaiss_1_1Cloner_1a900cc361b28631b47359b1df41fda0cf"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">clone_IndexIVF</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a>*<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner14clone_IndexIVFEPK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner8providerE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner8providerE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner8providerE"></span><span id="faiss::gpu::ToGpuCloner::provider__GpuResourcesProviderP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner_1a0a0c7a86cc9f8bd752392a2a31046b71"></span><a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a> *<code class="sig-name descname">provider</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner6deviceE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner6deviceE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner6deviceE"></span><span id="faiss::gpu::ToGpuCloner::device__i"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuCloner_1a6f68f4bdf04d86a1d45162822e85a224"></span>int <code class="sig-name descname">device</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner14indicesOptionsE"></span><span id="faiss::gpu::ToGpuCloner::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ad960ac51b7cc607fcb1a1b07efc32a9e"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner14indicesOptionsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>how should indices be stored on index types that support indices (anything but GpuIndexFlat*)? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner25useFloat16CoarseQuantizerE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner25useFloat16CoarseQuantizerE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner25useFloat16CoarseQuantizerE"></span><span id="faiss::gpu::ToGpuCloner::useFloat16CoarseQuantizer__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a85f3093908b6e9a503c24bb226b17b1b"></span>bool <code class="sig-name descname">useFloat16CoarseQuantizer</code><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner25useFloat16CoarseQuantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>is the coarse quantizer in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner10useFloat16E">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner10useFloat16E"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner10useFloat16E"></span><span id="faiss::gpu::ToGpuCloner::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ac7cc57d6091d6a79ea6020bf8d1fbe27"></span>bool <code class="sig-name descname">useFloat16</code><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner10useFloat16E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">GpuIndexIVFFlat</span></a>, is storage in float16? for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, are intermediate calculations in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner14usePrecomputedE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner14usePrecomputedE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner14usePrecomputedE"></span><span id="faiss::gpu::ToGpuCloner::usePrecomputed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc9c607f2dfc9f23942a523fb49c63fe"></span>bool <code class="sig-name descname">usePrecomputed</code><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner14usePrecomputedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>use precomputed tables? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner11reserveVecsE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner11reserveVecsE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner11reserveVecsE"></span><span id="faiss::gpu::ToGpuCloner::reserveVecs__l"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ab60dd87e51af59373a48d73852573f04"></span>long <code class="sig-name descname">reserveVecs</code><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner11reserveVecsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reserve vectors in the invfiles? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner15storeTransposedE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner15storeTransposedE"></span><span id="faiss::gpu::ToGpuCloner::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a5f2470ec5b2a8fe7aae0542f113b781d"></span>bool <code class="sig-name descname">storeTransposed</code><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner15storeTransposedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>For <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a>, store data in transposed layout? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu11ToGpuCloner7verboseE">
<span id="_CPPv3N5faiss3gpu11ToGpuCloner7verboseE"></span><span id="_CPPv2N5faiss3gpu11ToGpuCloner7verboseE"></span><span id="faiss::gpu::ToGpuCloner::verbose__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc7d0451773e0f2f640338533abc1397"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss3gpu11ToGpuCloner7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Set verbose options on the index. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultipleE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultipleE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultipleE"></span><span id="faiss::gpu::ToGpuClonerMultiple"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple"></span><em class="property">struct </em><code class="sig-name descname">ToGpuClonerMultiple</code> : <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/clone__index_8h.html#_CPPv4N5faiss6ClonerE" title="faiss::Cloner">Cloner</a>, <em class="property">public</em> <a class="reference internal" href="../file/AlignedTable_8h.html#_CPPv45faiss" title="faiss">faiss</a>::<a class="reference internal" href="../file/DeviceUtils_8h.html#_CPPv4N5faiss3gpuE" title="faiss::gpu">gpu</a>::<a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE" title="faiss::gpu::GpuMultipleClonerOptions">GpuMultipleClonerOptions</a><br /></dt>
<dd><em>#include &lt;GpuCloner.h&gt;</em><p><a class="reference internal" href="../struct/structfaiss_1_1Cloner.html#structfaiss_1_1Cloner"><span class="std std-ref">Cloner</span></a> specialized for CPU -&gt; multiple GPUs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEERK24GpuMultipleClonerOptions">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEERK24GpuMultipleClonerOptions"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERNSt6vectorIP20GpuResourcesProviderEERNSt6vectorIiEERK24GpuMultipleClonerOptions"></span><span id="faiss::gpu::ToGpuClonerMultiple::ToGpuClonerMultiple__std::vector:GpuResourcesProviderP:R.std::vector:i:R.GpuMultipleClonerOptionsCR"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a3335f799be19f7b19cd895c12cec74aa"></span><code class="sig-name descname">ToGpuClonerMultiple</code><span class="sig-paren">(</span>std::vector&lt;<a class="reference internal" href="../class/classfaiss_1_1gpu_1_1GpuResourcesProvider.html#_CPPv4N5faiss3gpu20GpuResourcesProviderE" title="faiss::gpu::GpuResourcesProvider">GpuResourcesProvider</a>*&gt; &amp;<em>provider</em>, std::vector&lt;int&gt; &amp;<em>devices</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE" title="faiss::gpu::GpuMultipleClonerOptions">GpuMultipleClonerOptions</a> &amp;<em>options</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERKNSt6vectorI11ToGpuClonerEERK24GpuMultipleClonerOptions">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERKNSt6vectorI11ToGpuClonerEERK24GpuMultipleClonerOptions"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple19ToGpuClonerMultipleERKNSt6vectorI11ToGpuClonerEERK24GpuMultipleClonerOptions"></span><span id="faiss::gpu::ToGpuClonerMultiple::ToGpuClonerMultiple__std::vector:ToGpuCloner:CR.GpuMultipleClonerOptionsCR"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1aadb501df2f2cd16d4a09cba558f239e1"></span><code class="sig-name descname">ToGpuClonerMultiple</code><span class="sig-paren">(</span><em class="property">const</em> std::vector&lt;<a class="reference internal" href="../file/GpuCloner_8h.html#_CPPv4N5faiss3gpu11ToGpuClonerE" title="faiss::gpu::ToGpuCloner">ToGpuCloner</a>&gt; &amp;<em>sub_cloners</em>, <em class="property">const</em> <a class="reference internal" href="../file/GpuClonerOptions_8h.html#_CPPv4N5faiss3gpu24GpuMultipleClonerOptionsE" title="faiss::gpu::GpuMultipleClonerOptions">GpuMultipleClonerOptions</a> &amp;<em>options</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple14copy_ivf_shardEPK8IndexIVFP8IndexIVFll">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple14copy_ivf_shardEPK8IndexIVFP8IndexIVFll"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple14copy_ivf_shardEPK8IndexIVFP8IndexIVFll"></span><span id="faiss::gpu::ToGpuClonerMultiple::copy_ivf_shard__IndexIVFCP.IndexIVFP.l.l"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a84da27fde8ad58baa5473b4f9c5c3e77"></span>void <code class="sig-name descname">copy_ivf_shard</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>index_ivf</em>, <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<em>idx2</em>, long <em>n</em>, long <em>i</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple21clone_Index_to_shardsEPK5Index">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple21clone_Index_to_shardsEPK5Index"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple21clone_Index_to_shardsEPK5Index"></span><span id="faiss::gpu::ToGpuClonerMultiple::clone_Index_to_shards__IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a71f1471f9d5e56bd73be48c575041a66"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index_to_shards</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple11clone_IndexEPK5Index">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple11clone_IndexEPK5Index"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple11clone_IndexEPK5Index"></span><span id="faiss::gpu::ToGpuClonerMultiple::clone_Index__IndexCP"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a6704701942e76bff3e2445c41d67deff"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">clone_Index</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span> <em class="property">override</em><br /></dt>
<dd><p>main function </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple21clone_VectorTransformEPK15VectorTransform">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple21clone_VectorTransformEPK15VectorTransform"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple21clone_VectorTransformEPK15VectorTransform"></span><span id="faiss::gpu::ToGpuClonerMultiple::clone_VectorTransform__VectorTransformCP"></span><span class="target" id="structfaiss_1_1Cloner_1a6d0153062dcfde3da36a7ee845f0378e"></span><a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a> *<code class="sig-name descname">clone_VectorTransform</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/VectorTransform_8h.html#_CPPv4N5faiss15VectorTransformE" title="faiss::VectorTransform">VectorTransform</a>*<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple21clone_VectorTransformEPK15VectorTransform" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple14clone_IndexIVFEPK8IndexIVF">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple14clone_IndexIVFEPK8IndexIVF"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple14clone_IndexIVFEPK8IndexIVF"></span><span id="faiss::gpu::ToGpuClonerMultiple::clone_IndexIVF__IndexIVFCP"></span><span class="target" id="structfaiss_1_1Cloner_1a900cc361b28631b47359b1df41fda0cf"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">clone_IndexIVF</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a>*<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple14clone_IndexIVFEPK8IndexIVF" title="Permalink to this definition">Â¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple11sub_clonersE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple11sub_clonersE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple11sub_clonersE"></span><span id="faiss::gpu::ToGpuClonerMultiple::sub_cloners__std::vector:ToGpuCloner:"></span><span class="target" id="structfaiss_1_1gpu_1_1ToGpuClonerMultiple_1a3b5d36b13444e6ae297be3612c3b2979"></span>std::vector&lt;<a class="reference internal" href="../file/GpuCloner_8h.html#_CPPv4N5faiss3gpu11ToGpuClonerE" title="faiss::gpu::ToGpuCloner">ToGpuCloner</a>&gt; <code class="sig-name descname">sub_cloners</code><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple5shardE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple5shardE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple5shardE"></span><span id="faiss::gpu::ToGpuClonerMultiple::shard__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1a7c5bd7a840f6641d5d68699f4416d79d"></span>bool <code class="sig-name descname">shard</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple5shardE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Whether to shard the index across GPUs, versus replication across GPUs </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple10shard_typeE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple10shard_typeE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple10shard_typeE"></span><span id="faiss::gpu::ToGpuClonerMultiple::shard_type__i"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuMultipleClonerOptions_1a9548f823297298b0a78109dec7feb45e"></span>int <code class="sig-name descname">shard_type</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple10shard_typeE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1IndexIVFSpectralHash.html#structfaiss_1_1IndexIVF_1ada0c2daaf628138ad21c77eb616fbbae"><span class="std std-ref">IndexIVF::copy_subset_to</span></a> subset type. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple14indicesOptionsE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple14indicesOptionsE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple14indicesOptionsE"></span><span id="faiss::gpu::ToGpuClonerMultiple::indicesOptions__IndicesOptions"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ad960ac51b7cc607fcb1a1b07efc32a9e"></span><a class="reference internal" href="../file/GpuIndicesOptions_8h.html#_CPPv4N5faiss3gpu14IndicesOptionsE" title="faiss::gpu::IndicesOptions">IndicesOptions</a> <code class="sig-name descname">indicesOptions</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple14indicesOptionsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>how should indices be stored on index types that support indices (anything but GpuIndexFlat*)? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple25useFloat16CoarseQuantizerE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple25useFloat16CoarseQuantizerE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple25useFloat16CoarseQuantizerE"></span><span id="faiss::gpu::ToGpuClonerMultiple::useFloat16CoarseQuantizer__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a85f3093908b6e9a503c24bb226b17b1b"></span>bool <code class="sig-name descname">useFloat16CoarseQuantizer</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple25useFloat16CoarseQuantizerE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>is the coarse quantizer in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple10useFloat16E">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple10useFloat16E"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple10useFloat16E"></span><span id="faiss::gpu::ToGpuClonerMultiple::useFloat16__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ac7cc57d6091d6a79ea6020bf8d1fbe27"></span>bool <code class="sig-name descname">useFloat16</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple10useFloat16E" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFFlat"><span class="std std-ref">GpuIndexIVFFlat</span></a>, is storage in float16? for <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexIVFPQ"><span class="std std-ref">GpuIndexIVFPQ</span></a>, are intermediate calculations in float16? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple14usePrecomputedE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple14usePrecomputedE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple14usePrecomputedE"></span><span id="faiss::gpu::ToGpuClonerMultiple::usePrecomputed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc9c607f2dfc9f23942a523fb49c63fe"></span>bool <code class="sig-name descname">usePrecomputed</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple14usePrecomputedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>use precomputed tables? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple11reserveVecsE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple11reserveVecsE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple11reserveVecsE"></span><span id="faiss::gpu::ToGpuClonerMultiple::reserveVecs__l"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1ab60dd87e51af59373a48d73852573f04"></span>long <code class="sig-name descname">reserveVecs</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple11reserveVecsE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>reserve vectors in the invfiles? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple15storeTransposedE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple15storeTransposedE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple15storeTransposedE"></span><span id="faiss::gpu::ToGpuClonerMultiple::storeTransposed__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1a5f2470ec5b2a8fe7aae0542f113b781d"></span>bool <code class="sig-name descname">storeTransposed</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple15storeTransposedE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>For <a class="reference internal" href="namespacefaiss_1_1gpu.html#classfaiss_1_1gpu_1_1GpuIndexFlat"><span class="std std-ref">GpuIndexFlat</span></a>, store data in transposed layout? </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss3gpu19ToGpuClonerMultiple7verboseE">
<span id="_CPPv3N5faiss3gpu19ToGpuClonerMultiple7verboseE"></span><span id="_CPPv2N5faiss3gpu19ToGpuClonerMultiple7verboseE"></span><span id="faiss::gpu::ToGpuClonerMultiple::verbose__b"></span><span class="target" id="structfaiss_1_1gpu_1_1GpuClonerOptions_1abc7d0451773e0f2f640338533abc1397"></span>bool <code class="sig-name descname">verbose</code><a class="headerlink" href="#_CPPv4N5faiss3gpu19ToGpuClonerMultiple7verboseE" title="Permalink to this definition">Â¶</a><br /></dt>
<dd><p>Set verbose options on the index. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss3gpu5utilsE">
<span id="_CPPv3N5faiss3gpu5utilsE"></span><span id="_CPPv2N5faiss3gpu5utilsE"></span><span id="faiss::gpu::utils"></span><span class="target" id="namespacefaiss_1_1gpu_1_1utils"></span><em class="property">namespace </em><code class="sig-name descname">utils</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a3bc4691d4731a93fbf5fcec46f5cf04d"></span><code class="sig-name descname">template&lt;typename U, typename V&gt; constexpr __host__ __device__ auto divDown (U a, V b) -&gt; decltype(a+b)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a91e56461afb8b046dba4fdd8000e95af"></span><code class="sig-name descname">template&lt;typename U, typename V&gt; constexpr __host__ __device__ auto divUp (U a, V b) -&gt; decltype(a+b)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1afbb2f1d0a5843abf8c3a836bfb387ab4"></span><code class="sig-name descname">template&lt;typename U, typename V&gt; constexpr __host__ __device__ auto roundDown (U a, V b) -&gt; decltype(a+b)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a1f24706c84852e436a8b5dcad7d9f252"></span><code class="sig-name descname">template&lt;typename U, typename V&gt; constexpr __host__ __device__ auto roundUp (U a, V b) -&gt; decltype(a+b)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a1f3e4845c081c122a447cc5f520b7a93"></span><code class="sig-name descname">template&lt;class T&gt; constexpr __host__ __device__ T pow (T n, T power)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1aa90afbafb948f4fa36a2414120ff208c"></span><code class="sig-name descname">template&lt;class T&gt; constexpr __host__ __device__ T pow2 (T n)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1aee56435daf563a79585c93c44e5375db"></span><code class="sig-name descname">template&lt;typename T&gt; constexpr __host__ __device__ int log2 (T n, int p=0)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1a4d2f892d9242bffb150b3743b95eac33"></span><code class="sig-name descname">template&lt;typename T&gt; constexpr __host__ __device__ bool isPowerOf2 (T v)</code></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt>
<span class="target" id="StaticUtils_8h_1ab55ab9059fa19bc3270a50dfe239a077"></span><code class="sig-name descname">template&lt;typename T&gt; constexpr __host__ __device__ T nextHighestPowerOf2 (T v)</code></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss6ivflibE">
<span id="_CPPv3N5faiss6ivflibE"></span><span id="_CPPv2N5faiss6ivflibE"></span><span id="faiss::ivflib"></span><span class="target" id="namespacefaiss_1_1ivflib"></span><em class="property">namespace </em><code class="sig-name descname">ivflib</code><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Typedefs</p>
<dl class="cpp type">
<dt id="_CPPv4N5faiss6ivflib5idx_tE">
<span id="_CPPv3N5faiss6ivflib5idx_tE"></span><span id="_CPPv2N5faiss6ivflib5idx_tE"></span><span id="faiss::ivflib::idx_t"></span><span class="target" id="IVFlib_8h_1acd451517360bac28c698949597459167"></span><em class="property">typedef </em><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a>::<a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5Index5idx_tE" title="faiss::Index::idx_t">idx_t</a> <code class="sig-name descname">idx_t</code><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib26check_compatible_for_mergeEPK5IndexPK5Index">
<span id="_CPPv3N5faiss6ivflib26check_compatible_for_mergeEPK5IndexPK5Index"></span><span id="_CPPv2N5faiss6ivflib26check_compatible_for_mergeEPK5IndexPK5Index"></span><span id="faiss::ivflib::check_compatible_for_merge__IndexCP.IndexCP"></span><span class="target" id="IVFlib_8h_1aeb9efc826d09730a24d5f3b179222033"></span>void <code class="sig-name descname">check_compatible_for_merge</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index1</em>, <em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index2</em><span class="sig-paren">)</span><br /></dt>
<dd><p>check if two indexes have the same parameters and are trained in the same way, otherwise throw. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib17extract_index_ivfEPK5Index">
<span id="_CPPv3N5faiss6ivflib17extract_index_ivfEPK5Index"></span><span id="_CPPv2N5faiss6ivflib17extract_index_ivfEPK5Index"></span><span id="faiss::ivflib::extract_index_ivf__IndexCP"></span><span class="target" id="IVFlib_8h_1a55cc82273e73c80efee882296b1e1e7e"></span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">extract_index_ivf</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>get an <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a> from an index. The index may be an <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a> or some wrapper class that encloses an <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a></p>
<p>throws an exception if this is not the case. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib17extract_index_ivfEP5Index">
<span id="_CPPv3N5faiss6ivflib17extract_index_ivfEP5Index"></span><span id="_CPPv2N5faiss6ivflib17extract_index_ivfEP5Index"></span><span id="faiss::ivflib::extract_index_ivf__IndexP"></span><span class="target" id="IVFlib_8h_1a99619f17a07b9a29193d1c796a390b54"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">extract_index_ivf</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib21try_extract_index_ivfEPK5Index">
<span id="_CPPv3N5faiss6ivflib21try_extract_index_ivfEPK5Index"></span><span id="_CPPv2N5faiss6ivflib21try_extract_index_ivfEPK5Index"></span><span id="faiss::ivflib::try_extract_index_ivf__IndexCP"></span><span class="target" id="IVFlib_8h_1a6fff1114be38812ecd9a5afa41f7c329"></span><em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">try_extract_index_ivf</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>same as above but returns nullptr instead of throwing on failure </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib21try_extract_index_ivfEP5Index">
<span id="_CPPv3N5faiss6ivflib21try_extract_index_ivfEP5Index"></span><span id="_CPPv2N5faiss6ivflib21try_extract_index_ivfEP5Index"></span><span id="faiss::ivflib::try_extract_index_ivf__IndexP"></span><span class="target" id="IVFlib_8h_1a5905b16993db13ef518648936e63b251"></span><a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss8IndexIVFE" title="faiss::IndexIVF">IndexIVF</a> *<code class="sig-name descname">try_extract_index_ivf</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib10merge_intoEP5IndexP5Indexb">
<span id="_CPPv3N5faiss6ivflib10merge_intoEP5IndexP5Indexb"></span><span id="_CPPv2N5faiss6ivflib10merge_intoEP5IndexP5Indexb"></span><span id="faiss::ivflib::merge_into__IndexP.IndexP.b"></span><span class="target" id="IVFlib_8h_1a342382b7b7a6c4e769a9b6bbfe8becaa"></span>void <code class="sig-name descname">merge_into</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index0</em>, <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index1</em>, bool <em>shift_ids</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Merge index1 into index0. Works on <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs and <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>âs embedded in a <a class="reference internal" href="../struct/structfaiss_1_1IndexPreTransform.html#structfaiss_1_1IndexPreTransform"><span class="std std-ref">IndexPreTransform</span></a>. On output, the index1 is empty.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shift_ids</span></code>: translate the ids from index1 to index0-&gt;prev_ntotal </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib15search_centroidEP5IndexPKfiP5idx_t">
<span id="_CPPv3N5faiss6ivflib15search_centroidEP5IndexPKfiP5idx_t"></span><span id="_CPPv2N5faiss6ivflib15search_centroidEP5IndexPKfiP5idx_t"></span><span id="faiss::ivflib::search_centroid__IndexP.floatCP.i.idx_tP"></span><span class="target" id="IVFlib_8h_1ad23c0309490017e0a4f7bf50eb873ecb"></span>void <code class="sig-name descname">search_centroid</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <em class="property">const</em> float *<em>x</em>, int <em>n</em>, <a class="reference internal" href="../file/IVFlib_8h.html#_CPPv4N5faiss6ivflib5idx_tE" title="faiss::ivflib::idx_t">idx_t</a> *<em>centroid_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib27search_and_return_centroidsEP5Index6size_tPKflPfP5idx_tP5idx_tP5idx_t">
<span id="_CPPv3N5faiss6ivflib27search_and_return_centroidsEP5Index6size_tPKflPfP5idx_tP5idx_tP5idx_t"></span><span id="_CPPv2N5faiss6ivflib27search_and_return_centroidsEP5Index6size_tPKflPfP5idx_tP5idx_tP5idx_t"></span><span id="faiss::ivflib::search_and_return_centroids__IndexP.s.floatCP.l.floatP.idx_tP.idx_tP.idx_tP"></span><span class="target" id="IVFlib_8h_1a739f3822af902e9b9fb8104415dc0ef2"></span>void <code class="sig-name descname">search_and_return_centroids</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, size_t <em>n</em>, <em class="property">const</em> float *<em>xin</em>, long <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/IVFlib_8h.html#_CPPv4N5faiss6ivflib5idx_tE" title="faiss::ivflib::idx_t">idx_t</a> *<em>labels</em>, <a class="reference internal" href="../file/IVFlib_8h.html#_CPPv4N5faiss6ivflib5idx_tE" title="faiss::ivflib::idx_t">idx_t</a> *<em>query_centroid_ids</em>, <a class="reference internal" href="../file/IVFlib_8h.html#_CPPv4N5faiss6ivflib5idx_tE" title="faiss::ivflib::idx_t">idx_t</a> *<em>result_centroid_ids</em><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib17get_invlist_rangeEPK5Indexll">
<span id="_CPPv3N5faiss6ivflib17get_invlist_rangeEPK5Indexll"></span><span id="_CPPv2N5faiss6ivflib17get_invlist_rangeEPK5Indexll"></span><span id="faiss::ivflib::get_invlist_range__IndexCP.l.l"></span><span class="target" id="IVFlib_8h_1aaa9a8f346bd0ff551667de679f231bf6"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedListsE" title="faiss::ArrayInvertedLists">ArrayInvertedLists</a> *<code class="sig-name descname">get_invlist_range</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, long <em>i0</em>, long <em>i1</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Get a subset of inverted lists [i0, i1) </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib17set_invlist_rangeEP5IndexllP18ArrayInvertedLists">
<span id="_CPPv3N5faiss6ivflib17set_invlist_rangeEP5IndexllP18ArrayInvertedLists"></span><span id="_CPPv2N5faiss6ivflib17set_invlist_rangeEP5IndexllP18ArrayInvertedLists"></span><span id="faiss::ivflib::set_invlist_range__IndexP.l.l.ArrayInvertedListsP"></span><span class="target" id="IVFlib_8h_1a01332806047c09400a8c73f1fd400699"></span>void <code class="sig-name descname">set_invlist_range</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, long <em>i0</em>, long <em>i1</em>, <a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedListsE" title="faiss::ArrayInvertedLists">ArrayInvertedLists</a> *<em>src</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Set a subset of inverted lists. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib22search_with_parametersEPK5Index5idx_tPKf5idx_tPfP5idx_tPK19IVFSearchParametersP6size_tPd">
<span id="_CPPv3N5faiss6ivflib22search_with_parametersEPK5Index5idx_tPKf5idx_tPfP5idx_tPK19IVFSearchParametersP6size_tPd"></span><span id="_CPPv2N5faiss6ivflib22search_with_parametersEPK5Index5idx_tPKf5idx_tPfP5idx_tPK19IVFSearchParametersP6size_tPd"></span><span id="faiss::ivflib::search_with_parameters__IndexCP.idx_t.floatCP.idx_t.floatP.idx_tP.IVFSearchParametersCP.sP.doubleP"></span><span class="target" id="IVFlib_8h_1a113970d7b83b793fe22b2cf2bb73a78b"></span>void <code class="sig-name descname">search_with_parameters</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <a class="reference internal" href="../file/IVFlib_8h.html#_CPPv4N5faiss6ivflib5idx_tE" title="faiss::ivflib::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, <a class="reference internal" href="../file/IVFlib_8h.html#_CPPv4N5faiss6ivflib5idx_tE" title="faiss::ivflib::idx_t">idx_t</a> <em>k</em>, float *<em>distances</em>, <a class="reference internal" href="../file/IVFlib_8h.html#_CPPv4N5faiss6ivflib5idx_tE" title="faiss::ivflib::idx_t">idx_t</a> *<em>labels</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em>, size_t *<em>nb_dis</em> = nullptr, double *<em>ms_per_stage</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>search an <a class="reference internal" href="../struct/structfaiss_1_1IndexIVF.html#structfaiss_1_1IndexIVF"><span class="std std-ref">IndexIVF</span></a>, possibly embedded in an <a class="reference internal" href="../struct/structfaiss_1_1IndexPreTransform.html#structfaiss_1_1IndexPreTransform"><span class="std std-ref">IndexPreTransform</span></a> with given parameters. This is a way to set the nprobe and get statdistics in a thread-safe way.</p>
<p>Optionally returns (if non-nullptr):<ul class="simple">
<li><p>nb_dis: number of distances computed</p></li>
<li><p>ms_per_stage: [0]: preprocessing time [1]: coarse quantization, [2]: list scanning </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib28range_search_with_parametersEPK5Index5idx_tPKffP17RangeSearchResultPK19IVFSearchParametersP6size_tPd">
<span id="_CPPv3N5faiss6ivflib28range_search_with_parametersEPK5Index5idx_tPKffP17RangeSearchResultPK19IVFSearchParametersP6size_tPd"></span><span id="_CPPv2N5faiss6ivflib28range_search_with_parametersEPK5Index5idx_tPKffP17RangeSearchResultPK19IVFSearchParametersP6size_tPd"></span><span id="faiss::ivflib::range_search_with_parameters__IndexCP.idx_t.floatCP.float.RangeSearchResultP.IVFSearchParametersCP.sP.doubleP"></span><span class="target" id="IVFlib_8h_1aa30ade5c6f5c5e11f70828dc2ca8359a"></span>void <code class="sig-name descname">range_search_with_parameters</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em>, <a class="reference internal" href="../file/IVFlib_8h.html#_CPPv4N5faiss6ivflib5idx_tE" title="faiss::ivflib::idx_t">idx_t</a> <em>n</em>, <em class="property">const</em> float *<em>x</em>, float <em>radius</em>, RangeSearchResult *<em>result</em>, <em class="property">const</em> <a class="reference internal" href="../file/IndexIVF_8h.html#_CPPv4N5faiss19IVFSearchParametersE" title="faiss::IVFSearchParameters">IVFSearchParameters</a> *<em>params</em>, size_t *<em>nb_dis</em> = nullptr, double *<em>ms_per_stage</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>same as search_with_parameters but for range search </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv4N5faiss6ivflib18SlidingIndexWindowE">
<span id="_CPPv3N5faiss6ivflib18SlidingIndexWindowE"></span><span id="_CPPv2N5faiss6ivflib18SlidingIndexWindowE"></span><span id="faiss::ivflib::SlidingIndexWindow"></span><span class="target" id="structfaiss_1_1ivflib_1_1SlidingIndexWindow"></span><em class="property">struct </em><code class="sig-name descname">SlidingIndexWindow</code><br /></dt>
<dd><em>#include &lt;IVFlib.h&gt;</em><p>A set of IndexIVFs concatenated together in a FIFO fashion. at each âstepâ, the oldest index slice is removed and a new index is added. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib18SlidingIndexWindow18SlidingIndexWindowEP5Index">
<span id="_CPPv3N5faiss6ivflib18SlidingIndexWindow18SlidingIndexWindowEP5Index"></span><span id="_CPPv2N5faiss6ivflib18SlidingIndexWindow18SlidingIndexWindowEP5Index"></span><span id="faiss::ivflib::SlidingIndexWindow::SlidingIndexWindow__IndexP"></span><span class="target" id="structfaiss_1_1ivflib_1_1SlidingIndexWindow_1a6347809123313ca945defdc7ddcd1465"></span><code class="sig-name descname">SlidingIndexWindow</code><span class="sig-paren">(</span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>index</em><span class="sig-paren">)</span><br /></dt>
<dd><p>index should be initially empty and trained </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss6ivflib18SlidingIndexWindow4stepEPK5Indexb">
<span id="_CPPv3N5faiss6ivflib18SlidingIndexWindow4stepEPK5Indexb"></span><span id="_CPPv2N5faiss6ivflib18SlidingIndexWindow4stepEPK5Indexb"></span><span id="faiss::ivflib::SlidingIndexWindow::step__IndexCP.b"></span><span class="target" id="structfaiss_1_1ivflib_1_1SlidingIndexWindow_1accf1c7b8de188b74de0d6827beceac7c"></span>void <code class="sig-name descname">step</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<em>sub_index</em>, bool <em>remove_oldest</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Add one index to the current index and remove the oldest one.</p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sub_index</span></code>: slice to swap in (can be NULL) </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remove_oldest</span></code>: if true, remove the oldest slices </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="cpp var">
<dt id="_CPPv4N5faiss6ivflib18SlidingIndexWindow5indexE">
<span id="_CPPv3N5faiss6ivflib18SlidingIndexWindow5indexE"></span><span id="_CPPv2N5faiss6ivflib18SlidingIndexWindow5indexE"></span><span id="faiss::ivflib::SlidingIndexWindow::index__IndexP"></span><span class="target" id="structfaiss_1_1ivflib_1_1SlidingIndexWindow_1a2aae96a9373173e22686951e85b31aa1"></span><a class="reference internal" href="../file/Index_8h.html#_CPPv4N5faiss5IndexE" title="faiss::Index">Index</a> *<code class="sig-name descname">index</code><br /></dt>
<dd><p>common index that contains the sliding window </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss6ivflib18SlidingIndexWindow3ilsE">
<span id="_CPPv3N5faiss6ivflib18SlidingIndexWindow3ilsE"></span><span id="_CPPv2N5faiss6ivflib18SlidingIndexWindow3ilsE"></span><span id="faiss::ivflib::SlidingIndexWindow::ils__ArrayInvertedListsP"></span><span class="target" id="structfaiss_1_1ivflib_1_1SlidingIndexWindow_1a10d876a9c750bc95986a22a57cf4fdc7"></span><a class="reference internal" href="../file/InvertedLists_8h.html#_CPPv4N5faiss18ArrayInvertedListsE" title="faiss::ArrayInvertedLists">ArrayInvertedLists</a> *<code class="sig-name descname">ils</code><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1InvertedLists.html#structfaiss_1_1InvertedLists"><span class="std std-ref">InvertedLists</span></a> of index. </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss6ivflib18SlidingIndexWindow7n_sliceE">
<span id="_CPPv3N5faiss6ivflib18SlidingIndexWindow7n_sliceE"></span><span id="_CPPv2N5faiss6ivflib18SlidingIndexWindow7n_sliceE"></span><span id="faiss::ivflib::SlidingIndexWindow::n_slice__i"></span><span class="target" id="structfaiss_1_1ivflib_1_1SlidingIndexWindow_1a8defa5121e371e64071c0eb956ad20d1"></span>int <code class="sig-name descname">n_slice</code><br /></dt>
<dd><p>number of slices currently in index </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss6ivflib18SlidingIndexWindow5nlistE">
<span id="_CPPv3N5faiss6ivflib18SlidingIndexWindow5nlistE"></span><span id="_CPPv2N5faiss6ivflib18SlidingIndexWindow5nlistE"></span><span id="faiss::ivflib::SlidingIndexWindow::nlist__s"></span><span class="target" id="structfaiss_1_1ivflib_1_1SlidingIndexWindow_1ac124372fd2b67bb901f0c71235165216"></span>size_t <code class="sig-name descname">nlist</code><br /></dt>
<dd><p>same as index-&gt;nlist </p>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv4N5faiss6ivflib18SlidingIndexWindow5sizesE">
<span id="_CPPv3N5faiss6ivflib18SlidingIndexWindow5sizesE"></span><span id="_CPPv2N5faiss6ivflib18SlidingIndexWindow5sizesE"></span><span id="faiss::ivflib::SlidingIndexWindow::sizes__std::vector:std::vector:s::"></span><span class="target" id="structfaiss_1_1ivflib_1_1SlidingIndexWindow_1a6dfc430601d194c428c2a25e3afa4492"></span>std::vector&lt;std::vector&lt;size_t&gt;&gt; <code class="sig-name descname">sizes</code><br /></dt>
<dd><p>cumulative list sizes at each slice </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt id="_CPPv4N5faiss12quantize_lutE">
<span id="_CPPv3N5faiss12quantize_lutE"></span><span id="_CPPv2N5faiss12quantize_lutE"></span><span id="faiss::quantize_lut"></span><span class="target" id="namespacefaiss_1_1quantize__lut"></span><em class="property">namespace </em><code class="sig-name descname">quantize_lut</code><br /></dt>
<dd><p>Functions to quantize PQ floating-point Look Up Tables (LUT) to uint8, and biases to uint16. The accumulation is supposed to take place in uint16. The quantization coefficients are float (a, b) such that <div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">original_value</span> <span class="o">=</span> <span class="n">quantized_value</span> <span class="o">*</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
</pre></div>
</div>
</p>
<p>The hardest part of the quantization is with multiple LUTs that need to be added up together. In that case, coefficient a has to be chosen so that the sum fits in a uint16 accumulator. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N5faiss12quantize_lut22round_uint8_per_columnEPf6size_t6size_tPfPf">
<span id="_CPPv3N5faiss12quantize_lut22round_uint8_per_columnEPf6size_t6size_tPfPf"></span><span id="_CPPv2N5faiss12quantize_lut22round_uint8_per_columnEPf6size_t6size_tPfPf"></span><span id="faiss::quantize_lut::round_uint8_per_column__floatP.s.s.floatP.floatP"></span><span class="target" id="namespacefaiss_1_1quantize__lut_1a71df0d46800a39a482d566c091623785"></span>void <code class="sig-name descname">round_uint8_per_column</code><span class="sig-paren">(</span>float *<em>tab</em>, size_t <em>n</em>, size_t <em>d</em>, float *<em>a_out</em> = nullptr, float *<em>b_out</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12quantize_lut28round_uint8_per_column_multiEPf6size_t6size_t6size_tPfPf">
<span id="_CPPv3N5faiss12quantize_lut28round_uint8_per_column_multiEPf6size_t6size_t6size_tPfPf"></span><span id="_CPPv2N5faiss12quantize_lut28round_uint8_per_column_multiEPf6size_t6size_t6size_tPfPf"></span><span id="faiss::quantize_lut::round_uint8_per_column_multi__floatP.s.s.s.floatP.floatP"></span><span class="target" id="namespacefaiss_1_1quantize__lut_1aaca4bcc4d17e5c66dbc07a7f93cad911"></span>void <code class="sig-name descname">round_uint8_per_column_multi</code><span class="sig-paren">(</span>float *<em>tab</em>, size_t <em>m</em>, size_t <em>n</em>, size_t <em>d</em>, float *<em>a_out</em> = nullptr, float *<em>b_out</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N5faiss12quantize_lut21quantize_LUT_and_biasE6size_t6size_t6size_tbPKfPKfP7uint8_t6size_tP8uint16_tPfPf">
<span id="_CPPv3N5faiss12quantize_lut21quantize_LUT_and_biasE6size_t6size_t6size_tbPKfPKfP7uint8_t6size_tP8uint16_tPfPf"></span><span id="_CPPv2N5faiss12quantize_lut21quantize_LUT_and_biasE6size_t6size_t6size_tbPKfPKfP7uint8_t6size_tP8uint16_tPfPf"></span><span id="faiss::quantize_lut::quantize_LUT_and_bias__s.s.s.b.floatCP.floatCP.uint8_tP.s.uint16_tP.floatP.floatP"></span><span class="target" id="namespacefaiss_1_1quantize__lut_1a352d817a7e7c95c57c2cce10b77e3248"></span>void <code class="sig-name descname">quantize_LUT_and_bias</code><span class="sig-paren">(</span>size_t <em>nprobe</em>, size_t <em>M</em>, size_t <em>ksub</em>, bool <em>lut_is_3d</em>, <em class="property">const</em> float *<em>LUT</em>, <em class="property">const</em> float *<em>bias</em>, uint8_t *<em>LUTq</em>, size_t <em>M2</em>, uint16_t *<em>biasq</em>, float *<em>a_out</em> = nullptr, float *<em>b_out</em> = nullptr<span class="sig-paren">)</span><br /></dt>
<dd><p>LUT quantization to uint8 and bias to uint16.</p>
<p>(nprobe, M, ksub, lut_is_3d) determine the size of the the LUT</p>
<p>LUT input:<ul class="simple">
<li><p>2D size (M, ksub): single matrix per probe (lut_is_3d=false)</p></li>
<li><p>3D size (nprobe, M, ksub): separate LUT per probe (lut_is_3d=true) bias input:</p></li>
<li><p>nullptr: bias is 0</p></li>
<li><p>size (nprobe): one bias per probe Output:</p></li>
<li><p>LUTq uint8 version of the LUT (M size is rounded up to M2)</p></li>
<li><p>biasq (or nullptr): uint16 version of the LUT</p></li>
<li><p>a, b: scalars to approximate the true distance </p></li>
</ul>
</p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="namespacefaiss_1_1gpu.html" class="btn btn-neutral float-right" title="Namespace faiss::gpu" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../namespacelist.html" class="btn btn-neutral float-left" title="Namespace list" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Facebook, Inc. and its affiliates..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>